{"ast":null,"code":"import { forkJoin } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/task.service\";\nimport * as i2 from \"@angular/common\";\nfunction AutoAssignComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.error.tasks);\n  }\n}\nfunction AutoAssignComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.error.suggestions);\n  }\n}\nfunction AutoAssignComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.error.assign);\n  }\n}\nfunction AutoAssignComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelement(1, \"i\", 9);\n    i0.ɵɵtext(2, \" Tasks successfully assigned! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AutoAssignComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 12)(3, \"span\", 13);\n    i0.ɵɵtext(4, \"Loading...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"p\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r4.loading.tasks ? \"Loading tasks...\" : \"Analyzing developer performance...\");\n  }\n}\nfunction AutoAssignComponent_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11)(2, \"div\", 15);\n    i0.ɵɵelement(3, \"i\", 16);\n    i0.ɵɵtext(4, \" No \\\"Dev-New\\\" tasks available for assignment. \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AutoAssignComponent_div_13_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Confirm & Assign All\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AutoAssignComponent_div_13_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 37);\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 44)(2, \"span\", 45);\n    i0.ɵɵtext(3, \"AI Pick\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const task_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r11.extractDeveloperName(ctx_r11.autoAssignSuggestions[task_r10.id]));\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_span_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵtext(1, \"No suggestion available\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_span_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r13.extractLogicExplanation(ctx_r13.autoAssignSuggestions[task_r10.id]), \" \");\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_button_17_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Confirm & Assign\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_button_17_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 37);\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_button_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function AutoAssignComponent_div_13_tr_37_button_17_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r22);\n      const task_r10 = i0.ɵɵnextContext().$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r20.assignTask(task_r10.id, ctx_r20.autoAssignSuggestions[task_r10.id]));\n    });\n    i0.ɵɵelement(1, \"i\", 48);\n    i0.ɵɵtemplate(2, AutoAssignComponent_div_13_tr_37_button_17_span_2_Template, 2, 0, \"span\", 22);\n    i0.ɵɵtemplate(3, AutoAssignComponent_div_13_tr_37_button_17_span_3_Template, 1, 0, \"span\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r14.loading.assign);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r14.loading.assign);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.loading.assign);\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_button_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 49);\n    i0.ɵɵelement(1, \"i\", 50);\n    i0.ɵɵtext(2, \" No Recommendation \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AutoAssignComponent_div_13_tr_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\")(4, \"span\", 38);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 39);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtemplate(12, AutoAssignComponent_div_13_tr_37_ng_container_12_Template, 6, 1, \"ng-container\", 22);\n    i0.ɵɵtemplate(13, AutoAssignComponent_div_13_tr_37_span_13_Template, 2, 0, \"span\", 40);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtemplate(15, AutoAssignComponent_div_13_tr_37_span_15_Template, 2, 1, \"span\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtemplate(17, AutoAssignComponent_div_13_tr_37_button_17_Template, 4, 3, \"button\", 42);\n    i0.ɵɵtemplate(18, AutoAssignComponent_div_13_tr_37_button_18_Template, 3, 0, \"button\", 43);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const task_r10 = ctx.$implicit;\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r10.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r10.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r10.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(task_r10.status);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.autoAssignSuggestions[task_r10.id]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r9.autoAssignSuggestions[task_r10.id]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.autoAssignSuggestions[task_r10.id]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.autoAssignSuggestions[task_r10.id]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r9.autoAssignSuggestions[task_r10.id]);\n  }\n}\nfunction AutoAssignComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 2)(2, \"div\", 17)(3, \"div\", 18)(4, \"h4\", 19);\n    i0.ɵɵtext(5, \"Tasks Ready for Assignment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function AutoAssignComponent_div_13_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.confirmAndAssignAll());\n    });\n    i0.ɵɵelement(7, \"i\", 21);\n    i0.ɵɵtemplate(8, AutoAssignComponent_div_13_span_8_Template, 2, 0, \"span\", 22);\n    i0.ɵɵtemplate(9, AutoAssignComponent_div_13_span_9_Template, 1, 0, \"span\", 23);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 24)(11, \"div\", 25)(12, \"div\", 2)(13, \"div\", 26)(14, \"strong\");\n    i0.ɵɵelement(15, \"i\", 16);\n    i0.ɵɵtext(16, \"Preview:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \" Review the AI-suggested assignments below before confirming. \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"div\", 27)(19, \"table\", 28)(20, \"thead\")(21, \"tr\")(22, \"th\");\n    i0.ɵɵtext(23, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\");\n    i0.ɵɵtext(25, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"th\");\n    i0.ɵɵtext(27, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\");\n    i0.ɵɵtext(29, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"th\");\n    i0.ɵɵtext(31, \"Suggested Assignee\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\");\n    i0.ɵɵtext(33, \"Assignment Logic\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"th\");\n    i0.ɵɵtext(35, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(36, \"tbody\");\n    i0.ɵɵtemplate(37, AutoAssignComponent_div_13_tr_37_Template, 19, 9, \"tr\", 29);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(38, \"div\", 30)(39, \"h5\");\n    i0.ɵɵtext(40, \"Assignment Logic Explanation:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"ul\", 31)(42, \"li\", 32);\n    i0.ɵɵelement(43, \"i\", 33);\n    i0.ɵɵelementStart(44, \"strong\");\n    i0.ɵɵtext(45, \"Past Performance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \" - Developers who completed similar tasks recently \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"li\", 32);\n    i0.ɵɵelement(48, \"i\", 34);\n    i0.ɵɵelementStart(49, \"strong\");\n    i0.ɵɵtext(50, \"Active Load\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \" - Developers with the least number of active tasks \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"li\", 32);\n    i0.ɵɵelement(53, \"i\", 35);\n    i0.ɵɵelementStart(54, \"strong\");\n    i0.ɵɵtext(55, \"Recent Completion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \" - Developers who recently completed tasks and have no active tasks \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"li\", 32);\n    i0.ɵɵelement(58, \"i\", 36);\n    i0.ɵɵelementStart(59, \"strong\");\n    i0.ɵɵtext(60, \"Fallback\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(61, \" - If no match from history, assign to developer with least total task count \");\n    i0.ɵɵelementEnd()()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.loading.assign || ctx_r6.bulkAssignDisabled());\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.loading.assign);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.loading.assign);\n    i0.ɵɵadvance(28);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.tasks);\n  }\n}\nexport class AutoAssignComponent {\n  constructor(taskService) {\n    this.taskService = taskService;\n    this.tasks = [];\n    this.currentIterationPath = '';\n    this.autoAssignSuggestions = {};\n    this.assignmentSuccess = false;\n    this.loading = {\n      tasks: false,\n      suggestions: false,\n      assign: false\n    };\n    this.error = {\n      tasks: null,\n      suggestions: null,\n      assign: null\n    };\n  }\n  ngOnInit() {\n    // For demo purposes, use a default iteration path\n    this.currentIterationPath = 'Techoil\\\\2.3.23';\n    this.loadTasks();\n  }\n  loadTasks() {\n    this.loading.tasks = true;\n    this.error.tasks = null;\n    this.assignmentSuccess = false;\n    this.taskService.getTasks(this.currentIterationPath).subscribe({\n      next: tasks => {\n        // Filter for Dev-New tasks, removing type filter to match requirements\n        this.tasks = tasks.filter(t => t.status === 'Dev-New' && !t.assignedTo);\n        this.loading.tasks = false;\n        // If we have tasks, load the suggestions\n        if (this.tasks.length > 0) {\n          this.loadAutoAssignSuggestions();\n        }\n      },\n      error: err => {\n        this.error.tasks = `Failed to load tasks: ${err.message}`;\n        this.loading.tasks = false;\n      }\n    });\n  }\n  loadAutoAssignSuggestions() {\n    this.loading.suggestions = true;\n    this.error.suggestions = null;\n    this.taskService.getAutoAssignSuggestions(this.currentIterationPath).subscribe({\n      next: suggestions => {\n        this.autoAssignSuggestions = suggestions;\n        this.loading.suggestions = false;\n      },\n      error: err => {\n        this.error.suggestions = `Failed to load auto-assign suggestions: ${err.message}`;\n        this.loading.suggestions = false;\n      }\n    });\n  }\n  assignTask(taskId, assignedTo) {\n    this.loading.assign = true;\n    this.error.assign = null;\n    this.assignmentSuccess = false;\n    // Extract just the name from the suggestion string\n    const developerName = this.extractDeveloperName(assignedTo);\n    this.taskService.assignTask(taskId, developerName).subscribe({\n      next: () => {\n        // Remove the assigned task from the list\n        this.tasks = this.tasks.filter(t => t.id !== taskId);\n        this.loading.assign = false;\n        this.assignmentSuccess = true;\n        // Reset success message after a delay\n        setTimeout(() => this.assignmentSuccess = false, 5000);\n      },\n      error: err => {\n        this.error.assign = `Failed to assign task: ${err.message}`;\n        this.loading.assign = false;\n      }\n    });\n  }\n  /**\r\n   * Extracts just the developer name from the suggestion string\r\n   * Format is typically \"Name (explanation)\"\r\n   */\n  extractDeveloperName(suggestion) {\n    if (!suggestion) return '';\n    const parts = suggestion.split(' (');\n    return parts[0];\n  }\n  /**\r\n   * Extracts the logic explanation from the suggestion string\r\n   * Format is typically \"Name (explanation)\"\r\n   */\n  extractLogicExplanation(suggestion) {\n    if (!suggestion) return '';\n    const match = suggestion.match(/\\((.*?)\\)/);\n    return match ? match[1] : '';\n  }\n  /**\r\n   * Check if bulk assign should be disabled\r\n   */\n  bulkAssignDisabled() {\n    // Disable if no tasks or no suggestions\n    return this.tasks.length === 0 || Object.keys(this.autoAssignSuggestions).length === 0 || this.tasks.some(task => !this.autoAssignSuggestions[task.id]);\n  }\n  /**\r\n   * Confirm and assign all tasks to their suggested developers\r\n   */\n  confirmAndAssignAll() {\n    this.loading.assign = true;\n    this.error.assign = null;\n    this.assignmentSuccess = false;\n    // Create an array of assignment observables\n    const assignmentObservables = [];\n    this.tasks.forEach(task => {\n      if (this.autoAssignSuggestions[task.id]) {\n        const developerName = this.extractDeveloperName(this.autoAssignSuggestions[task.id]);\n        assignmentObservables.push(this.taskService.assignTask(task.id, developerName));\n      }\n    });\n    // Execute all assignments in parallel\n    if (assignmentObservables.length > 0) {\n      forkJoin(assignmentObservables).subscribe({\n        next: () => {\n          this.loading.assign = false;\n          this.assignmentSuccess = true;\n          // Reload tasks to refresh the list\n          this.loadTasks();\n        },\n        error: err => {\n          this.error.assign = `Failed to assign some tasks: ${err.message}`;\n          this.loading.assign = false;\n          // Reload tasks to refresh the list\n          this.loadTasks();\n        }\n      });\n    } else {\n      this.loading.assign = false;\n    }\n  }\n  static {\n    this.ɵfac = function AutoAssignComponent_Factory(t) {\n      return new (t || AutoAssignComponent)(i0.ɵɵdirectiveInject(i1.TaskService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AutoAssignComponent,\n      selectors: [[\"app-auto-assign\"]],\n      decls: 14,\n      vars: 7,\n      consts: [[1, \"container-fluid\", \"p-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"text-muted\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-success\"], [1, \"bi\", \"bi-check-circle\", \"me-2\"], [1, \"row\"], [1, \"col-12\", \"text-center\", \"py-5\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"mt-2\"], [1, \"alert\", \"alert-info\"], [1, \"bi\", \"bi-info-circle\", \"me-2\"], [1, \"card\"], [1, \"card-header\", \"bg-primary\", \"text-white\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"mb-0\"], [1, \"btn\", \"btn-light\", 3, \"disabled\", \"click\"], [1, \"bi\", \"bi-magic\", \"me-2\"], [4, \"ngIf\"], [\"class\", \"spinner-border spinner-border-sm\", \"role\", \"status\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [1, \"card-body\"], [1, \"row\", \"mb-3\"], [1, \"alert\", \"alert-primary\"], [1, \"table-responsive\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mt-4\"], [1, \"list-group\"], [1, \"list-group-item\"], [1, \"bi\", \"bi-trophy\", \"text-warning\", \"me-2\"], [1, \"bi\", \"bi-speedometer2\", \"text-info\", \"me-2\"], [1, \"bi\", \"bi-check-circle\", \"text-success\", \"me-2\"], [1, \"bi\", \"bi-person-plus\", \"text-primary\", \"me-2\"], [\"role\", \"status\", \"aria-hidden\", \"true\", 1, \"spinner-border\", \"spinner-border-sm\"], [1, \"badge\", \"bg-info\", \"text-dark\"], [1, \"badge\", \"bg-secondary\"], [\"class\", \"text-muted\", 4, \"ngIf\"], [\"class\", \"text-muted small\", 4, \"ngIf\"], [\"class\", \"btn btn-primary btn-sm\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-secondary btn-sm\", \"disabled\", \"\", 4, \"ngIf\"], [1, \"d-flex\", \"align-items-center\"], [1, \"badge\", \"bg-success\", \"me-2\"], [1, \"text-muted\", \"small\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"disabled\", \"click\"], [1, \"bi\", \"bi-person-check\", \"me-1\"], [\"disabled\", \"\", 1, \"btn\", \"btn-secondary\", \"btn-sm\"], [1, \"bi\", \"bi-person-x\", \"me-1\"]],\n      template: function AutoAssignComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\");\n          i0.ɵɵtext(4, \"AI Task Auto-Assignment\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 3);\n          i0.ɵɵtext(6, \"Automatically assign \\\"Dev-New\\\" tasks to the most suitable developers based on past performance.\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, AutoAssignComponent_div_7_Template, 2, 1, \"div\", 4);\n          i0.ɵɵtemplate(8, AutoAssignComponent_div_8_Template, 2, 1, \"div\", 4);\n          i0.ɵɵtemplate(9, AutoAssignComponent_div_9_Template, 2, 1, \"div\", 4);\n          i0.ɵɵtemplate(10, AutoAssignComponent_div_10_Template, 3, 0, \"div\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(11, AutoAssignComponent_div_11_Template, 7, 1, \"div\", 6);\n          i0.ɵɵtemplate(12, AutoAssignComponent_div_12_Template, 5, 0, \"div\", 6);\n          i0.ɵɵtemplate(13, AutoAssignComponent_div_13_Template, 62, 4, \"div\", 6);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.tasks);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.suggestions);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.assign);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.assignmentSuccess);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading.tasks || ctx.loading.suggestions);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading.tasks && !ctx.loading.suggestions && ctx.tasks.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading.tasks && !ctx.loading.suggestions && ctx.tasks.length > 0);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf],\n      styles: [\".badge[_ngcontent-%COMP%] {\\n  font-size: 0.8rem;\\n}\\n\\n.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n}\\n\\n.card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  font-size: 1.25rem;\\n}\\n\\n.badge.bg-success[_ngcontent-%COMP%] {\\n  background-color: #198754 !important;\\n}\\n\\n.badge.bg-info[_ngcontent-%COMP%] {\\n  background-color: #0dcaf0 !important;\\n}\\n\\n.badge.bg-secondary[_ngcontent-%COMP%] {\\n  background-color: #6c757d !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9hdXRvLWFzc2lnbi9hdXRvLWFzc2lnbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7QUFDRjs7QUFFQTtFQUNFLG9DQUFBO0FBQ0Y7O0FBRUE7RUFDRSxvQ0FBQTtBQUNGOztBQUVBO0VBQ0Usb0NBQUE7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi5iYWRnZSB7XHJcbiAgZm9udC1zaXplOiAwLjhyZW07XHJcbn1cclxuXHJcbi50YWJsZSB0aCB7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxufVxyXG5cclxuLmNhcmQtaGVhZGVyIGg0IHtcclxuICBmb250LXNpemU6IDEuMjVyZW07XHJcbn1cclxuXHJcbi5iYWRnZS5iZy1zdWNjZXNzIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTk4NzU0ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5iYWRnZS5iZy1pbmZvIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGRjYWYwICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5iYWRnZS5iZy1zZWNvbmRhcnkge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM2Yzc1N2QgIWltcG9ydGFudDtcclxufSAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AAGA,SAASA,QAAQ,QAAoB,MAAM;;;;;;ICIrCC,8BAAoD;IAAAA,YAAiB;IAAAA,iBAAM;;;;IAAvBA,eAAiB;IAAjBA,wCAAiB;;;;;IACrEA,8BAA0D;IAAAA,YAAuB;IAAAA,iBAAM;;;;IAA7BA,eAAuB;IAAvBA,8CAAuB;;;;;IACjFA,8BAAqD;IAAAA,YAAkB;IAAAA,iBAAM;;;;IAAxBA,eAAkB;IAAlBA,yCAAkB;;;;;IAGvEA,8BAA2D;IACzDA,uBAAuC;IACvCA,8CACF;IAAAA,iBAAM;;;;;IAKVA,+BAA8D;IAG1BA,0BAAU;IAAAA,iBAAO;IAEjDA,6BAAgB;IAAAA,YAA+E;IAAAA,iBAAI;;;;IAAnFA,eAA+E;IAA/EA,sGAA+E;;;;;IAKnGA,+BAAsF;IAGhFA,wBAAsC;IACtCA,gEACF;IAAAA,iBAAM;;;;;IAiBAA,4BAA8B;IAAAA,oCAAoB;IAAAA,iBAAO;;;;;IACzDA,2BAA8G;;;;;IAoCtGA,6BAAqD;IACnDA,+BAAuC;IACDA,uBAAO;IAAAA,iBAAO;IAClDA,8BAAQ;IAAAA,YAA0D;IAAAA,iBAAS;IAE/EA,0BAAe;;;;;IAFHA,eAA0D;IAA1DA,8FAA0D;;;;;IAGtEA,+BAAiE;IAAAA,uCAAuB;IAAAA,iBAAO;;;;;IAG/FA,gCAAsE;IACpEA,YACF;IAAAA,iBAAO;;;;;IADLA,eACF;IADEA,4GACF;;;;;IASEA,4BAA8B;IAAAA,gCAAgB;IAAAA,iBAAO;;;;;IACrDA,2BAA8G;;;;;;IAPhHA,kCAIgE;IAA9DA;MAAAA;MAAA;MAAA;MAAA,OAASA,0FAAmD;IAAA,EAAC;IAC7DA,wBAAuC;IACvCA,8FAAqD;IACrDA,8FAA8G;IAChHA,iBAAS;;;;IALPA,iDAA2B;IAGpBA,eAAqB;IAArBA,8CAAqB;IACrBA,eAAoB;IAApBA,6CAAoB;;;;;IAE7BA,kCAGW;IACTA,wBAAmC;IACnCA,mCACF;IAAAA,iBAAS;;;;;IAvCbA,0BAA+B;IACzBA,YAAa;IAAAA,iBAAK;IACtBA,0BAAI;IACoCA,YAAe;IAAAA,iBAAO;IAE9DA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAC+BA,aAAiB;IAAAA,iBAAO;IAE3DA,2BAAI;IACFA,sGAKe;IACfA,sFAA+F;IACjGA,iBAAK;IACLA,2BAAI;IACFA,sFAEO;IACTA,iBAAK;IACLA,2BAAI;IACFA,0FAQS;IACTA,0FAMS;IACXA,iBAAK;;;;;IAvCDA,eAAa;IAAbA,iCAAa;IAEuBA,eAAe;IAAfA,mCAAe;IAEnDA,eAAgB;IAAhBA,oCAAgB;IAEeA,eAAiB;IAAjBA,qCAAiB;IAGnCA,eAAoC;IAApCA,gEAAoC;IAM5CA,eAAqC;IAArCA,iEAAqC;IAGrCA,eAAoC;IAApCA,gEAAoC;IAMxCA,eAAoC;IAApCA,gEAAoC;IASpCA,eAAqC;IAArCA,iEAAqC;;;;;;IAzE1DA,+BAAoF;IAI3DA,0CAA0B;IAAAA,iBAAK;IAGhDA,kCAGkC;IAAhCA;MAAAA;MAAA;MAAA,OAASA,4CAAqB;IAAA,EAAC;IAC/BA,wBAAgC;IAChCA,8EAAyD;IACzDA,8EAA8G;IAChHA,iBAAS;IAEXA,gCAAuB;IAIPA,yBAAsC;IAAAA,yBAAQ;IAAAA,iBAAS;IAACA,+EAClE;IAAAA,iBAAM;IAIVA,gCAA8B;IAIlBA,mBAAE;IAAAA,iBAAK;IACXA,2BAAI;IAAAA,qBAAI;IAAAA,iBAAK;IACbA,2BAAI;IAAAA,sBAAK;IAAAA,iBAAK;IACdA,2BAAI;IAAAA,uBAAM;IAAAA,iBAAK;IACfA,2BAAI;IAAAA,mCAAkB;IAAAA,iBAAK;IAC3BA,2BAAI;IAAAA,iCAAgB;IAAAA,iBAAK;IACzBA,2BAAI;IAAAA,uBAAM;IAAAA,iBAAK;IAGnBA,8BAAO;IACLA,6EAyCK;IACPA,iBAAQ;IAKZA,gCAAkB;IACZA,8CAA6B;IAAAA,iBAAK;IACtCA,+BAAuB;IAEnBA,yBAA8C;IAC9CA,+BAAQ;IAAAA,iCAAgB;IAAAA,iBAAS;IAACA,oEACpC;IAAAA,iBAAK;IACLA,+BAA4B;IAC1BA,yBAAiD;IACjDA,+BAAQ;IAAAA,4BAAW;IAAAA,iBAAS;IAACA,qEAC/B;IAAAA,iBAAK;IACLA,+BAA4B;IAC1BA,yBAAoD;IACpDA,+BAAQ;IAAAA,kCAAiB;IAAAA,iBAAS;IAACA,qFACrC;IAAAA,iBAAK;IACLA,+BAA4B;IAC1BA,yBAAmD;IACnDA,+BAAQ;IAAAA,yBAAQ;IAAAA,iBAAS;IAACA,8FAC5B;IAAAA,iBAAK;;;;IA/FPA,eAAmD;IAAnDA,+EAAmD;IAG5CA,eAAqB;IAArBA,6CAAqB;IACrBA,eAAoB;IAApBA,4CAAoB;IA0BFA,gBAAQ;IAARA,sCAAQ;;;ADrE7C,OAAM,MAAOC,mBAAmB;EAgB9BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAf/B,UAAK,GAAe,EAAE;IACtB,yBAAoB,GAAW,EAAE;IACjC,0BAAqB,GAA2B,EAAE;IAClD,sBAAiB,GAAY,KAAK;IAClC,YAAO,GAAG;MACRC,KAAK,EAAE,KAAK;MACZC,WAAW,EAAE,KAAK;MAClBC,MAAM,EAAE;KACT;IACD,UAAK,GAAG;MACNF,KAAK,EAAE,IAAqB;MAC5BC,WAAW,EAAE,IAAqB;MAClCC,MAAM,EAAE;KACT;EAE+C;EAEhDC,QAAQ;IACN;IACA,IAAI,CAACC,oBAAoB,GAAG,iBAAiB;IAC7C,IAAI,CAACC,SAAS,EAAE;EAClB;EAEAA,SAAS;IACP,IAAI,CAACC,OAAO,CAACN,KAAK,GAAG,IAAI;IACzB,IAAI,CAACO,KAAK,CAACP,KAAK,GAAG,IAAI;IACvB,IAAI,CAACQ,iBAAiB,GAAG,KAAK;IAE9B,IAAI,CAACT,WAAW,CAACU,QAAQ,CAAC,IAAI,CAACL,oBAAoB,CAAC,CAACM,SAAS,CAAC;MAC7DC,IAAI,EAAGX,KAAK,IAAI;QACd;QACA,IAAI,CAACA,KAAK,GAAGA,KAAK,CAACY,MAAM,CAACC,CAAC,IACzBA,CAAC,CAACC,MAAM,KAAK,SAAS,IACtB,CAACD,CAAC,CAACE,UAAU,CACd;QACD,IAAI,CAACT,OAAO,CAACN,KAAK,GAAG,KAAK;QAE1B;QACA,IAAI,IAAI,CAACA,KAAK,CAACgB,MAAM,GAAG,CAAC,EAAE;UACzB,IAAI,CAACC,yBAAyB,EAAE;;MAEpC,CAAC;MACDV,KAAK,EAAGW,GAAG,IAAI;QACb,IAAI,CAACX,KAAK,CAACP,KAAK,GAAG,yBAAyBkB,GAAG,CAACC,OAAO,EAAE;QACzD,IAAI,CAACb,OAAO,CAACN,KAAK,GAAG,KAAK;MAC5B;KACD,CAAC;EACJ;EAEAiB,yBAAyB;IACvB,IAAI,CAACX,OAAO,CAACL,WAAW,GAAG,IAAI;IAC/B,IAAI,CAACM,KAAK,CAACN,WAAW,GAAG,IAAI;IAE7B,IAAI,CAACF,WAAW,CAACqB,wBAAwB,CAAC,IAAI,CAAChB,oBAAoB,CAAC,CAACM,SAAS,CAAC;MAC7EC,IAAI,EAAGV,WAAW,IAAI;QACpB,IAAI,CAACoB,qBAAqB,GAAGpB,WAAW;QACxC,IAAI,CAACK,OAAO,CAACL,WAAW,GAAG,KAAK;MAClC,CAAC;MACDM,KAAK,EAAGW,GAAG,IAAI;QACb,IAAI,CAACX,KAAK,CAACN,WAAW,GAAG,2CAA2CiB,GAAG,CAACC,OAAO,EAAE;QACjF,IAAI,CAACb,OAAO,CAACL,WAAW,GAAG,KAAK;MAClC;KACD,CAAC;EACJ;EAEAqB,UAAU,CAACC,MAAc,EAAER,UAAkB;IAC3C,IAAI,CAACT,OAAO,CAACJ,MAAM,GAAG,IAAI;IAC1B,IAAI,CAACK,KAAK,CAACL,MAAM,GAAG,IAAI;IACxB,IAAI,CAACM,iBAAiB,GAAG,KAAK;IAE9B;IACA,MAAMgB,aAAa,GAAG,IAAI,CAACC,oBAAoB,CAACV,UAAU,CAAC;IAE3D,IAAI,CAAChB,WAAW,CAACuB,UAAU,CAACC,MAAM,EAAEC,aAAa,CAAC,CAACd,SAAS,CAAC;MAC3DC,IAAI,EAAE,MAAK;QACT;QACA,IAAI,CAACX,KAAK,GAAG,IAAI,CAACA,KAAK,CAACY,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKH,MAAM,CAAC;QACpD,IAAI,CAACjB,OAAO,CAACJ,MAAM,GAAG,KAAK;QAC3B,IAAI,CAACM,iBAAiB,GAAG,IAAI;QAE7B;QACAmB,UAAU,CAAC,MAAM,IAAI,CAACnB,iBAAiB,GAAG,KAAK,EAAE,IAAI,CAAC;MACxD,CAAC;MACDD,KAAK,EAAGW,GAAG,IAAI;QACb,IAAI,CAACX,KAAK,CAACL,MAAM,GAAG,0BAA0BgB,GAAG,CAACC,OAAO,EAAE;QAC3D,IAAI,CAACb,OAAO,CAACJ,MAAM,GAAG,KAAK;MAC7B;KACD,CAAC;EACJ;EAEA;;;;EAIAuB,oBAAoB,CAACG,UAAkB;IACrC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE;IAC1B,MAAMC,KAAK,GAAGD,UAAU,CAACE,KAAK,CAAC,IAAI,CAAC;IACpC,OAAOD,KAAK,CAAC,CAAC,CAAC;EACjB;EAEA;;;;EAIAE,uBAAuB,CAACH,UAAkB;IACxC,IAAI,CAACA,UAAU,EAAE,OAAO,EAAE;IAC1B,MAAMI,KAAK,GAAGJ,UAAU,CAACI,KAAK,CAAC,WAAW,CAAC;IAC3C,OAAOA,KAAK,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE;EAC9B;EAEA;;;EAGAC,kBAAkB;IAChB;IACA,OAAO,IAAI,CAACjC,KAAK,CAACgB,MAAM,KAAK,CAAC,IACvBkB,MAAM,CAACC,IAAI,CAAC,IAAI,CAACd,qBAAqB,CAAC,CAACL,MAAM,KAAK,CAAC,IACpD,IAAI,CAAChB,KAAK,CAACoC,IAAI,CAACC,IAAI,IAAI,CAAC,IAAI,CAAChB,qBAAqB,CAACgB,IAAI,CAACX,EAAE,CAAC,CAAC;EACtE;EAEA;;;EAGAY,mBAAmB;IACjB,IAAI,CAAChC,OAAO,CAACJ,MAAM,GAAG,IAAI;IAC1B,IAAI,CAACK,KAAK,CAACL,MAAM,GAAG,IAAI;IACxB,IAAI,CAACM,iBAAiB,GAAG,KAAK;IAE9B;IACA,MAAM+B,qBAAqB,GAAsB,EAAE;IAEnD,IAAI,CAACvC,KAAK,CAACwC,OAAO,CAACH,IAAI,IAAG;MACxB,IAAI,IAAI,CAAChB,qBAAqB,CAACgB,IAAI,CAACX,EAAE,CAAC,EAAE;QACvC,MAAMF,aAAa,GAAG,IAAI,CAACC,oBAAoB,CAAC,IAAI,CAACJ,qBAAqB,CAACgB,IAAI,CAACX,EAAE,CAAC,CAAC;QACpFa,qBAAqB,CAACE,IAAI,CAAC,IAAI,CAAC1C,WAAW,CAACuB,UAAU,CAACe,IAAI,CAACX,EAAE,EAAEF,aAAa,CAAC,CAAC;;IAEnF,CAAC,CAAC;IAEF;IACA,IAAIe,qBAAqB,CAACvB,MAAM,GAAG,CAAC,EAAE;MACpCrB,QAAQ,CAAC4C,qBAAqB,CAAC,CAAC7B,SAAS,CAAC;QACxCC,IAAI,EAAE,MAAK;UACT,IAAI,CAACL,OAAO,CAACJ,MAAM,GAAG,KAAK;UAC3B,IAAI,CAACM,iBAAiB,GAAG,IAAI;UAE7B;UACA,IAAI,CAACH,SAAS,EAAE;QAClB,CAAC;QACDE,KAAK,EAAGW,GAAG,IAAI;UACb,IAAI,CAACX,KAAK,CAACL,MAAM,GAAG,gCAAgCgB,GAAG,CAACC,OAAO,EAAE;UACjE,IAAI,CAACb,OAAO,CAACJ,MAAM,GAAG,KAAK;UAE3B;UACA,IAAI,CAACG,SAAS,EAAE;QAClB;OACD,CAAC;KACH,MAAM;MACL,IAAI,CAACC,OAAO,CAACJ,MAAM,GAAG,KAAK;;EAE/B;;;uBAhKWL,mBAAmB;IAAA;EAAA;;;YAAnBA,mBAAmB;MAAA6C;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UCVhClD,8BAAiC;UAGvBA,uCAAuB;UAAAA,iBAAK;UAChCA,4BAAsB;UAAAA,iHAA+F;UAAAA,iBAAI;UAGzHA,oEAA2E;UAC3EA,oEAAuF;UACvFA,oEAA6E;UAG7EA,sEAGM;UACRA,iBAAM;UAIRA,sEAOM;UAGNA,sEAOM;UAGNA,uEA8GM;UACRA,iBAAM;;;UAhJMA,eAAiB;UAAjBA,sCAAiB;UACjBA,eAAuB;UAAvBA,4CAAuB;UACvBA,eAAkB;UAAlBA,uCAAkB;UAGlBA,eAAuB;UAAvBA,4CAAuB;UAQ3BA,eAA0C;UAA1CA,mEAA0C;UAU1CA,eAAkE;UAAlEA,+FAAkE;UAUlEA,eAAgE;UAAhEA,6FAAgE","names":["forkJoin","i0","AutoAssignComponent","constructor","taskService","tasks","suggestions","assign","ngOnInit","currentIterationPath","loadTasks","loading","error","assignmentSuccess","getTasks","subscribe","next","filter","t","status","assignedTo","length","loadAutoAssignSuggestions","err","message","getAutoAssignSuggestions","autoAssignSuggestions","assignTask","taskId","developerName","extractDeveloperName","id","setTimeout","suggestion","parts","split","extractLogicExplanation","match","bulkAssignDisabled","Object","keys","some","task","confirmAndAssignAll","assignmentObservables","forEach","push","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["E:\\Project-AI\\AI-Scrum\\frontend\\src\\app\\components\\auto-assign\\auto-assign.component.ts","E:\\Project-AI\\AI-Scrum\\frontend\\src\\app\\components\\auto-assign\\auto-assign.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { TaskService } from '../../services/task.service';\r\nimport { WorkItem } from '../../models/task.model';\r\nimport { forkJoin, Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'app-auto-assign',\r\n  templateUrl: './auto-assign.component.html',\r\n  styleUrls: ['./auto-assign.component.scss']\r\n})\r\nexport class AutoAssignComponent implements OnInit {\r\n  tasks: WorkItem[] = [];\r\n  currentIterationPath: string = '';\r\n  autoAssignSuggestions: Record<string, string> = {};\r\n  assignmentSuccess: boolean = false;\r\n  loading = {\r\n    tasks: false,\r\n    suggestions: false,\r\n    assign: false\r\n  };\r\n  error = {\r\n    tasks: null as string | null,\r\n    suggestions: null as string | null,\r\n    assign: null as string | null\r\n  };\r\n\r\n  constructor(private taskService: TaskService) { }\r\n\r\n  ngOnInit(): void {\r\n    // For demo purposes, use a default iteration path\r\n    this.currentIterationPath = 'Techoil\\\\2.3.23';\r\n    this.loadTasks();\r\n  }\r\n\r\n  loadTasks(): void {\r\n    this.loading.tasks = true;\r\n    this.error.tasks = null;\r\n    this.assignmentSuccess = false;\r\n    \r\n    this.taskService.getTasks(this.currentIterationPath).subscribe({\r\n      next: (tasks) => {\r\n        // Filter for Dev-New tasks, removing type filter to match requirements\r\n        this.tasks = tasks.filter(t => \r\n          t.status === 'Dev-New' && \r\n          !t.assignedTo\r\n        );\r\n        this.loading.tasks = false;\r\n        \r\n        // If we have tasks, load the suggestions\r\n        if (this.tasks.length > 0) {\r\n          this.loadAutoAssignSuggestions();\r\n        }\r\n      },\r\n      error: (err) => {\r\n        this.error.tasks = `Failed to load tasks: ${err.message}`;\r\n        this.loading.tasks = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  loadAutoAssignSuggestions(): void {\r\n    this.loading.suggestions = true;\r\n    this.error.suggestions = null;\r\n    \r\n    this.taskService.getAutoAssignSuggestions(this.currentIterationPath).subscribe({\r\n      next: (suggestions) => {\r\n        this.autoAssignSuggestions = suggestions;\r\n        this.loading.suggestions = false;\r\n      },\r\n      error: (err) => {\r\n        this.error.suggestions = `Failed to load auto-assign suggestions: ${err.message}`;\r\n        this.loading.suggestions = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  assignTask(taskId: number, assignedTo: string): void {\r\n    this.loading.assign = true;\r\n    this.error.assign = null;\r\n    this.assignmentSuccess = false;\r\n    \r\n    // Extract just the name from the suggestion string\r\n    const developerName = this.extractDeveloperName(assignedTo);\r\n    \r\n    this.taskService.assignTask(taskId, developerName).subscribe({\r\n      next: () => {\r\n        // Remove the assigned task from the list\r\n        this.tasks = this.tasks.filter(t => t.id !== taskId);\r\n        this.loading.assign = false;\r\n        this.assignmentSuccess = true;\r\n        \r\n        // Reset success message after a delay\r\n        setTimeout(() => this.assignmentSuccess = false, 5000);\r\n      },\r\n      error: (err) => {\r\n        this.error.assign = `Failed to assign task: ${err.message}`;\r\n        this.loading.assign = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Extracts just the developer name from the suggestion string\r\n   * Format is typically \"Name (explanation)\"\r\n   */\r\n  extractDeveloperName(suggestion: string): string {\r\n    if (!suggestion) return '';\r\n    const parts = suggestion.split(' (');\r\n    return parts[0];\r\n  }\r\n\r\n  /**\r\n   * Extracts the logic explanation from the suggestion string\r\n   * Format is typically \"Name (explanation)\"\r\n   */\r\n  extractLogicExplanation(suggestion: string): string {\r\n    if (!suggestion) return '';\r\n    const match = suggestion.match(/\\((.*?)\\)/);\r\n    return match ? match[1] : '';\r\n  }\r\n\r\n  /**\r\n   * Check if bulk assign should be disabled\r\n   */\r\n  bulkAssignDisabled(): boolean {\r\n    // Disable if no tasks or no suggestions\r\n    return this.tasks.length === 0 || \r\n           Object.keys(this.autoAssignSuggestions).length === 0 ||\r\n           this.tasks.some(task => !this.autoAssignSuggestions[task.id]);\r\n  }\r\n\r\n  /**\r\n   * Confirm and assign all tasks to their suggested developers\r\n   */\r\n  confirmAndAssignAll(): void {\r\n    this.loading.assign = true;\r\n    this.error.assign = null;\r\n    this.assignmentSuccess = false;\r\n    \r\n    // Create an array of assignment observables\r\n    const assignmentObservables: Observable<any>[] = [];\r\n    \r\n    this.tasks.forEach(task => {\r\n      if (this.autoAssignSuggestions[task.id]) {\r\n        const developerName = this.extractDeveloperName(this.autoAssignSuggestions[task.id]);\r\n        assignmentObservables.push(this.taskService.assignTask(task.id, developerName));\r\n      }\r\n    });\r\n    \r\n    // Execute all assignments in parallel\r\n    if (assignmentObservables.length > 0) {\r\n      forkJoin(assignmentObservables).subscribe({\r\n        next: () => {\r\n          this.loading.assign = false;\r\n          this.assignmentSuccess = true;\r\n          \r\n          // Reload tasks to refresh the list\r\n          this.loadTasks();\r\n        },\r\n        error: (err) => {\r\n          this.error.assign = `Failed to assign some tasks: ${err.message}`;\r\n          this.loading.assign = false;\r\n          \r\n          // Reload tasks to refresh the list\r\n          this.loadTasks();\r\n        }\r\n      });\r\n    } else {\r\n      this.loading.assign = false;\r\n    }\r\n  }\r\n} ","<div class=\"container-fluid p-4\">\r\n  <div class=\"row mb-4\">\r\n    <div class=\"col-12\">\r\n      <h2>AI Task Auto-Assignment</h2>\r\n      <p class=\"text-muted\">Automatically assign \"Dev-New\" tasks to the most suitable developers based on past performance.</p>\r\n      \r\n      <!-- Error alerts -->\r\n      <div *ngIf=\"error.tasks\" class=\"alert alert-danger\">{{ error.tasks }}</div>\r\n      <div *ngIf=\"error.suggestions\" class=\"alert alert-danger\">{{ error.suggestions }}</div>\r\n      <div *ngIf=\"error.assign\" class=\"alert alert-danger\">{{ error.assign }}</div>\r\n      \r\n      <!-- Success message -->\r\n      <div *ngIf=\"assignmentSuccess\" class=\"alert alert-success\">\r\n        <i class=\"bi bi-check-circle me-2\"></i>\r\n        Tasks successfully assigned!\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Loading spinner -->\r\n  <div *ngIf=\"loading.tasks || loading.suggestions\" class=\"row\">\r\n    <div class=\"col-12 text-center py-5\">\r\n      <div class=\"spinner-border text-primary\" role=\"status\">\r\n        <span class=\"visually-hidden\">Loading...</span>\r\n      </div>\r\n      <p class=\"mt-2\">{{ loading.tasks ? 'Loading tasks...' : 'Analyzing developer performance...' }}</p>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- No tasks message -->\r\n  <div *ngIf=\"!loading.tasks && !loading.suggestions && tasks.length === 0\" class=\"row\">\r\n    <div class=\"col-12 text-center py-5\">\r\n      <div class=\"alert alert-info\">\r\n        <i class=\"bi bi-info-circle me-2\"></i>\r\n        No \"Dev-New\" tasks available for assignment.\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Tasks with auto-assign suggestions -->\r\n  <div *ngIf=\"!loading.tasks && !loading.suggestions && tasks.length > 0\" class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-header bg-primary text-white d-flex justify-content-between align-items-center\">\r\n          <h4 class=\"mb-0\">Tasks Ready for Assignment</h4>\r\n          \r\n          <!-- Bulk assign button -->\r\n          <button \r\n            class=\"btn btn-light\" \r\n            [disabled]=\"loading.assign || bulkAssignDisabled()\"\r\n            (click)=\"confirmAndAssignAll()\">\r\n            <i class=\"bi bi-magic me-2\"></i>\r\n            <span *ngIf=\"!loading.assign\">Confirm & Assign All</span>\r\n            <span *ngIf=\"loading.assign\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          </button>\r\n        </div>\r\n        <div class=\"card-body\">\r\n          <div class=\"row mb-3\">\r\n            <div class=\"col-12\">\r\n              <div class=\"alert alert-primary\">\r\n                <strong><i class=\"bi bi-info-circle me-2\"></i>Preview:</strong> Review the AI-suggested assignments below before confirming.\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-hover\">\r\n              <thead>\r\n                <tr>\r\n                  <th>ID</th>\r\n                  <th>Type</th>\r\n                  <th>Title</th>\r\n                  <th>Status</th>\r\n                  <th>Suggested Assignee</th>\r\n                  <th>Assignment Logic</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr *ngFor=\"let task of tasks\">\r\n                  <td>{{ task.id }}</td>\r\n                  <td>\r\n                    <span class=\"badge bg-info text-dark\">{{ task.type }}</span>\r\n                  </td>\r\n                  <td>{{ task.title }}</td>\r\n                  <td>\r\n                    <span class=\"badge bg-secondary\">{{ task.status }}</span>\r\n                  </td>\r\n                  <td>\r\n                    <ng-container *ngIf=\"autoAssignSuggestions[task.id]\">\r\n                      <div class=\"d-flex align-items-center\">\r\n                        <span class=\"badge bg-success me-2\">AI Pick</span>\r\n                        <strong>{{ extractDeveloperName(autoAssignSuggestions[task.id]) }}</strong>\r\n                      </div>\r\n                    </ng-container>\r\n                    <span *ngIf=\"!autoAssignSuggestions[task.id]\" class=\"text-muted\">No suggestion available</span>\r\n                  </td>\r\n                  <td>\r\n                    <span *ngIf=\"autoAssignSuggestions[task.id]\" class=\"text-muted small\">\r\n                      {{ extractLogicExplanation(autoAssignSuggestions[task.id]) }}\r\n                    </span>\r\n                  </td>\r\n                  <td>\r\n                    <button \r\n                      *ngIf=\"autoAssignSuggestions[task.id]\"\r\n                      class=\"btn btn-primary btn-sm\" \r\n                      [disabled]=\"loading.assign\"\r\n                      (click)=\"assignTask(task.id, autoAssignSuggestions[task.id])\">\r\n                      <i class=\"bi bi-person-check me-1\"></i>\r\n                      <span *ngIf=\"!loading.assign\">Confirm & Assign</span>\r\n                      <span *ngIf=\"loading.assign\" class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n                    </button>\r\n                    <button \r\n                      *ngIf=\"!autoAssignSuggestions[task.id]\"\r\n                      class=\"btn btn-secondary btn-sm\" \r\n                      disabled>\r\n                      <i class=\"bi bi-person-x me-1\"></i>\r\n                      No Recommendation\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          \r\n          <!-- Assignment Logic Legend -->\r\n          <div class=\"mt-4\">\r\n            <h5>Assignment Logic Explanation:</h5>\r\n            <ul class=\"list-group\">\r\n              <li class=\"list-group-item\">\r\n                <i class=\"bi bi-trophy text-warning me-2\"></i>\r\n                <strong>Past Performance</strong> - Developers who completed similar tasks recently\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <i class=\"bi bi-speedometer2 text-info me-2\"></i>\r\n                <strong>Active Load</strong> - Developers with the least number of active tasks\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <i class=\"bi bi-check-circle text-success me-2\"></i>\r\n                <strong>Recent Completion</strong> - Developers who recently completed tasks and have no active tasks\r\n              </li>\r\n              <li class=\"list-group-item\">\r\n                <i class=\"bi bi-person-plus text-primary me-2\"></i>\r\n                <strong>Fallback</strong> - If no match from history, assign to developer with least total task count\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> "]},"metadata":{},"sourceType":"module","externalDependencies":[]}