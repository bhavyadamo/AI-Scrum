{"ast":null,"code":"import { of } from 'rxjs';\nimport { catchError, finalize, map } from 'rxjs/operators';\nimport { environment } from '../../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/dashboard.service\";\nimport * as i2 from \"../../services/azure-devops.service\";\nimport * as i3 from \"@angular/common/http\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"stateDistributionChart\"];\nconst _c1 = [\"iterationDistributionChart\"];\nconst _c2 = [\"statusPieChart\"];\nfunction DashboardComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 52)(2, \"span\", 53);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction DashboardComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error.sprint, \" \");\n  }\n}\nfunction DashboardComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 55);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 56)(4, \"div\")(5, \"p\", 57);\n    i0.ɵɵtext(6, \"Start Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 58);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\")(11, \"p\", 57);\n    i0.ɵɵtext(12, \"End Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"p\", 58);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\")(17, \"p\", 57);\n    i0.ɵɵtext(18, \"Days Remaining\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"p\", 59);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 60)(22, \"p\", 57);\n    i0.ɵɵtext(23, \"Iteration Path\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"p\", 58);\n    i0.ɵɵtext(25);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.decodeIterationPath(ctx_r2.sprintOverview.sprintName));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 5, ctx_r2.sprintOverview.startDate, \"longDate\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 8, ctx_r2.sprintOverview.endDate, \"longDate\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r2.sprintOverview.daysRemaining);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r2.decodeIterationPath(ctx_r2.sprintOverview.iterationPath));\n  }\n}\nfunction DashboardComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61)(1, \"p\", 62);\n    i0.ɵɵtext(2, \"Ask me anything about your project or tasks.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 63)(4, \"h6\", 64);\n    i0.ɵɵtext(5, \"Try asking me:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\", 65)(7, \"li\", 64)(8, \"span\", 66);\n    i0.ɵɵtext(9, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \" What are the current sprint details?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"li\", 64)(12, \"span\", 66);\n    i0.ɵɵtext(13, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" How many tasks are in this sprint?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"li\", 64)(16, \"span\", 66);\n    i0.ɵɵtext(17, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \" Show me the work distribution by team member\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"li\", 64)(20, \"span\", 66);\n    i0.ɵɵtext(21, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \" Who has the most tasks assigned?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"li\", 64)(24, \"span\", 67);\n    i0.ɵɵtext(25, \"\\u2713\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \" Assign task #123 to John\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"li\", 64)(28, \"span\", 66);\n    i0.ɵɵtext(29, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \" Suggest someone for the next task assignment\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"li\", 64)(32, \"span\", 66);\n    i0.ɵɵtext(33, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \" What's the current sprint progress?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"li\", 64)(36, \"span\", 68);\n    i0.ɵɵtext(37, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \" Show task #48044 details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"li\", 64)(40, \"span\", 69);\n    i0.ɵɵtext(41, \"!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \" Show blocked tasks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"li\", 64)(44, \"span\", 66);\n    i0.ɵɵtext(45, \"\\u27A4\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \" Tasks in DEV - WIP status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(47, \"li\", 64)(48, \"span\", 68);\n    i0.ɵɵtext(49, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \" Show me the dashboard\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"li\", 64)(52, \"span\", 68);\n    i0.ɵɵtext(53, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \" Show task status distribution\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(55, \"li\", 64)(56, \"span\", 68);\n    i0.ɵɵtext(57, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \" What's the breakdown by work item type?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"li\", 64)(60, \"span\", 68);\n    i0.ɵɵtext(61, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62, \" How many Active tasks?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(63, \"li\", 64)(64, \"span\", 68);\n    i0.ɵɵtext(65, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \" Dev-New\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(67, \"li\", 64)(68, \"span\", 68);\n    i0.ɵɵtext(69, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(70, \" Show status cards\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(71, \"li\", 64)(72, \"span\", 68);\n    i0.ɵɵtext(73, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(74, \" No of CS-New tasks\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(75, \"li\", 64)(76, \"span\", 68);\n    i0.ɵɵtext(77, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \" Number of Planned tasks in Techoil\\\\2.3.23\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nconst _c3 = function (a0, a1) {\n  return {\n    \"user-message\": a0,\n    \"assistant-message\": a1\n  };\n};\nfunction DashboardComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 70)(1, \"div\", 71);\n    i0.ɵɵelement(2, \"div\", 72);\n    i0.ɵɵelementStart(3, \"div\", 73);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const msg_r20 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c3, msg_r20.role === \"user\", msg_r20.role === \"assistant\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", msg_r20.content, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, msg_r20.timestamp, \"shortTime\"));\n  }\n}\nfunction DashboardComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 52)(2, \"span\", 53);\n    i0.ɵɵtext(3, \"Loading...\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction DashboardComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.error.sprintProgress, \" \");\n  }\n}\nfunction DashboardComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 74)(2, \"div\")(3, \"span\", 58);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\")(6, \"span\", 62);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 75)(9, \"div\", 76);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\", 77)(12, \"span\", 78);\n    i0.ɵɵtext(13, \"Note:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"span\", 62);\n    i0.ɵɵtext(15, \"Counts items with status: Closed, Dev Complete, Moved to Production, Resolved, Test In Progress, Verified\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r7.getCompletionPercentage(), \"% Completed\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r7.getCompletedItems(), \" of \", ctx_r7.getTotalWorkItems(), \" items\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", ctx_r7.getCompletionPercentage(), \"%\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.getCompletionPercentage(), \"% \");\n  }\n}\nfunction DashboardComponent_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 52)(2, \"span\", 53);\n    i0.ɵɵtext(3, \"Loading work item data...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 79);\n    i0.ɵɵtext(5, \"Fetching real-time work item counts from API...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.taskDetailsError, \" \");\n  }\n}\nfunction DashboardComponent_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"p\", 62);\n    i0.ɵɵtext(2, \"No work item state data available. Please select an iteration and click Search.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c4 = function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n  return {\n    \"status-active\": a0,\n    \"status-code-review\": a1,\n    \"status-dev-progress\": a2,\n    \"status-dev-new\": a3,\n    \"status-planned\": a4,\n    \"status-cs-new\": a5,\n    \"status-proposed\": a6,\n    \"status-clarification\": a7,\n    \"status-resolved\": a8,\n    \"status-verified\": a9\n  };\n};\nfunction DashboardComponent_div_62_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 82)(1, \"div\", 83);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_62_div_1_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const status_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.showTasksForStatus(status_r22.status));\n    });\n    i0.ɵɵelementStart(2, \"div\", 84)(3, \"div\", 85);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 86);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const status_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunctionV(3, _c4, [status_r22.status === \"Active\", status_r22.status === \"Code Review\", status_r22.status === \"Dev In Progress\" || status_r22.status === \"Dev In progress\" || status_r22.status.toLowerCase().includes(\"dev\") && status_r22.status.toLowerCase().includes(\"progress\"), status_r22.status === \"Dev-New\" || status_r22.status === \"New\", status_r22.status === \"Planned\", status_r22.status === \"CS-New\" || status_r22.status === \"CS-new\", status_r22.status === \"Proposed\", status_r22.status === \"Require Clarification\" || status_r22.status.toLowerCase().includes(\"clarification\"), status_r22.status === \"Resolved\" || status_r22.status === \"Done\" || status_r22.status === \"Completed\", status_r22.status === \"Verified\" || status_r22.status === \"Validated\"]));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(status_r22.count);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(status_r22.status);\n  }\n}\nfunction DashboardComponent_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 80);\n    i0.ɵɵtemplate(1, DashboardComponent_div_62_div_1_Template, 7, 14, \"div\", 81);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.taskStatusBoard);\n  }\n}\nfunction DashboardComponent_div_68_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 89)(1, \"div\", 90);\n    i0.ɵɵlistener(\"click\", function DashboardComponent_div_68_div_1_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const typeItem_r26 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.showWorkItemsByType(typeItem_r26.type));\n    });\n    i0.ɵɵelementStart(2, \"div\", 91)(3, \"div\", 74)(4, \"h5\", 92);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 93);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 94);\n    i0.ɵɵelement(9, \"div\", 95);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const typeItem_r26 = ctx.$implicit;\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"border-left-color\", typeItem_r26.color);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(typeItem_r26.type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleProp(\"background-color\", typeItem_r26.color);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(typeItem_r26.count);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", typeItem_r26.count / ctx_r25.getTotalWorkItems() * 100, \"%\")(\"background-color\", typeItem_r26.color);\n  }\n}\nfunction DashboardComponent_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 87);\n    i0.ɵɵtemplate(1, DashboardComponent_div_68_div_1_Template, 10, 10, \"div\", 88);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r12.tasksByType);\n  }\n}\nfunction DashboardComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"p\", 62);\n    i0.ɵɵtext(2, \"No work item type data available.\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction DashboardComponent_div_78_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61)(1, \"div\", 52)(2, \"span\", 53);\n    i0.ɵɵtext(3, \"Loading tasks...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 79);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Fetching tasks with status: \", ctx_r14.selectedStatus, \"\");\n  }\n}\nfunction DashboardComponent_div_79_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 96);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" No tasks found with status: \", ctx_r15.selectedStatus, \" \");\n  }\n}\nfunction DashboardComponent_div_80_tr_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 99);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const task_r30 = ctx.$implicit;\n    const ctx_r29 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"href\", ctx_r29.getTaskUrl(task_r30.id), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"#\", task_r30.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r30.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r30.assignedTo || \"Unassigned\");\n  }\n}\nfunction DashboardComponent_div_80_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 97)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Assigned To\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"tbody\");\n    i0.ɵɵtemplate(11, DashboardComponent_div_80_tr_11_Template, 8, 4, \"tr\", 98);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.statusTasks);\n  }\n}\nfunction DashboardComponent_div_92_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 61)(1, \"div\", 52)(2, \"span\", 53);\n    i0.ɵɵtext(3, \"Loading items...\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"p\", 79);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Fetching \", ctx_r17.selectedType, \" items...\");\n  }\n}\nfunction DashboardComponent_div_93_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 96);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" No \", ctx_r18.selectedType, \" items found in the current iteration. \");\n  }\n}\nfunction DashboardComponent_div_94_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\")(2, \"a\", 99);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 100);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r32 = ctx.$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"href\", ctx_r31.getTaskUrl(item_r32.id), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"#\", item_r32.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r32.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r32.assignedTo || \"Unassigned\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"background-color\", ctx_r31.getStatusColor(item_r32.status));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r32.status);\n  }\n}\nfunction DashboardComponent_div_94_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"table\", 97)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"ID\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Assigned To\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"State\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, DashboardComponent_div_94_tr_13_Template, 11, 7, \"tr\", 98);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.typeItems);\n  }\n}\nconst _c5 = function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n  return {\n    \"status-active-header\": a0,\n    \"status-code-review-header\": a1,\n    \"status-dev-progress-header\": a2,\n    \"status-dev-new-header\": a3,\n    \"status-planned-header\": a4,\n    \"status-cs-new-header\": a5,\n    \"status-proposed-header\": a6,\n    \"status-clarification-header\": a7,\n    \"status-resolved-header\": a8,\n    \"status-verified-header\": a9\n  };\n};\nexport class DashboardComponent {\n  // Method to decode iteration path for display\n  decodeIterationPath(path) {\n    if (!path) return '';\n    // Replace the encoded backslash with an actual backslash\n    // Handle both double-encoded (%255C) and single-encoded (%5C) backslashes\n    let decoded = path.replace(/%255C/g, '\\\\');\n    decoded = decoded.replace(/%5C/g, '\\\\');\n    decoded = decoded.replace(/%5c/g, '\\\\');\n    return decoded;\n  }\n  constructor(dashboardService, azureDevOpsService, http) {\n    this.dashboardService = dashboardService;\n    this.azureDevOpsService = azureDevOpsService;\n    this.http = http;\n    this.sprintOverview = null;\n    this.sprintSummary = null;\n    this.activityFeed = null;\n    this.dailyTip = '';\n    this.workItemDistribution = null;\n    this.stateDistributions = [];\n    this.longTermDevNewItems = [];\n    this.supportItems = [];\n    this.aiTips = null;\n    // Define state colors for consistency\n    this.stateColors = {\n      'Proposed': '#e6e6e6',\n      'New': '#b4d7a8',\n      'Dev-New': '#b4d7a8',\n      'Active': '#4a86e8',\n      'Dev-WIP': '#4a86e8',\n      'In Progress': '#4a86e8',\n      'Resolved': '#ffd966',\n      'Code Review': '#9fc5e8',\n      'QA': '#d5a6bd',\n      'Testing': '#d5a6bd',\n      'Done': '#93c47d',\n      'Closed': '#6aa84f',\n      'Completed': '#6aa84f',\n      'Blocked': '#e06666',\n      'Removed': '#999999'\n    };\n    // Default chart colors if state not found in mapping\n    this.defaultChartColors = ['#4a86e8', '#6aa84f', '#ffd966', '#e06666', '#9fc5e8', '#d5a6bd', '#b4d7a8', '#e6e6e6', '#93c47d', '#6fa8dc'];\n    // Properties for the new task board\n    this.taskStatusBoard = [];\n    // Properties for task details\n    this.loadingTaskDetails = false;\n    this.taskDetailsError = '';\n    this.tasksByStatus = [];\n    // Chat properties\n    this.chatMessages = [];\n    this.currentMessage = '';\n    // Define status colors based on Azure DevOps board from the image\n    this.statusColors = {\n      'PMG - Proposed': '#e0e0e0',\n      'DEV - Yet to Start': '#9a9a9a',\n      'DEV - WIP': '#0078d4',\n      'DEV - Code Review': '#324e93',\n      'DEV - Done': '#00b7c3',\n      'DEV/QC - Reopened': '#e81123',\n      'Clarifications': '#fff100',\n      'On Hold': '#e3008c',\n      'QC - In Test Bed': '#8764b8',\n      'Completed': '#107c10'\n    };\n    // Track loading and error states\n    this.loading = {\n      sprint: true,\n      summary: true,\n      activity: true,\n      tip: true,\n      distribution: true,\n      stateDistribution: true,\n      longTermDevNew: true,\n      supportItems: true,\n      aiTips: true,\n      taskStatusBoard: true,\n      sprintProgress: true\n    };\n    this.error = {\n      sprint: '',\n      summary: '',\n      activity: '',\n      tip: '',\n      distribution: '',\n      stateDistribution: '',\n      longTermDevNew: '',\n      supportItems: '',\n      aiTips: '',\n      taskStatusBoard: '',\n      sprintProgress: ''\n    };\n    // Starting with a default Iteration Path that can be changed\n    this.selectedIterationPath = 'Techoil\\\\2.3.23';\n    this.availableIterationPaths = ['Techoil\\\\2.3.23'];\n    // Work item status counts from Azure DevOps\n    this.azureDevOpsWorkItems = [];\n    this.workItemCounts = {\n      totalTasks: 0,\n      devNew: 0,\n      inProgress: 0,\n      codeReview: 0,\n      devComplete: 0,\n      completed: 0,\n      blocked: 0\n    };\n    // Assignee distribution data\n    this.assigneeDistribution = {};\n    // Loading and error states\n    this.loadingAzureDevOps = false;\n    this.azureDevOpsError = '';\n    // Stats grouping for types and statuses\n    this.tasksByType = [];\n    // Status popup properties\n    this.selectedStatus = '';\n    this.statusTasks = [];\n    this.loadingStatusTasks = false;\n    // Work Item Type modal properties\n    this.selectedType = '';\n    this.selectedTypeColor = '';\n    this.typeItems = [];\n    this.loadingTypeItems = false;\n  }\n  ngOnInit() {\n    this.loadDashboardData();\n  }\n  ngAfterViewInit() {\n    // Initialize the task status modal\n    const modalElement = document.getElementById('taskStatusModal');\n    if (modalElement) {\n      this.taskDetailsModal = new bootstrap.Modal(modalElement);\n    }\n    // Initialize the work item type modal\n    const typeModalElement = document.getElementById('workItemTypeModal');\n    if (typeModalElement) {\n      this.workItemTypeModal = new bootstrap.Modal(typeModalElement);\n    }\n  }\n  loadDashboardData() {\n    this.loadSprintOverview();\n    this.loadAiTips();\n    // Load Azure DevOps data for the initial iteration path\n    this.loadingTaskDetails = true;\n    this.taskDetailsError = '';\n    this.loading.sprintProgress = true;\n    this.loadTaskStatusBoard();\n  }\n  loadIterationData() {\n    // Validate iteration path\n    if (!this.selectedIterationPath) {\n      return;\n    }\n    // Trim whitespace and ensure consistent formatting\n    this.selectedIterationPath = this.selectedIterationPath.trim();\n    // Reset loading and error states\n    this.loading.sprint = true;\n    this.error.sprint = '';\n    this.loadingTaskDetails = true;\n    this.taskDetailsError = '';\n    this.loading.sprintProgress = true;\n    this.error.sprintProgress = '';\n    console.log(`Loading data for iteration path: ${this.selectedIterationPath}`);\n    // Load sprint details for the selected iteration path\n    this.dashboardService.getSprintDetailsByIterationPath(this.selectedIterationPath).subscribe({\n      next: data => {\n        console.log('Sprint details loaded:', data);\n        // Ensure proper display by decoding the iteration path\n        if (data.iterationPath) {\n          data.sprintName = this.decodeIterationPath(data.sprintName);\n        }\n        this.sprintOverview = data;\n        this.loading.sprint = false;\n      },\n      error: err => {\n        this.error.sprint = 'Failed to load sprint details';\n        this.loading.sprint = false;\n        console.error('Error loading sprint details:', err);\n      }\n    });\n    // Load Azure DevOps work items directly first to get live data\n    this.loadAzureDevOpsWorkItemsWithWiql();\n    // Load other dashboard data\n    this.loadSprintSummary(this.selectedIterationPath);\n    this.loadTaskStatusBoard();\n    // Update available paths if this is a new one\n    if (!this.availableIterationPaths.includes(this.selectedIterationPath)) {\n      this.availableIterationPaths.push(this.selectedIterationPath);\n    }\n  }\n  loadSprintOverview() {\n    this.loading.sprint = true;\n    this.dashboardService.getCurrentSprint().subscribe({\n      next: data => {\n        this.sprintOverview = data;\n        // Use hard-coded iteration path instead of data.iterationPath\n        // this.selectedIterationPath = data.iterationPath;\n        this.loading.sprint = false;\n        this.loadSprintSummary(this.selectedIterationPath);\n        this.loadActivityFeed();\n        this.loadWorkItemDistribution(this.selectedIterationPath);\n        this.loadStateDistributions();\n      },\n      error: err => {\n        this.error.sprint = 'Failed to load sprint data';\n        this.loading.sprint = false;\n        console.error('Error loading sprint data:', err);\n      }\n    });\n  }\n  loadSprintSummary(iterationPath) {\n    this.loading.summary = true;\n    this.dashboardService.getSprintSummary(iterationPath).subscribe({\n      next: data => {\n        this.sprintSummary = data;\n        this.loading.summary = false;\n      },\n      error: err => {\n        this.error.summary = 'Failed to load summary data';\n        this.loading.summary = false;\n        console.error('Error loading summary data:', err);\n      }\n    });\n  }\n  loadActivityFeed() {\n    this.loading.activity = true;\n    this.dashboardService.getActivityFeed().subscribe({\n      next: data => {\n        this.activityFeed = data;\n        this.loading.activity = false;\n      },\n      error: err => {\n        this.error.activity = 'Failed to load activity feed';\n        this.loading.activity = false;\n        console.error('Error loading activity feed:', err);\n      }\n    });\n  }\n  loadDailyTip() {\n    this.loading.tip = true;\n    this.dashboardService.getDailyTip().subscribe({\n      next: data => {\n        this.dailyTip = data.tip;\n        this.loading.tip = false;\n      },\n      error: err => {\n        this.error.tip = 'Failed to load daily tip';\n        this.loading.tip = false;\n        console.error('Error loading daily tip:', err);\n      }\n    });\n  }\n  loadWorkItemDistribution(iterationPath) {\n    this.loading.distribution = true;\n    this.dashboardService.getWorkItemDistribution(iterationPath).subscribe({\n      next: data => {\n        this.workItemDistribution = data;\n        this.loading.distribution = false;\n        // Initialize distribution chart after data is loaded\n        setTimeout(() => {\n          this.initializeWorkItemDistributionChart();\n        }, 100);\n      },\n      error: err => {\n        this.error.distribution = 'Failed to load work item distribution';\n        this.loading.distribution = false;\n        console.error('Error loading work item distribution:', err);\n      }\n    });\n  }\n  loadStateDistributions() {\n    this.loading.stateDistribution = true;\n    this.dashboardService.getStateDistribution(this.selectedIterationPath).subscribe({\n      next: data => {\n        this.stateDistributions = data;\n        // Keep hard-coded iteration paths instead of dynamically loading them\n        // this.availableIterationPaths = data.map(d => d.iterationPath);\n        this.loading.stateDistribution = false;\n        // Initialize state distribution chart after data is loaded\n        setTimeout(() => {\n          this.initializeStateDistributionsChart();\n        }, 100);\n      },\n      error: err => {\n        this.error.stateDistribution = 'Failed to load state distributions';\n        this.loading.stateDistribution = false;\n        console.error('Error loading state distributions:', err);\n      }\n    });\n  }\n  loadLongTermDevNewItems() {\n    this.loading.longTermDevNew = true;\n    this.dashboardService.getLongTermDevNewItems(5).subscribe({\n      next: data => {\n        this.longTermDevNewItems = data;\n        this.loading.longTermDevNew = false;\n      },\n      error: err => {\n        this.error.longTermDevNew = 'Failed to load long-term Dev-New items';\n        this.loading.longTermDevNew = false;\n        console.error('Error loading long-term Dev-New items:', err);\n      }\n    });\n  }\n  loadSupportItems() {\n    this.loading.supportItems = true;\n    this.dashboardService.getSupportItems(6).subscribe({\n      next: data => {\n        this.supportItems = data;\n        this.loading.supportItems = false;\n      },\n      error: err => {\n        this.error.supportItems = 'Failed to load support items';\n        this.loading.supportItems = false;\n        console.error('Error loading support items:', err);\n      }\n    });\n  }\n  loadAiTips() {\n    this.loading.aiTips = true;\n    this.dashboardService.getAiTips().subscribe({\n      next: data => {\n        this.aiTips = data;\n        this.longTermDevNewItems = data.longTermDevNewItems;\n        this.supportItems = data.supportItems;\n        this.dailyTip = data.tip;\n        this.loading.aiTips = false;\n      },\n      error: err => {\n        this.error.aiTips = 'Failed to load AI tips';\n        this.loading.aiTips = false;\n        console.error('Error loading AI tips:', err);\n        // Fall back to individual methods\n        this.loadDailyTip();\n        this.loadLongTermDevNewItems();\n        this.loadSupportItems();\n      }\n    });\n  }\n  initializeWorkItemDistributionChart() {\n    if (!this.workItemDistribution || !this.stateDistributionChartRef?.nativeElement) {\n      return;\n    }\n    // Get canvas element\n    const ctx = this.stateDistributionChartRef.nativeElement.getContext('2d');\n    if (!ctx) return;\n    const labels = this.workItemDistribution.states.map(s => s.state);\n    const data = this.workItemDistribution.states.map(s => s.count);\n    const colors = this.workItemDistribution.states.map(s => this.stateColors[s.state] || this.getRandomColor());\n    // Clear any existing chart\n    if (window.Chart && ctx.chart) {\n      ctx.chart.destroy();\n    }\n    // Create new chart\n    if (window.Chart) {\n      ctx.chart = new window.Chart(ctx, {\n        type: 'pie',\n        data: {\n          labels: labels,\n          datasets: [{\n            data: data,\n            backgroundColor: colors,\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'right'\n            },\n            title: {\n              display: true,\n              text: `Work Item States - ${this.workItemDistribution.iterationPath}`\n            }\n          }\n        }\n      });\n    }\n  }\n  initializeStateDistributionsChart() {\n    if (this.stateDistributions.length === 0 || !this.iterationDistributionChartRef?.nativeElement) {\n      return;\n    }\n    // Get canvas element\n    const ctx = this.iterationDistributionChartRef.nativeElement.getContext('2d');\n    if (!ctx) return;\n    // Clear any existing chart\n    if (window.Chart && ctx.chart) {\n      ctx.chart.destroy();\n    }\n    // Prepare data for stacked bar chart\n    const iterationLabels = this.stateDistributions.map(d => d.iterationPath);\n    // Find all unique states across all iterations\n    const allStates = new Set();\n    this.stateDistributions.forEach(dist => {\n      dist.states.forEach(state => {\n        allStates.add(state.state);\n      });\n    });\n    // Create datasets, one for each state\n    const datasets = Array.from(allStates).map(stateName => {\n      // Find color for this state\n      const stateColor = this.stateColors[stateName] || this.getRandomColor();\n      // Create dataset for this state across all iterations\n      return {\n        label: stateName,\n        data: this.stateDistributions.map(dist => {\n          const stateData = dist.states.find(s => s.state === stateName);\n          return stateData ? stateData.count : 0;\n        }),\n        backgroundColor: stateColor\n      };\n    });\n    // Create new chart\n    if (window.Chart) {\n      ctx.chart = new window.Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: iterationLabels,\n          datasets: datasets\n        },\n        options: {\n          responsive: true,\n          scales: {\n            x: {\n              stacked: true\n            },\n            y: {\n              stacked: true,\n              beginAtZero: true\n            }\n          },\n          plugins: {\n            legend: {\n              position: 'right'\n            },\n            title: {\n              display: true,\n              text: 'Work Item Distribution by Iteration'\n            }\n          }\n        }\n      });\n    }\n  }\n  changeIterationPath(iterationPath) {\n    // Even with hardcoded path, keep the method in case it's called from elsewhere\n    if (iterationPath !== this.selectedIterationPath) {\n      this.selectedIterationPath = iterationPath;\n      this.loadWorkItemDistribution(iterationPath);\n      this.loadSprintSummary(iterationPath);\n    }\n  }\n  getStateColor(state) {\n    return this.stateColors[state] || this.getRandomColor();\n  }\n  getRandomColor() {\n    const randomIndex = Math.floor(Math.random() * this.defaultChartColors.length);\n    return this.defaultChartColors[randomIndex];\n  }\n  reload() {\n    this.loadDashboardData();\n  }\n  loadTaskStatusBoard() {\n    this.loading.taskStatusBoard = true;\n    this.error.taskStatusBoard = '';\n    this.loadingTaskDetails = true;\n    this.taskDetailsError = '';\n    this.loading.sprintProgress = true;\n    this.error.sprintProgress = '';\n    // Define the expected status order to match the image\n    const expectedStatuses = ['PMG - Proposed', 'DEV - Yet to Start', 'DEV - WIP', 'DEV - Code Review', 'DEV - Done', 'DEV/QC - Reopened'];\n    // Type colors for visualization\n    const typeColors = {\n      'Bug': '#e74c3c',\n      'Requirement': '#3498db',\n      'Change Request': '#2ecc71',\n      'Task': '#f39c12',\n      'Epic': '#9b59b6',\n      'User Story': '#1abc9c'\n    };\n    // Use the direct API endpoint as specified\n    const encodedPath = encodeURIComponent(this.selectedIterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    this.http.get(url).pipe(finalize(() => {\n      this.loading.taskStatusBoard = false;\n      this.loadingTaskDetails = false;\n      this.loading.sprintProgress = false;\n    })).subscribe({\n      next: workItems => {\n        if (workItems && workItems.length > 0) {\n          // Group by status\n          const statusGroups = workItems.reduce((acc, item) => {\n            const status = item.status || 'Unknown';\n            if (!acc[status]) {\n              acc[status] = [];\n            }\n            acc[status].push(item);\n            return acc;\n          }, {});\n          // Group by type\n          const typeGroups = workItems.reduce((acc, item) => {\n            const type = item.type || 'Unknown';\n            if (!acc[type]) {\n              acc[type] = [];\n            }\n            acc[type].push(item);\n            return acc;\n          }, {});\n          // Create status items\n          let statusItems = Object.keys(statusGroups).map(status => ({\n            status: status,\n            count: statusGroups[status].length,\n            color: this.statusColors[status] || this.getStateColor(status)\n          }));\n          // Create type items\n          this.tasksByType = Object.keys(typeGroups).map(type => ({\n            type: type,\n            count: typeGroups[type].length,\n            color: typeColors[type] || this.getRandomColor()\n          })).sort((a, b) => b.count - a.count);\n          // Sort statuses based on expected status order\n          statusItems = statusItems.sort((a, b) => {\n            const indexA = expectedStatuses.indexOf(a.status);\n            const indexB = expectedStatuses.indexOf(b.status);\n            // If both are in expectedStatuses, sort by that order\n            if (indexA !== -1 && indexB !== -1) {\n              return indexA - indexB;\n            }\n            // If only one is in expectedStatuses, prioritize it\n            if (indexA !== -1) return -1;\n            if (indexB !== -1) return 1;\n            // For any other statuses, sort alphabetically\n            return a.status.localeCompare(b.status);\n          });\n          // Update the task status board\n          this.taskStatusBoard = statusItems;\n          // Also update tasksByStatus for compatibility with older code\n          this.tasksByStatus = [...this.taskStatusBoard];\n          // Save the raw workItems for sprint progress calculation\n          this.azureDevOpsWorkItems = workItems;\n          console.log('Task counts by type:', this.tasksByType);\n          console.log('Task counts by status:', this.taskStatusBoard);\n        } else {\n          this.error.taskStatusBoard = 'No tasks found for this iteration';\n          this.taskDetailsError = 'No tasks found for this iteration';\n          this.error.sprintProgress = 'No tasks found for this iteration';\n          // Create dummy data as a last resort\n          this.createDummyTaskBoard();\n        }\n      },\n      error: err => {\n        console.error('Error loading task board data:', err);\n        this.error.taskStatusBoard = 'Failed to load task board data';\n        this.taskDetailsError = 'Failed to load task data';\n        this.error.sprintProgress = 'Failed to load sprint progress data';\n        // Fallback to dummy data\n        this.createDummyTaskBoard();\n      }\n    });\n  }\n  createDummyTaskBoard() {\n    // Create dummy data to match the image\n    this.taskStatusBoard = [{\n      status: 'PMG - Proposed',\n      count: 0,\n      color: '#e0e0e0'\n    }, {\n      status: 'DEV - Yet to Start',\n      count: 2,\n      color: '#9a9a9a'\n    }, {\n      status: 'DEV - WIP',\n      count: 4,\n      color: '#0078d4'\n    }, {\n      status: 'DEV - Code Review',\n      count: 2,\n      color: '#324e93'\n    }, {\n      status: 'DEV - Done',\n      count: 5,\n      color: '#00b7c3'\n    }, {\n      status: 'DEV/QC - Reopened',\n      count: 1,\n      color: '#e81123'\n    }];\n    // Create dummy data for types\n    this.tasksByType = [{\n      type: 'Bug',\n      count: 8,\n      color: '#e74c3c'\n    }, {\n      type: 'Requirement',\n      count: 6,\n      color: '#3498db'\n    }, {\n      type: 'Change Request',\n      count: 3,\n      color: '#2ecc71'\n    }, {\n      type: 'Task',\n      count: 5,\n      color: '#f39c12'\n    }];\n    // Also update tasksByStatus for compatibility\n    this.tasksByStatus = [...this.taskStatusBoard];\n    // Clear any loading and error states\n    this.loadingTaskDetails = false;\n    this.taskDetailsError = '';\n  }\n  initializeStatusPieChart() {\n    if (!this.statusPieChartRef?.nativeElement) {\n      return;\n    }\n    // Get canvas element\n    const ctx = this.statusPieChartRef.nativeElement.getContext('2d');\n    if (!ctx) return;\n    // Setup data for pie chart from work item counts\n    const statusData = [{\n      status: 'Dev-New',\n      count: this.workItemCounts.devNew,\n      color: '#00a8e8'\n    }, {\n      status: 'In Progress',\n      count: this.workItemCounts.inProgress,\n      color: '#0078d4'\n    }, {\n      status: 'Code Review',\n      count: this.workItemCounts.codeReview,\n      color: '#8764b8'\n    }, {\n      status: 'Dev Complete',\n      count: this.workItemCounts.devComplete,\n      color: '#107c10'\n    }, {\n      status: 'Completed',\n      count: this.workItemCounts.completed,\n      color: '#00b7c3'\n    }, {\n      status: 'Blocked',\n      count: this.workItemCounts.blocked,\n      color: '#e81123'\n    }];\n    // Filter out states with 0 count for better visualization\n    const filteredStatuses = statusData.filter(item => item.count > 0);\n    const labels = filteredStatuses.map(s => s.status);\n    const data = filteredStatuses.map(s => s.count);\n    const colors = filteredStatuses.map(s => s.color);\n    // Clear any existing chart\n    if (window.Chart && ctx.chart) {\n      ctx.chart.destroy();\n    }\n    // Create new chart\n    if (window.Chart) {\n      ctx.chart = new window.Chart(ctx, {\n        type: 'pie',\n        data: {\n          labels: labels,\n          datasets: [{\n            data: data,\n            backgroundColor: colors,\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'right',\n              display: true\n            },\n            title: {\n              display: true,\n              text: 'Work Item States Distribution'\n            },\n            tooltip: {\n              callbacks: {\n                label: function (context) {\n                  const label = context.label || '';\n                  const value = context.raw || 0;\n                  const total = context.dataset.data.reduce((a, b) => Number(a) + Number(b), 0);\n                  const percentage = Math.round(value / total * 100);\n                  return `${label}: ${value} (${percentage}%)`;\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n  }\n  getStatusColor(status) {\n    return this.statusColors[status] || '#9a9a9a'; // Default gray color\n  }\n  // Chat methods\n  sendChatMessage() {\n    if (!this.currentMessage.trim()) return;\n    // Add user message\n    const userMessage = {\n      role: 'user',\n      content: this.currentMessage.trim(),\n      timestamp: new Date()\n    };\n    this.chatMessages.push(userMessage);\n    // Store message and clear input\n    const message = this.currentMessage;\n    this.currentMessage = '';\n    // Special case for \"number of status\" queries - handle these first\n    if (message.toLowerCase().startsWith('number of ') || message.toLowerCase().startsWith('no of ')) {\n      // Handle the special case directly\n      this.handleStatusCountQueryDirect(message);\n      return;\n    }\n    // Check if this is a task assignment request\n    // Match patterns like: \"assign task #123 to john\", \"set task 123 for john doe\", etc.\n    const assignTaskRegex = /(?:assign|set|give)\\s+(?:task|item|work item)?(?:\\s+#)?(\\d+)\\s+(?:to|for)\\s+([a-zA-Z][a-zA-Z\\s\\.]+)/i;\n    const assignTaskMatch = message.match(assignTaskRegex);\n    // Check for shorthand task assignment: \"#48044 assign to Bhavya\"\n    const shorthandAssignRegex = /#?(\\d+)\\s+(?:assign(?:ed)?|set|give)\\s+(?:to|for)\\s+([a-zA-Z][a-zA-Z\\s\\.]+)/i;\n    const shorthandAssignMatch = assignTaskMatch ? null : message.match(shorthandAssignRegex);\n    // Check if this is a task lookup request\n    // Match patterns like: \"show task #123\", \"find task 123\", \"what is task 123\", etc.\n    const lookupTaskRegex = /(?:show|find|what is|get|lookup|look up|display|view)\\s+(?:task|item|work item)(?:\\s+#)?(\\d+)/i;\n    const lookupTaskMatch = message.match(lookupTaskRegex);\n    // Pattern for \"who has the most tasks\"\n    const mostTasksRegex = /who has (?:the )?most (?:tasks|work items|items|work)/i;\n    const mostTasksMatch = message.match(mostTasksRegex);\n    // Pattern for task distribution\n    const taskDistributionRegex = /(?:task|work|workload|work item) distribution/i;\n    const taskDistributionMatch = message.match(taskDistributionRegex);\n    // Pattern for sprint status/summary\n    const sprintStatusRegex = /(?:sprint|iteration) (?:status|summary|overview|details|progress)/i;\n    const sprintStatusMatch = message.match(sprintStatusRegex);\n    // Pattern for dashboard queries\n    const dashboardRegex = /(?:show|get|display|view|what(?:'|i)s|how(?:'|i)s)\\s+(?:the\\s+)?dashboard|dashboard\\s+(?:overview|status|summary|info|details)/i;\n    const dashboardMatch = message.match(dashboardRegex);\n    // Pattern for task status distribution queries\n    const taskStatusRegex = /(?:task|work item)s?\\s+(?:by|in|with)\\s+status|status\\s+(?:breakdown|distribution)|(?:distribution|breakdown)\\s+(?:of|by)\\s+status/i;\n    const taskStatusMatch = message.match(taskStatusRegex);\n    // Pattern for work item type queries\n    const workItemTypeRegex = /(?:work item|task)s?\\s+(?:by|per|across)\\s+type|type\\s+(?:breakdown|distribution)|(?:distribution|breakdown)\\s+(?:of|by)\\s+type/i;\n    const workItemTypeMatch = message.match(workItemTypeRegex);\n    // Pattern for tasks with specific status in specific iteration\n    const specificTasksRegex = /(?:show|get|find|display|list|what(?:'|i)s)?\\s*(?:the\\s+)?(\\w+(?:[-\\s]\\w+)*)\\s+(?:tasks|work items|items)\\s+(?:under|in|for|within)\\s+(.+?)(?:\\s*\\?|$)/i;\n    const specificTasksMatch = message.match(specificTasksRegex);\n    // Direct pattern for \"Active tasks under Techoil\\2.3.23\" and similar\n    const directTaskPathPattern = /^(\\w+)\\s+tasks\\s+under\\s+(.+)$/i;\n    const directMatch = !specificTasksMatch ? message.match(directTaskPathPattern) : null;\n    // Pattern for questions about specific task status count\n    const statusCountRegex = /(?:how many|what is the count of|count of|number of)\\s+(\\w+(?:[-\\s]\\w+)*)\\s+(?:tasks|work items|items)/i;\n    const statusCountMatch = message.match(statusCountRegex);\n    // Pattern for \"no of [status]\" queries\n    const noOfStatusRegex = /^(?:no|number) of\\s+(.+?)(?:\\s+tasks|\\s+work items|\\s+items)?(?:\\s+in|\\s+under|\\s+within|\\s+for)?\\s*(.*?)?\\s*$/i;\n    const noOfStatusMatch = message.match(noOfStatusRegex);\n    // Simple pattern for just a status name question\n    const simpleStatusRegex = /^(active|code review|cs-new|dev in progress|dev-new|planned|proposed|require clarification|resolved|verified)$/i;\n    const simpleStatusMatch = message.match(simpleStatusRegex);\n    // Pattern for status card questions\n    const statusCardRegex = /(?:status cards|task cards|dashboard cards|status distribution cards|task status distribution)/i;\n    const statusCardMatch = message.match(statusCardRegex);\n    // Handle queries like \"number of CS-New tasks under Techoil\\2.3.23\"\n    const handleStatusCountQuery = query => {\n      // Check if query matches the pattern\n      const match = query.match(noOfStatusRegex);\n      if (!match) return false;\n      // Extract the status and iteration path\n      let statusText = match[1].trim();\n      const iteration = match[2]?.trim() || this.selectedIterationPath;\n      // Special handling for known statuses\n      let actualStatus = statusText;\n      if (statusText.toLowerCase() === 'cs-new' || statusText.toLowerCase() === 'cs new') {\n        actualStatus = 'CS-New';\n      } else if (statusText.toLowerCase() === 'dev-new' || statusText.toLowerCase() === 'dev new') {\n        actualStatus = 'Dev-New';\n      } else if (statusText.toLowerCase() === 'dev in progress') {\n        actualStatus = 'Dev In progress';\n      } else if (statusText.toLowerCase() === 'code review') {\n        actualStatus = 'Code Review';\n      }\n      // Show loading message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Retrieving the count of ${actualStatus} tasks in ${iteration}...`,\n        timestamp: new Date()\n      });\n      // Get task count for this status\n      this.dashboardService.getTasksByStatusInIteration(actualStatus, iteration).subscribe({\n        next: tasks => {\n          this.chatMessages.pop();\n          if (tasks && tasks.length > 0) {\n            const count = tasks.length;\n            let formattedResponse = `<p>Found ${count} ${actualStatus} tasks in iteration \"${iteration}\".</p>`;\n            this.chatMessages.push({\n              role: 'assistant',\n              content: formattedResponse,\n              timestamp: new Date()\n            });\n          } else {\n            this.chatMessages.push({\n              role: 'assistant',\n              content: `No tasks found with status \"${actualStatus}\" in iteration \"${iteration}\".`,\n              timestamp: new Date()\n            });\n          }\n        },\n        error: err => {\n          this.chatMessages.pop();\n          console.error('Error retrieving task count:', err);\n          this.chatMessages.push({\n            role: 'assistant',\n            content: 'Sorry, I encountered an error retrieving the task count. Please try again later.',\n            timestamp: new Date()\n          });\n        }\n      });\n      return true;\n    };\n    if (assignTaskMatch) {\n      // This is a task assignment command\n      const taskId = parseInt(assignTaskMatch[1]);\n      const assignee = assignTaskMatch[2].trim();\n      // Show thinking message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Assigning task #${taskId} to ${assignee}...`,\n        timestamp: new Date()\n      });\n      // Process the assignment\n      this.dashboardService.processAiTaskAssignment(taskId, assignee).subscribe({\n        next: response => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          // Add success message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `✅ Task #${taskId} has been successfully assigned to ${assignee}. The changes will be reflected in Azure DevOps.`,\n            timestamp: new Date()\n          });\n          // Refresh task data to reflect the changes\n          this.loadTaskStatusBoard();\n        },\n        error: err => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          console.error('Error assigning task:', err);\n          // Add error message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `❌ Sorry, I couldn't assign task #${taskId} to ${assignee}. ${err.error?.message || 'Please check if the task ID and assignee name are correct.'}`,\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (shorthandAssignMatch) {\n      // This is a shorthand task assignment command\n      const taskId = parseInt(shorthandAssignMatch[1]);\n      const assignee = shorthandAssignMatch[2].trim();\n      // Show thinking message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Assigning task #${taskId} to ${assignee}...`,\n        timestamp: new Date()\n      });\n      // Process the assignment\n      this.dashboardService.processAiTaskAssignment(taskId, assignee).subscribe({\n        next: response => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          // Add success message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `✅ Task #${taskId} has been successfully assigned to ${assignee}. The changes will be reflected in Azure DevOps.`,\n            timestamp: new Date()\n          });\n          // Refresh task data to reflect the changes\n          this.loadTaskStatusBoard();\n        },\n        error: err => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          console.error('Error assigning task:', err);\n          // Add error message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `❌ Sorry, I couldn't assign task #${taskId} to ${assignee}. ${err.error?.message || 'Please check if the task ID and assignee name are correct.'}`,\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (lookupTaskMatch) {\n      // This is a task lookup command\n      const taskId = parseInt(lookupTaskMatch[1]);\n      // Show thinking message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Looking up task #${taskId}...`,\n        timestamp: new Date()\n      });\n      // Get task details\n      this.azureDevOpsService.getWorkItemById(taskId).subscribe({\n        next: task => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          if (task) {\n            // Format task details as a response\n            const statusClass = task.state ? task.state.toLowerCase().includes('active') ? 'text-primary' : task.state.toLowerCase().includes('new') ? 'text-success' : task.state.toLowerCase().includes('closed') ? 'text-secondary' : 'text-info' : 'text-info';\n            const formattedMessage = `\n              <div class=\"task-details p-2 border rounded\">\n                <h5>Task #${task.id}: ${task.title}</h5>\n                <ul class=\"list-unstyled mb-0\">\n                  <li><strong>Status:</strong> <span class=\"${statusClass}\">${task.state || 'Unknown'}</span></li>\n                  <li><strong>Assigned to:</strong> ${task.assignedTo || 'Unassigned'}</li>\n                  <li><strong>Iteration:</strong> ${this.decodeIterationPath(task.iterationPath)}</li>\n                  ${task.type ? `<li><strong>Type:</strong> ${task.type}</li>` : ''}\n                </ul>\n                <div class=\"mt-2\">\n                  <small>You can assign this task by typing: \"Assign task #${task.id} to [name]\"</small>\n                </div>\n              </div>\n            `;\n            // Add task details response\n            this.chatMessages.push({\n              role: 'assistant',\n              content: formattedMessage,\n              timestamp: new Date()\n            });\n          } else {\n            // Task not found\n            this.chatMessages.push({\n              role: 'assistant',\n              content: `❌ I couldn't find task #${taskId}. Please check if the ID is correct.`,\n              timestamp: new Date()\n            });\n          }\n        },\n        error: err => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          console.error('Error looking up task:', err);\n          // Add error message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `❌ Sorry, I couldn't find information for task #${taskId}. ${err.error?.message || 'Please check if the task ID is correct.'}`,\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (mostTasksMatch) {\n      // Handle \"who has the most tasks\" query locally\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing task distribution...',\n        timestamp: new Date()\n      });\n      const assigneeDistribution = this.getAssigneeDistribution();\n      if (assigneeDistribution && assigneeDistribution.length > 0) {\n        // Find member with the most tasks\n        const mostTasksMember = assigneeDistribution[0]; // Already sorted by task count in getAssigneeDistribution()\n        // Remove the thinking message\n        this.chatMessages.pop();\n        // Create formatted response with task distribution\n        let formattedResponse = `<p><strong>${mostTasksMember.name}</strong> has the most assigned tasks (${mostTasksMember.count}).</p>`;\n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2 small\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Team Member</th>\n                  <th>Task Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        // Add rows for top 5 members\n        assigneeDistribution.slice(0, 5).forEach(member => {\n          formattedResponse += `\n            <tr>\n              <td>${member.name}</td>\n              <td>${member.count}</td>\n            </tr>\n          `;\n        });\n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No assignee data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t determine who has the most tasks. There may be no tasks assigned yet.',\n          timestamp: new Date()\n        });\n      }\n    } else if (taskDistributionMatch) {\n      // Handle task distribution query locally\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing task distribution...',\n        timestamp: new Date()\n      });\n      if (this.tasksByStatus && this.tasksByStatus.length > 0) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        // Create formatted response with task distribution\n        let formattedResponse = `<p>Current task distribution in ${this.decodeIterationPath(this.selectedIterationPath)}:</p>`;\n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Status</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        // Add rows for all statuses\n        this.tasksByStatus.forEach(status => {\n          const statusClass = this.getStatusColor(status.status);\n          formattedResponse += `\n            <tr>\n              <td><span class=\"badge\" style=\"background-color: ${statusClass};\">${status.status}</span></td>\n              <td>${status.count}</td>\n            </tr>\n          `;\n        });\n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No status data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the task distribution information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (sprintStatusMatch) {\n      // Handle sprint status query locally\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Retrieving sprint information...',\n        timestamp: new Date()\n      });\n      if (this.sprintSummary) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        const completionPercentage = this.calculateCompletionPercentage();\n        // Create formatted response with sprint information\n        let formattedResponse = `\n          <div class=\"sprint-summary p-2 border rounded\">\n            <h5>${this.decodeIterationPath(this.selectedIterationPath)}</h5>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <ul class=\"list-unstyled mb-0\">\n                  <li><strong>Total Tasks:</strong> ${this.sprintSummary.totalTasks}</li>\n                  <li><strong>Completed Tasks:</strong> ${this.sprintSummary.completed}</li>\n                  <li><strong>In Progress:</strong> ${this.sprintSummary.inProgress}</li>\n                  <li><strong>Completion:</strong> ${this.sprintSummary.completionPercentage.toFixed(1)}%</li>\n                </ul>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"progress mb-2\" style=\"height: 20px;\">\n                  <div class=\"progress-bar\" role=\"progressbar\" \n                       style=\"width: ${completionPercentage}%;\" \n                       aria-valuenow=\"${completionPercentage}\" \n                       aria-valuemin=\"0\" \n                       aria-valuemax=\"100\">\n                    ${completionPercentage}%\n                  </div>\n                </div>\n                <p class=\"small text-muted text-center\">Sprint Progress</p>\n              </div>\n            </div>\n          </div>\n        `;\n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No sprint data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the sprint information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (dashboardMatch) {\n      // Handle dashboard queries\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Retrieving dashboard information...',\n        timestamp: new Date()\n      });\n      if (this.sprintSummary) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        const completionPercentage = this.calculateCompletionPercentage();\n        // Create formatted response with sprint information\n        let formattedResponse = `\n          <div class=\"sprint-summary p-2 border rounded\">\n            <h5>${this.decodeIterationPath(this.selectedIterationPath)}</h5>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <ul class=\"list-unstyled mb-0\">\n                  <li><strong>Total Tasks:</strong> ${this.sprintSummary.totalTasks}</li>\n                  <li><strong>Completed Tasks:</strong> ${this.sprintSummary.completed}</li>\n                  <li><strong>In Progress:</strong> ${this.sprintSummary.inProgress}</li>\n                  <li><strong>Completion:</strong> ${this.sprintSummary.completionPercentage.toFixed(1)}%</li>\n                </ul>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"progress mb-2\" style=\"height: 20px;\">\n                  <div class=\"progress-bar\" role=\"progressbar\" \n                       style=\"width: ${completionPercentage}%;\" \n                       aria-valuenow=\"${completionPercentage}\" \n                       aria-valuemin=\"0\" \n                       aria-valuemax=\"100\">\n                    ${completionPercentage}%\n                  </div>\n                </div>\n                <p class=\"small text-muted text-center\">Sprint Progress</p>\n              </div>\n            </div>\n          </div>\n        `;\n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No sprint data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the dashboard information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (taskStatusMatch) {\n      // Handle task status distribution queries\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing task status distribution...',\n        timestamp: new Date()\n      });\n      if (this.tasksByStatus && this.tasksByStatus.length > 0) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        // Create formatted response with task status distribution\n        let formattedResponse = `<p>Current task status distribution in ${this.decodeIterationPath(this.selectedIterationPath)}:</p>`;\n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Status</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        // Add rows for all statuses\n        this.tasksByStatus.forEach(status => {\n          const statusClass = this.getStatusColor(status.status);\n          formattedResponse += `\n            <tr>\n              <td><span class=\"badge\" style=\"background-color: ${statusClass};\">${status.status}</span></td>\n              <td>${status.count}</td>\n            </tr>\n          `;\n        });\n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No status data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the task status distribution information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (workItemTypeMatch) {\n      // Handle work item type queries\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing work item type distribution...',\n        timestamp: new Date()\n      });\n      if (this.tasksByType && this.tasksByType.length > 0) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        // Create formatted response with work item type distribution\n        let formattedResponse = `<p>Current work item type distribution in ${this.decodeIterationPath(this.selectedIterationPath)}:</p>`;\n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Type</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        // Add rows for all types\n        this.tasksByType.forEach(type => {\n          formattedResponse += `\n            <tr>\n              <td><span class=\"badge\" style=\"background-color: ${type.color};\">${type.type}</span></td>\n              <td>${type.count}</td>\n            </tr>\n          `;\n        });\n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No type data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the work item type distribution information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (specificTasksMatch) {\n      // Handle tasks with specific status in specific iteration\n      const status = specificTasksMatch[1];\n      const iteration = specificTasksMatch[2];\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Retrieving ${status} tasks in ${iteration}...`,\n        timestamp: new Date()\n      });\n      this.dashboardService.getTasksByStatusInIteration(status, iteration).subscribe({\n        next: tasks => {\n          this.chatMessages.pop();\n          if (tasks && tasks.length > 0) {\n            let formattedResponse = `<p>Found ${tasks.length} tasks with status \"${status}\" in iteration \"${iteration}\":</p>`;\n            formattedResponse += `<ul class=\"list-group\">`;\n            tasks.forEach(task => {\n              formattedResponse += `\n                  <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <div>\n                      <strong>#${task.id}</strong>: ${task.title}\n                      ${task.assignedTo ? `<div class=\"small text-muted\">Assigned to: ${task.assignedTo}</div>` : ''}\n                    </div>\n                    <span class=\"badge\" style=\"background-color: ${this.getStatusColor(task.status || '')};\">${task.status || 'Unknown'}</span>\n                  </li>\n                `;\n            });\n            formattedResponse += `</ul>`;\n            this.chatMessages.push({\n              role: 'assistant',\n              content: formattedResponse,\n              timestamp: new Date()\n            });\n          } else {\n            this.chatMessages.push({\n              role: 'assistant',\n              content: `No tasks found with status \"${status}\" in iteration \"${iteration}\".`,\n              timestamp: new Date()\n            });\n          }\n        },\n        error: err => {\n          this.chatMessages.pop();\n          console.error('Error retrieving tasks:', err);\n          this.chatMessages.push({\n            role: 'assistant',\n            content: 'Sorry, I encountered an error retrieving the tasks. Please try again later.',\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (directMatch && handleStatusCountQuery(message)) {\n      // Successfully handled by the specialized function\n    } else if (noOfStatusMatch && handleStatusCountQuery(message)) {\n      // Successfully handled by the specialized function\n    } else if (simpleStatusMatch) {\n      // Handle simple status name questions\n      const statusName = simpleStatusMatch[1];\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Retrieving information about the status \"${statusName}\" in ${this.decodeIterationPath(this.selectedIterationPath)}...`,\n        timestamp: new Date()\n      });\n      this.dashboardService.getTasksByStatusInIteration(statusName, this.selectedIterationPath).subscribe({\n        next: tasks => {\n          this.chatMessages.pop();\n          if (tasks && tasks.length > 0) {\n            const count = tasks.length;\n            let formattedResponse = `<p>Found ${count} tasks with status \"${statusName}\" in iteration \"${this.selectedIterationPath}\":</p>`;\n            this.chatMessages.push({\n              role: 'assistant',\n              content: formattedResponse,\n              timestamp: new Date()\n            });\n          } else {\n            this.chatMessages.push({\n              role: 'assistant',\n              content: `No tasks found with status \"${statusName}\" in iteration \"${this.selectedIterationPath}\".`,\n              timestamp: new Date()\n            });\n          }\n        },\n        error: err => {\n          this.chatMessages.pop();\n          console.error('Error retrieving status information:', err);\n          this.chatMessages.push({\n            role: 'assistant',\n            content: 'Sorry, I encountered an error retrieving the status information. Please try again later.',\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (statusCardMatch) {\n      // Handle status card questions\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Retrieving status card information...',\n        timestamp: new Date()\n      });\n      // Call API to get response for status card questions\n      this.dashboardService.getDashboardCardInformation(this.selectedIterationPath).subscribe({\n        next: response => {\n          this.chatMessages.pop();\n          // Add the actual response\n          const assistantMessage = {\n            role: 'assistant',\n            content: response.message,\n            timestamp: new Date()\n          };\n          this.chatMessages.push(assistantMessage);\n        },\n        error: err => {\n          this.chatMessages.pop();\n          console.error('Error getting status card response:', err);\n          // Add fallback response\n          const fallbackMessage = {\n            role: 'assistant',\n            content: 'Sorry, I encountered an error retrieving the status card information. Please try again later.',\n            timestamp: new Date()\n          };\n          this.chatMessages.push(fallbackMessage);\n        }\n      });\n    } else {\n      // Show loading indicator for regular chat messages\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Thinking...',\n        timestamp: new Date()\n      });\n      // Call API to get response for regular chat messages\n      this.dashboardService.sendChatMessage({\n        message: message,\n        currentIterationPath: this.selectedIterationPath\n      }).subscribe({\n        next: response => {\n          // Remove the loading indicator\n          this.chatMessages.pop();\n          // Add the actual response\n          const assistantMessage = {\n            role: 'assistant',\n            content: response.message,\n            timestamp: new Date()\n          };\n          this.chatMessages.push(assistantMessage);\n        },\n        error: err => {\n          // Remove the loading indicator\n          this.chatMessages.pop();\n          console.error('Error getting chat response:', err);\n          // Add fallback response\n          const fallbackMessage = {\n            role: 'assistant',\n            content: 'Sorry, I encountered an error processing your request. Please try again later.',\n            timestamp: new Date()\n          };\n          this.chatMessages.push(fallbackMessage);\n        }\n      });\n    }\n  }\n  /**\r\n   * Load work items from Azure DevOps for the selected iteration using WIQL API\r\n   */\n  loadAzureDevOpsWorkItemsWithWiql() {\n    this.loadingAzureDevOps = true;\n    this.azureDevOpsError = '';\n    this.azureDevOpsService.getWorkItemsByWiql(this.selectedIterationPath).pipe(finalize(() => {\n      this.loadingAzureDevOps = false;\n    })).subscribe({\n      next: dashboardStats => {\n        // Store the work item counts\n        this.workItemCounts = {\n          totalTasks: dashboardStats.totalTasks,\n          devNew: dashboardStats.devNew,\n          inProgress: dashboardStats.inProgress,\n          codeReview: dashboardStats.codeReview,\n          devComplete: dashboardStats.devComplete,\n          completed: dashboardStats.completed,\n          blocked: dashboardStats.blocked\n        };\n        // Store the work items if available\n        if (dashboardStats.workItems) {\n          this.azureDevOpsWorkItems = dashboardStats.workItems;\n        }\n        // Store assignee distribution data\n        if (dashboardStats.statsByAssignee) {\n          this.assigneeDistribution = dashboardStats.statsByAssignee;\n        }\n        // Update the summary data with the Azure DevOps counts\n        this.updateSummaryWithAzureDevOpsCounts();\n        // Update pie chart\n        setTimeout(() => {\n          this.initializeStatusPieChart();\n        }, 100);\n      },\n      error: error => {\n        console.error('Error loading Azure DevOps work items with WIQL:', error);\n        this.azureDevOpsError = 'Failed to load Azure DevOps work items. Please try again.';\n        // Fall back to the legacy method if WIQL fails\n        this.loadAzureDevOpsWorkItems();\n      }\n    });\n  }\n  /**\r\n   * Load work items from Azure DevOps for the selected iteration\r\n   */\n  loadAzureDevOpsWorkItems() {\n    this.loadingAzureDevOps = true;\n    this.azureDevOpsError = '';\n    // First try to get the status counts directly from the backend proxy\n    this.azureDevOpsService.getWorkItemStatusCounts(this.selectedIterationPath).pipe(catchError(error => {\n      console.error('Error loading status counts, falling back to work items:', error);\n      // Fall back to getting work items and counting them\n      return this.azureDevOpsService.getWorkItemsByIteration(this.selectedIterationPath).pipe(map(workItems => {\n        // Process the work items to get counts\n        return this.azureDevOpsService.getWorkItemCounts(workItems);\n      }), catchError(err => {\n        this.azureDevOpsError = 'Failed to load Azure DevOps work items. Please try again.';\n        console.error('Error loading Azure DevOps work items:', err);\n        return of({\n          totalTasks: 0,\n          devNew: 0,\n          inProgress: 0,\n          codeReview: 0,\n          devComplete: 0,\n          completed: 0,\n          blocked: 0\n        });\n      }));\n    }), finalize(() => {\n      this.loadingAzureDevOps = false;\n    })).subscribe(counts => {\n      // Store the counts\n      this.workItemCounts = counts;\n      // Also store the work items if available\n      if (Array.isArray(counts.workItems)) {\n        this.azureDevOpsWorkItems = counts.workItems;\n      }\n      // Update the summary data with the Azure DevOps counts\n      this.updateSummaryWithAzureDevOpsCounts();\n    });\n  }\n  /**\r\n   * Update summary data with the counts from Azure DevOps\r\n   */\n  updateSummaryWithAzureDevOpsCounts() {\n    console.log('Updating summary with Azure DevOps counts:', this.workItemCounts);\n    // Always create a new summary object with the latest counts to ensure reactivity\n    this.sprintSummary = {\n      totalTasks: this.workItemCounts.totalTasks || 0,\n      inProgress: this.workItemCounts.inProgress || 0,\n      completed: this.workItemCounts.completed || 0,\n      blocked: this.workItemCounts.blocked || 0,\n      completionPercentage: this.calculateCompletionPercentage()\n    };\n    // Also update task status board with Azure DevOps data\n    this.updateTaskStatusBoardWithAzureDevOpsCounts();\n    // Create tasksByStatus data for the pie chart\n    if (this.azureDevOpsWorkItems && this.azureDevOpsWorkItems.length > 0) {\n      // Group work items by state\n      const stateGroups = this.azureDevOpsWorkItems.reduce((acc, item) => {\n        const state = item.state || 'Unknown';\n        if (!acc[state]) {\n          acc[state] = [];\n        }\n        acc[state].push(item);\n        return acc;\n      }, {});\n      // Convert to tasksByStatus format\n      this.tasksByStatus = Object.keys(stateGroups).map(state => ({\n        status: state,\n        count: stateGroups[state].length,\n        color: this.getStatusColor(state)\n      })).sort((a, b) => b.count - a.count);\n      // Also update taskStatusBoard for compatibility\n      this.taskStatusBoard = [...this.tasksByStatus];\n    }\n  }\n  /**\r\n   * Calculate completion percentage based on work item counts\r\n   */\n  calculateCompletionPercentage() {\n    const total = this.workItemCounts.totalTasks;\n    if (total === 0) return 0;\n    const completed = this.workItemCounts.completed;\n    return Math.round(completed / total * 100);\n  }\n  /**\r\n   * Update task status board with counts from Azure DevOps\r\n   * This method is now only used for compatibility with other parts of the code\r\n   */\n  updateTaskStatusBoardWithAzureDevOpsCounts() {\n    // Update task status board with the latest data\n    this.loadTaskStatusBoard();\n  }\n  /**\r\n   * Get assignee data as an array for display in the UI\r\n   * @returns Array of assignee data with counts\r\n   */\n  getAssigneeDistribution() {\n    if (!this.assigneeDistribution) {\n      return [];\n    }\n    return Object.keys(this.assigneeDistribution).map(assignee => {\n      return {\n        name: assignee,\n        ...this.assigneeDistribution[assignee]\n      };\n    });\n  }\n  /**\r\n   * Calculate the percentage of completed items in the current sprint\r\n   * @returns Percentage of completed items\r\n   */\n  getCompletionPercentage() {\n    const completedItems = this.getCompletedItems();\n    const totalItems = this.getTotalWorkItems();\n    if (totalItems === 0) return 0;\n    return Math.round(completedItems / totalItems * 100);\n  }\n  /**\r\n   * Get the number of completed items in the current sprint\r\n   * @returns Number of completed items\r\n   */\n  getCompletedItems() {\n    if (!this.azureDevOpsWorkItems || this.azureDevOpsWorkItems.length === 0) {\n      return 0;\n    }\n    // These statuses are considered \"completed\"\n    const completedStatuses = ['Closed', 'Dev Complete', 'Moved to Production', 'Resolved', 'Test In Progress', 'Verified'];\n    // Count items with completed statuses\n    return this.azureDevOpsWorkItems.filter(item => {\n      const status = item.status || '';\n      return completedStatuses.some(s => status.toLowerCase() === s.toLowerCase());\n    }).length;\n  }\n  /**\r\n   * Get total work items for percentage calculation\r\n   * @returns Total number of work items\r\n   */\n  getTotalWorkItems() {\n    return this.azureDevOpsWorkItems ? this.azureDevOpsWorkItems.length : 0;\n  }\n  /**\r\n   * Show tasks for a specific status in a modal\r\n   * @param status The status to show tasks for\r\n   */\n  showTasksForStatus(status) {\n    this.selectedStatus = status;\n    this.loadingStatusTasks = true;\n    this.statusTasks = [];\n    // Show the modal first, then load the data\n    if (this.taskDetailsModal) {\n      this.taskDetailsModal.show();\n    }\n    // Define the API URL\n    const encodedPath = encodeURIComponent(this.selectedIterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    this.http.get(url).pipe(finalize(() => {\n      this.loadingStatusTasks = false;\n    })).subscribe({\n      next: workItems => {\n        if (workItems && workItems.length > 0) {\n          // Filter the work items by the selected status\n          this.statusTasks = workItems.filter(item => item.status === status || status === 'Dev In progress' && (item.status === 'Dev In Progress' || item.status.toLowerCase().includes('dev') && item.status.toLowerCase().includes('progress')));\n        } else {\n          this.statusTasks = [];\n        }\n      },\n      error: err => {\n        console.error('Error loading tasks for status:', err);\n        this.statusTasks = [];\n      }\n    });\n  }\n  /**\r\n   * Get URL for a task to link to Azure DevOps\r\n   * @param taskId The task ID\r\n   * @returns URL string for the task\r\n   */\n  getTaskUrl(taskId) {\n    return `${environment.azureDevOpsUrl}/${environment.organization}/${environment.project}/_workitems/edit/${taskId}`;\n  }\n  /**\r\n   * Show work items for a specific type in a modal\r\n   * @param type The work item type to show\r\n   */\n  showWorkItemsByType(type) {\n    this.selectedType = type;\n    this.loadingTypeItems = true;\n    this.typeItems = [];\n    // Get the color for this type from tasksByType\n    const typeInfo = this.tasksByType.find(t => t.type === type);\n    this.selectedTypeColor = typeInfo ? typeInfo.color : '#0078d4';\n    // Show the modal first, then load the data\n    if (this.workItemTypeModal) {\n      this.workItemTypeModal.show();\n    }\n    // Define the API URL\n    const encodedPath = encodeURIComponent(this.selectedIterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    this.http.get(url).pipe(finalize(() => {\n      this.loadingTypeItems = false;\n    })).subscribe({\n      next: workItems => {\n        if (workItems && workItems.length > 0) {\n          // Filter the work items by the selected type\n          this.typeItems = workItems.filter(item => item.type && item.type.toLowerCase() === this.selectedType.toLowerCase());\n        } else {\n          this.typeItems = [];\n        }\n      },\n      error: err => {\n        console.error(`Error loading work items for type ${type}:`, err);\n        this.typeItems = [];\n      }\n    });\n  }\n  /**\r\n   * Directly handle \"number of X tasks\" queries with a string parsing approach\r\n   * @param message The user message\r\n   */\n  handleStatusCountQueryDirect(message) {\n    let queryTerm = '';\n    let iterationPath = this.selectedIterationPath;\n    // Remove \"number of\" or \"no of\" prefix\n    let remainder = '';\n    if (message.toLowerCase().startsWith('number of ')) {\n      remainder = message.substring('number of '.length);\n    } else if (message.toLowerCase().startsWith('no of ')) {\n      remainder = message.substring('no of '.length);\n    }\n    // Check if there's an iteration path specified\n    const inIndex = remainder.toLowerCase().lastIndexOf(' in ');\n    const underIndex = remainder.toLowerCase().lastIndexOf(' under ');\n    const withinIndex = remainder.toLowerCase().lastIndexOf(' within ');\n    const forIndex = remainder.toLowerCase().lastIndexOf(' for ');\n    let splitIndex = -1;\n    if (inIndex > 0) splitIndex = inIndex;\n    if (underIndex > 0 && (splitIndex < 0 || underIndex < splitIndex)) splitIndex = underIndex;\n    if (withinIndex > 0 && (splitIndex < 0 || withinIndex < splitIndex)) splitIndex = withinIndex;\n    if (forIndex > 0 && (splitIndex < 0 || forIndex < splitIndex)) splitIndex = forIndex;\n    if (splitIndex > 0) {\n      // Extract iteration path\n      iterationPath = remainder.substring(splitIndex + 4).trim(); // +4 to skip \" in \", \" for \", etc.\n      // Extract query term\n      queryTerm = remainder.substring(0, splitIndex).trim();\n    } else {\n      // No iteration path, just extract query term\n      queryTerm = remainder.trim();\n    }\n    // Remove \" tasks\" or \" items\" suffix from query term if present\n    queryTerm = queryTerm.replace(/\\s+(?:tasks|work items|items)$/i, '').trim();\n    console.log(`Extracted term: \"${queryTerm}\", iteration: \"${iterationPath}\"`);\n    // Determine if this is a type query or a status query\n    const knownTypes = ['bug', 'task', 'user story', 'requirement', 'change request', 'code merge'];\n    const isTypeQuery = knownTypes.includes(queryTerm.toLowerCase());\n    // Special handling for known statuses to ensure correct casing\n    let normalizedValue = queryTerm;\n    if (!isTypeQuery) {\n      if (queryTerm.toLowerCase() === 'cs-new' || queryTerm.toLowerCase() === 'cs new') {\n        normalizedValue = 'CS-New';\n      } else if (queryTerm.toLowerCase() === 'dev-new' || queryTerm.toLowerCase() === 'dev new') {\n        normalizedValue = 'Dev-New';\n      } else if (queryTerm.toLowerCase() === 'dev in progress') {\n        normalizedValue = 'Dev In progress';\n      } else if (queryTerm.toLowerCase() === 'code review') {\n        normalizedValue = 'Code Review';\n      } else if (queryTerm.toLowerCase() === 'planned') {\n        normalizedValue = 'Planned';\n      } else if (queryTerm.toLowerCase() === 'active') {\n        normalizedValue = 'Active';\n      }\n    } else {\n      // Capitalize the first letter of each word in the type\n      normalizedValue = queryTerm.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join(' ');\n    }\n    // Show loading message\n    this.chatMessages.push({\n      role: 'assistant',\n      content: `Retrieving the count of ${normalizedValue} ${isTypeQuery ? 'work items' : 'tasks'} in ${iterationPath}...`,\n      timestamp: new Date()\n    });\n    // Define direct API URL instead of using the service that might be filtering incorrectly\n    const encodedPath = encodeURIComponent(iterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    // Get all tasks for the iteration and filter by status directly\n    this.http.get(url).subscribe({\n      next: tasks => {\n        this.chatMessages.pop(); // Remove loading message\n        if (tasks && tasks.length > 0) {\n          // Filter tasks based on whether it's a type or status query\n          const matchingTasks = tasks.filter(task => {\n            if (isTypeQuery) {\n              const taskType = task.type || '';\n              return taskType.toLowerCase() === normalizedValue.toLowerCase();\n            } else {\n              const taskStatus = task.status || '';\n              return taskStatus.toLowerCase() === normalizedValue.toLowerCase();\n            }\n          });\n          const count = matchingTasks.length;\n          if (count > 0) {\n            let formattedResponse = `<p>Found ${count} ${isTypeQuery ? normalizedValue : ''} ${isTypeQuery ? 'work items' : `tasks with status \"${normalizedValue}\"`} in iteration \"${iterationPath}\".</p>`;\n            this.chatMessages.push({\n              role: 'assistant',\n              content: formattedResponse,\n              timestamp: new Date()\n            });\n          } else {\n            this.chatMessages.push({\n              role: 'assistant',\n              content: isTypeQuery ? `No work items found with type \"${normalizedValue}\" in iteration \"${iterationPath}\".` : `No tasks found with status \"${normalizedValue}\" in iteration \"${iterationPath}\".`,\n              timestamp: new Date()\n            });\n          }\n        } else {\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `No tasks found in iteration \"${iterationPath}\".`,\n            timestamp: new Date()\n          });\n        }\n      },\n      error: err => {\n        this.chatMessages.pop();\n        console.error('Error retrieving task count:', err);\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'Sorry, I encountered an error retrieving the task count. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    });\n  }\n  static {\n    this.ɵfac = function DashboardComponent_Factory(t) {\n      return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.DashboardService), i0.ɵɵdirectiveInject(i2.AzureDevOpsService), i0.ɵɵdirectiveInject(i3.HttpClient));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardComponent,\n      selectors: [[\"app-dashboard\"]],\n      viewQuery: function DashboardComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n          i0.ɵɵviewQuery(_c2, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.stateDistributionChartRef = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.iterationDistributionChartRef = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.statusPieChartRef = _t.first);\n        }\n      },\n      decls: 98,\n      vars: 40,\n      consts: [[1, \"dashboard-container\", \"p-4\"], [1, \"row\", \"mb-4\"], [1, \"col-12\"], [1, \"mb-0\"], [1, \"text-muted\", \"mt-2\"], [1, \"dashboard-main-cards\"], [1, \"card-container\", \"sprint-overview\"], [1, \"card\"], [1, \"card-header\", \"d-flex\", \"justify-content-between\", \"align-items-center\"], [1, \"d-flex\", \"align-items-center\"], [1, \"input-group\", \"input-group-sm\", \"me-2\", 2, \"max-width\", \"250px\"], [\"for\", \"dashboardIterationPath\", 1, \"input-group-text\"], [\"id\", \"dashboardIterationPath\", \"type\", \"text\", \"placeholder\", \"Enter Iteration Path\", \"aria-label\", \"Iteration Path\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [\"type\", \"button\", \"title\", \"Load data for this iteration path\", 1, \"btn\", \"btn-outline-primary\", 3, \"click\"], [1, \"bi\", \"bi-search\"], [1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"click\"], [1, \"bi\", \"bi-arrow-clockwise\"], [1, \"card-body\", 2, \"min-height\", \"316px\", \"padding-bottom\", \"25px\"], [\"class\", \"text-center py-4\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"card-container\", \"ai-assistant\"], [1, \"card-header\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [1, \"chat-messages\", \"flex-grow-1\", \"overflow-auto\", \"mb-3\"], [\"class\", \"text-center py-3\", 4, \"ngIf\"], [\"class\", \"message mb-2\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"chat-input\"], [1, \"input-group\"], [\"type\", \"text\", \"placeholder\", \"Type your message...\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"keyup.enter\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"bi\", \"bi-send\"], [1, \"mt-2\", \"text-center\", \"small\", \"text-muted\"], [1, \"badge\", \"bg-success\", \"me-1\"], [1, \"card\", \"mb-4\"], [1, \"card-body\"], [\"class\", \"row g-3\", 4, \"ngIf\"], [\"class\", \"row\", 4, \"ngIf\"], [\"id\", \"taskStatusModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"taskStatusModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", 3, \"ngClass\"], [\"id\", \"taskStatusModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"id\", \"workItemTypeModal\", \"tabindex\", \"-1\", \"aria-labelledby\", \"workItemTypeModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-header\"], [\"id\", \"workItemTypeModalLabel\", 1, \"modal-title\"], [1, \"text-center\", \"py-4\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"visually-hidden\"], [1, \"alert\", \"alert-danger\"], [1, \"sprint-title\"], [1, \"d-flex\", \"justify-content-between\", \"mt-3\"], [1, \"text-muted\", \"mb-1\"], [1, \"fw-bold\"], [1, \"fw-bold\", \"days-remaining\"], [1, \"mt-3\"], [1, \"text-center\", \"py-3\"], [1, \"text-muted\"], [1, \"chat-examples\"], [1, \"mb-2\"], [1, \"list-unstyled\"], [1, \"badge\", \"bg-primary\", \"me-2\"], [1, \"badge\", \"bg-success\", \"me-2\"], [1, \"badge\", \"bg-info\", \"me-2\"], [1, \"badge\", \"bg-warning\", \"me-2\"], [1, \"message\", \"mb-2\", 3, \"ngClass\"], [1, \"message-content\"], [1, \"message-text\", 3, \"innerHTML\"], [1, \"message-time\", \"small\", \"text-muted\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-2\"], [1, \"progress\", 2, \"height\", \"20px\", \"border-radius\", \"10px\", \"box-shadow\", \"inset 0 1px 3px rgba(0,0,0,.1)\"], [\"role\", \"progressbar\", \"aria-valuenow\", \"getCompletionPercentage()\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-success\"], [1, \"mt-3\", \"small\"], [1, \"badge\", \"bg-secondary\", \"me-2\"], [1, \"mt-2\"], [1, \"row\", \"g-3\"], [\"class\", \"col-md-2 col-sm-4 col-6 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-2\", \"col-sm-4\", \"col-6\", \"mb-3\"], [\"title\", \"Click to view tasks\", 1, \"card\", \"task-state-card\", \"h-100\", 2, \"cursor\", \"pointer\", 3, \"ngClass\", \"click\"], [1, \"card-body\", \"text-center\", \"text-white\", \"p-3\"], [1, \"text-2xl\", \"font-bold\", \"mb-1\"], [1, \"text-lg\"], [1, \"row\"], [\"class\", \"col-md-3 mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-3\", \"mb-3\"], [\"title\", \"Click to view work items\", 1, \"card\", \"task-type-card\", \"h-100\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"card-body\", \"p-3\"], [1, \"mb-0\", \"card-title\"], [1, \"badge\", \"rounded-pill\"], [1, \"progress\"], [1, \"progress-bar\"], [1, \"alert\", \"alert-info\"], [1, \"table\", \"table-hover\"], [4, \"ngFor\", \"ngForOf\"], [\"target\", \"_blank\", 3, \"href\"], [1, \"badge\"]],\n      template: function DashboardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n          i0.ɵɵtext(4, \"AI Scrum Dashboard\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 4);\n          i0.ɵɵtext(6, \"Overview of sprint progress, work item distribution, and team performance\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"h4\", 3);\n          i0.ɵɵtext(12, \"Sprint Overview\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"div\")(14, \"div\", 9)(15, \"div\", 10)(16, \"label\", 11);\n          i0.ɵɵtext(17, \"Iteration Path\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 12);\n          i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_18_listener($event) {\n            return ctx.selectedIterationPath = $event;\n          })(\"keyup.enter\", function DashboardComponent_Template_input_keyup_enter_18_listener() {\n            return ctx.loadIterationData();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"button\", 13);\n          i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_19_listener() {\n            return ctx.loadIterationData();\n          });\n          i0.ɵɵelement(20, \"i\", 14);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(21, \"button\", 15);\n          i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_21_listener() {\n            return ctx.reload();\n          });\n          i0.ɵɵelement(22, \"i\", 16);\n          i0.ɵɵtext(23, \" Refresh \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(24, \"div\", 17);\n          i0.ɵɵtemplate(25, DashboardComponent_div_25_Template, 4, 0, \"div\", 18);\n          i0.ɵɵtemplate(26, DashboardComponent_div_26_Template, 2, 1, \"div\", 19);\n          i0.ɵɵtemplate(27, DashboardComponent_div_27_Template, 26, 11, \"div\", 20);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(28, \"div\", 21)(29, \"div\", 7)(30, \"div\", 22)(31, \"h4\", 3);\n          i0.ɵɵtext(32, \"AI Assistant\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(33, \"div\", 23)(34, \"div\", 24);\n          i0.ɵɵtemplate(35, DashboardComponent_div_35_Template, 79, 0, \"div\", 25);\n          i0.ɵɵtemplate(36, DashboardComponent_div_36_Template, 6, 9, \"div\", 26);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"div\", 27)(38, \"div\", 28)(39, \"input\", 29);\n          i0.ɵɵlistener(\"ngModelChange\", function DashboardComponent_Template_input_ngModelChange_39_listener($event) {\n            return ctx.currentMessage = $event;\n          })(\"keyup.enter\", function DashboardComponent_Template_input_keyup_enter_39_listener() {\n            return ctx.sendChatMessage();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(40, \"button\", 30);\n          i0.ɵɵlistener(\"click\", function DashboardComponent_Template_button_click_40_listener() {\n            return ctx.sendChatMessage();\n          });\n          i0.ɵɵelement(41, \"i\", 31);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(42, \"div\", 32)(43, \"span\", 33);\n          i0.ɵɵtext(44, \"New!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(45, \" You can now assign tasks by typing: \\\"Assign task #123 to John\\\" \");\n          i0.ɵɵelementEnd()()()()()();\n          i0.ɵɵelementStart(46, \"div\", 34)(47, \"div\", 22)(48, \"h4\", 3);\n          i0.ɵɵtext(49, \"Sprint Progress\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(50, \"div\", 35);\n          i0.ɵɵtemplate(51, DashboardComponent_div_51_Template, 4, 0, \"div\", 18);\n          i0.ɵɵtemplate(52, DashboardComponent_div_52_Template, 2, 1, \"div\", 19);\n          i0.ɵɵtemplate(53, DashboardComponent_div_53_Template, 16, 6, \"div\", 20);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(54, \"div\", 34)(55, \"div\", 22)(56, \"h4\", 3);\n          i0.ɵɵtext(57, \"Task Distribution by Status\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(58, \"div\", 35);\n          i0.ɵɵtemplate(59, DashboardComponent_div_59_Template, 6, 0, \"div\", 18);\n          i0.ɵɵtemplate(60, DashboardComponent_div_60_Template, 2, 1, \"div\", 19);\n          i0.ɵɵtemplate(61, DashboardComponent_div_61_Template, 3, 0, \"div\", 18);\n          i0.ɵɵtemplate(62, DashboardComponent_div_62_Template, 2, 1, \"div\", 36);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(63, \"div\", 34)(64, \"div\", 22)(65, \"h4\", 3);\n          i0.ɵɵtext(66, \"Work Items by Type\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(67, \"div\", 35);\n          i0.ɵɵtemplate(68, DashboardComponent_div_68_Template, 2, 1, \"div\", 37);\n          i0.ɵɵtemplate(69, DashboardComponent_div_69_Template, 3, 0, \"div\", 18);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(70, \"div\", 38)(71, \"div\", 39)(72, \"div\", 40)(73, \"div\", 41)(74, \"h5\", 42);\n          i0.ɵɵtext(75);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(76, \"button\", 43);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(77, \"div\", 44);\n          i0.ɵɵtemplate(78, DashboardComponent_div_78_Template, 6, 1, \"div\", 25);\n          i0.ɵɵtemplate(79, DashboardComponent_div_79_Template, 2, 1, \"div\", 45);\n          i0.ɵɵtemplate(80, DashboardComponent_div_80_Template, 12, 1, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(81, \"div\", 46)(82, \"button\", 47);\n          i0.ɵɵtext(83, \"Close\");\n          i0.ɵɵelementEnd()()()()();\n          i0.ɵɵelementStart(84, \"div\", 48)(85, \"div\", 39)(86, \"div\", 40)(87, \"div\", 49)(88, \"h5\", 50);\n          i0.ɵɵtext(89);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(90, \"button\", 43);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(91, \"div\", 44);\n          i0.ɵɵtemplate(92, DashboardComponent_div_92_Template, 6, 1, \"div\", 25);\n          i0.ɵɵtemplate(93, DashboardComponent_div_93_Template, 2, 1, \"div\", 45);\n          i0.ɵɵtemplate(94, DashboardComponent_div_94_Template, 14, 1, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(95, \"div\", 46)(96, \"button\", 47);\n          i0.ɵɵtext(97, \"Close\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngModel\", ctx.selectedIterationPath);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading.sprint);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.sprint);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading.sprint && !ctx.error.sprint && ctx.sprintOverview);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", ctx.chatMessages.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngForOf\", ctx.chatMessages);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngModel\", ctx.currentMessage);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading.sprintProgress);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error.sprintProgress);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading.sprintProgress && !ctx.error.sprintProgress);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingTaskDetails);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.taskDetailsError);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingTaskDetails && (!ctx.taskStatusBoard || ctx.taskStatusBoard.length === 0) && !ctx.taskDetailsError);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingTaskDetails && ctx.taskStatusBoard && ctx.taskStatusBoard.length > 0);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingTaskDetails && ctx.tasksByType && ctx.tasksByType.length > 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingTaskDetails && (!ctx.tasksByType || ctx.tasksByType.length === 0) && !ctx.taskDetailsError);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunctionV(29, _c5, [ctx.selectedStatus === \"Active\", ctx.selectedStatus === \"Code Review\", ctx.selectedStatus === \"Dev In Progress\" || ctx.selectedStatus === \"Dev In progress\", ctx.selectedStatus === \"Dev-New\" || ctx.selectedStatus === \"New\", ctx.selectedStatus === \"Planned\", ctx.selectedStatus === \"CS-New\" || ctx.selectedStatus === \"CS-new\", ctx.selectedStatus === \"Proposed\", ctx.selectedStatus === \"Require Clarification\", ctx.selectedStatus === \"Resolved\" || ctx.selectedStatus === \"Done\" || ctx.selectedStatus === \"Completed\", ctx.selectedStatus === \"Verified\" || ctx.selectedStatus === \"Validated\"]));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"Tasks with Status: \", ctx.selectedStatus, \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingStatusTasks);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingStatusTasks && ctx.statusTasks.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingStatusTasks && ctx.statusTasks.length > 0);\n          i0.ɵɵadvance(7);\n          i0.ɵɵstyleProp(\"background-color\", ctx.selectedTypeColor)(\"color\", \"white\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"\", ctx.selectedType, \" Items\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loadingTypeItems);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingTypeItems && ctx.typeItems.length === 0);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loadingTypeItems && ctx.typeItems.length > 0);\n        }\n      },\n      dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i4.DatePipe],\n      styles: [\"[_nghost-%COMP%] {\\n  display: block;\\n  background-color: #e8eaf6;\\n}\\n\\n.dashboard-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  background-color: #e8eaf6;\\n}\\n\\nh2[_ngcontent-%COMP%], .sprint-title[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n  color: #2c3e50;\\n  font-weight: 600;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n  background-color: #f5f7ff;\\n  margin-bottom: 20px;\\n  border: none;\\n}\\n.card[_ngcontent-%COMP%]:hover {\\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\\n}\\n.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] {\\n  background-color: #c5cae9;\\n  color: #3949ab;\\n  font-weight: 600;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\\n  padding: 12px 16px;\\n}\\n.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #f5f7ff;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(10px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n.alert[_ngcontent-%COMP%], .card[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeIn 0.3s ease-out;\\n}\\n\\n.days-remaining[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  color: #3949ab;\\n}\\n\\n\\n.summary-card[_ngcontent-%COMP%] {\\n  text-align: center;\\n  border-radius: 8px;\\n  transition: all 0.3s ease;\\n  height: 100%;\\n  background-color: #f5f7ff;\\n}\\n.summary-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\\n}\\n.summary-card[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  font-weight: 700;\\n}\\n\\n.total-card[_ngcontent-%COMP%] {\\n  border-top: 4px solid #3949ab;\\n}\\n\\n.in-progress-card[_ngcontent-%COMP%] {\\n  border-top: 4px solid #3f51b5;\\n}\\n\\n.completed-card[_ngcontent-%COMP%] {\\n  border-top: 4px solid #4caf50;\\n}\\n\\n.blocked-card[_ngcontent-%COMP%] {\\n  border-top: 4px solid #f44336;\\n}\\n\\n\\n.status-card[_ngcontent-%COMP%] {\\n  transition: all 0.3s ease;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  background-color: #f5f7ff;\\n}\\n.status-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\\n}\\n.status-card[_ngcontent-%COMP%]   .status-count[_ngcontent-%COMP%] {\\n  font-size: 2.5rem;\\n  font-weight: bold;\\n  color: #3949ab;\\n}\\n.status-card[_ngcontent-%COMP%]   .status-title[_ngcontent-%COMP%] {\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  color: #2c3e50;\\n}\\n\\n\\n.chat-messages[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  max-height: 250px;\\n  overflow-y: auto;\\n  background-color: #f5f7ff;\\n  border-radius: 8px;\\n  padding: 10px;\\n}\\n\\n.message[_ngcontent-%COMP%] {\\n  margin-bottom: 10px;\\n  max-width: 85%;\\n  padding: 8px 12px;\\n  border-radius: 12px;\\n  position: relative;\\n}\\n\\n.user-message[_ngcontent-%COMP%] {\\n  align-self: flex-end;\\n  background-color: #3949ab;\\n  color: white;\\n  margin-left: auto;\\n  border-bottom-right-radius: 2px;\\n}\\n.user-message[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%] {\\n  text-align: right;\\n  color: rgba(255, 255, 255, 0.7) !important;\\n}\\n\\n.assistant-message[_ngcontent-%COMP%] {\\n  align-self: flex-start;\\n  background-color: #e8eaf6;\\n  color: #333;\\n  margin-right: auto;\\n  border-bottom-left-radius: 2px;\\n}\\n\\n.message-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.message-text[_ngcontent-%COMP%] {\\n  margin-bottom: 4px;\\n}\\n\\n\\n.activity-list[_ngcontent-%COMP%] {\\n  max-height: 400px;\\n  overflow-y: auto;\\n  background-color: #f5f7ff;\\n  border-radius: 8px;\\n  padding: 10px;\\n}\\n\\n.activity-title[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n  color: #3949ab;\\n}\\n\\n.activity-details[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  color: #666;\\n}\\n\\n.activity-meta[_ngcontent-%COMP%] {\\n  white-space: nowrap;\\n  margin-left: 15px;\\n  color: #9fa8da;\\n}\\n\\n\\n.color-box[_ngcontent-%COMP%] {\\n  width: 16px;\\n  height: 16px;\\n  display: inline-block;\\n  border-radius: 3px;\\n}\\n\\n\\n.assignee-row[_ngcontent-%COMP%] {\\n  padding: 12px;\\n  border-radius: 6px;\\n  background-color: #e8eaf6;\\n  transition: all 0.2s ease;\\n  margin-bottom: 8px;\\n}\\n.assignee-row[_ngcontent-%COMP%]:hover {\\n  background-color: #d1d9ff;\\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\\n}\\n\\n.status-badge[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  font-size: 0.8rem;\\n  font-weight: 500;\\n}\\n\\n.status-legend-item[_ngcontent-%COMP%] {\\n  font-size: 14px;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  background-color: #e8eaf6;\\n}\\n\\n\\n.task-state-card[_ngcontent-%COMP%] {\\n  border: none;\\n  border-radius: 12px;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n  overflow: hidden;\\n  min-height: 120px; \\n  \\n}\\n.task-state-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);\\n}\\n.task-state-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  padding: 16px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  height: 100%;\\n  text-align: center;\\n  width: 100%;\\n}\\n.task-state-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 3.25rem;\\n  font-weight: 700;\\n  line-height: 1;\\n  margin-bottom: 0.75rem;\\n  color: #FFFFFF;\\n}\\n.task-state-card[_ngcontent-%COMP%]   .status-label[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  max-width: 100%;\\n  color: #FFFFFF;\\n}\\n.task-state-card[_ngcontent-%COMP%]   .text-2xl[_ngcontent-%COMP%], .task-state-card[_ngcontent-%COMP%]   .text-lg[_ngcontent-%COMP%] {\\n  color: #FFFFFF !important;\\n  font-weight: bold;\\n  font-size: 1.2rem;\\n  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\\n}\\n\\n\\n.status-active[_ngcontent-%COMP%] {\\n  background-color: #1E90FF !important; \\n}\\n.status-active[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #1E90FF !important;\\n}\\n\\n.status-code-review[_ngcontent-%COMP%] {\\n  background-color: #6495ED !important; \\n}\\n.status-code-review[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #6495ED !important;\\n}\\n\\n.status-cs-new[_ngcontent-%COMP%] {\\n  background-color: #BA55D3 !important; \\n}\\n.status-cs-new[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #BA55D3 !important;\\n}\\n\\n.status-dev-progress[_ngcontent-%COMP%] {\\n  background-color: #FF69B4 !important; \\n}\\n.status-dev-progress[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #FF69B4 !important;\\n}\\n\\n.status-dev-new[_ngcontent-%COMP%] {\\n  background-color: #3CB371 !important; \\n}\\n.status-dev-new[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #3CB371 !important;\\n}\\n\\n.status-planned[_ngcontent-%COMP%] {\\n  background-color: #9370DB !important; \\n}\\n.status-planned[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #9370DB !important;\\n}\\n\\n.status-proposed[_ngcontent-%COMP%] {\\n  background-color: #A9A9A9 !important; \\n}\\n.status-proposed[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #A9A9A9 !important;\\n}\\n\\n.status-clarification[_ngcontent-%COMP%] {\\n  background-color: #FFB347 !important; \\n}\\n.status-clarification[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #FFB347 !important;\\n}\\n\\n.status-resolved[_ngcontent-%COMP%] {\\n  background-color: #DA70D6 !important; \\n}\\n.status-resolved[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #DA70D6 !important;\\n}\\n\\n.status-verified[_ngcontent-%COMP%] {\\n  background-color: #00BFFF !important; \\n}\\n.status-verified[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  background-color: #00BFFF !important;\\n}\\n\\n\\n.task-state-card[_ngcontent-%COMP%]:not(.status-active):not(.status-code-review):not(.status-cs-new):not(.status-dev-progress):not(.status-dev-new):not(.status-planned):not(.status-proposed):not(.status-clarification):not(.status-resolved):not(.status-verified) {\\n  background-color: #4B0082 !important; \\n}\\n.task-state-card[_ngcontent-%COMP%]:not(.status-active):not(.status-code-review):not(.status-cs-new):not(.status-dev-progress):not(.status-dev-new):not(.status-planned):not(.status-proposed):not(.status-clarification):not(.status-resolved):not(.status-verified)   .card-body[_ngcontent-%COMP%] {\\n  background-color: #4B0082 !important;\\n}\\n\\n\\n.task-type-card[_ngcontent-%COMP%] {\\n  border: 1px solid #c5cae9;\\n  border-left-width: 5px;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n  background-color: #f5f7ff;\\n  overflow: hidden;\\n}\\n.task-type-card[_ngcontent-%COMP%]:hover {\\n  transform: translateY(-5px);\\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\\n}\\n.task-type-card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%] {\\n  font-size: 1rem;\\n  font-weight: 600;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  color: #3949ab;\\n}\\n.task-type-card[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  font-weight: 500;\\n  padding: 0.35rem 0.7rem;\\n}\\n.task-type-card[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%] {\\n  height: 6px;\\n  background-color: #e8eaf6;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  background-color: #3949ab;\\n  border-color: #3949ab;\\n}\\n.btn-primary[_ngcontent-%COMP%]:hover, .btn-primary[_ngcontent-%COMP%]:focus {\\n  background-color: #303f9f;\\n  border-color: #303f9f;\\n}\\n.btn-primary.btn-sm[_ngcontent-%COMP%] {\\n  padding: 0.25rem 0.5rem;\\n  font-size: 0.875rem;\\n  line-height: 1.5;\\n  border-radius: 0.2rem;\\n  transition: all 0.2s ease;\\n}\\n.btn-primary.btn-sm[_ngcontent-%COMP%]:hover {\\n  background-color: #303f9f;\\n  transform: translateY(-1px);\\n}\\n.btn-primary.btn-sm[_ngcontent-%COMP%]:active {\\n  transform: translateY(0);\\n}\\n.btn-primary.btn-sm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  margin-right: 4px;\\n}\\n\\n\\n.text-lg[_ngcontent-%COMP%]:contains(\\\"Dev   In[_ngcontent-%COMP%]   progress\\\")[_ngcontent-%COMP%] {\\n  color: #ffffff !important;\\n}\\n\\n\\n.card-body[_ngcontent-%COMP%]:has(.text-lg:contains(\\\"Dev   In[_ngcontent-%COMP%]   progress\\\"))[_ngcontent-%COMP%] {\\n  background-color: #d81b60 !important;\\n}\\n\\n\\n.status-active-header[_ngcontent-%COMP%] {\\n  background-color: #1E90FF !important;\\n  color: white;\\n}\\n\\n.status-code-review-header[_ngcontent-%COMP%] {\\n  background-color: #6495ED !important;\\n  color: white;\\n}\\n\\n.status-cs-new-header[_ngcontent-%COMP%] {\\n  background-color: #BA55D3 !important;\\n  color: white;\\n}\\n\\n.status-dev-progress-header[_ngcontent-%COMP%] {\\n  background-color: #FF69B4 !important;\\n  color: white;\\n}\\n\\n.status-dev-new-header[_ngcontent-%COMP%] {\\n  background-color: #3CB371 !important;\\n  color: white;\\n}\\n\\n.status-planned-header[_ngcontent-%COMP%] {\\n  background-color: #9370DB !important;\\n  color: white;\\n}\\n\\n.status-proposed-header[_ngcontent-%COMP%] {\\n  background-color: #A9A9A9 !important;\\n  color: white;\\n}\\n\\n.status-clarification-header[_ngcontent-%COMP%] {\\n  background-color: #FFB347 !important;\\n  color: white;\\n}\\n\\n.status-resolved-header[_ngcontent-%COMP%] {\\n  background-color: #DA70D6 !important;\\n  color: white;\\n}\\n\\n.status-verified-header[_ngcontent-%COMP%] {\\n  background-color: #00BFFF !important;\\n  color: white;\\n}\\n\\n\\n.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%] {\\n  width: 100%;\\n  border-collapse: separate;\\n  border-spacing: 0;\\n}\\n\\n.modal-body[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  background-color: #f0f2ff;\\n  position: sticky;\\n  top: 0;\\n  z-index: 10;\\n}\\n\\n.modal-body[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  vertical-align: middle;\\n}\\n\\n.modal-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover {\\n  background-color: #e8eaf6;\\n}\\n\\n.dashboard-main-cards[_ngcontent-%COMP%] {\\n  margin-bottom: 1.5rem;\\n  display: flex;\\n  align-items: stretch;\\n  gap: 1rem;\\n}\\n@media (max-width: 767.98px) {\\n  .dashboard-main-cards[_ngcontent-%COMP%] {\\n    flex-direction: column;\\n  }\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container.sprint-overview[_ngcontent-%COMP%] {\\n  flex: 2;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container.ai-assistant[_ngcontent-%COMP%] {\\n  flex: 1;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container.ai-assistant[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  min-height: 350px;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container.ai-assistant[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .chat-messages[_ngcontent-%COMP%] {\\n  flex: 1;\\n  overflow-y: auto;\\n  margin-bottom: 1rem;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container.ai-assistant[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .chat-input[_ngcontent-%COMP%] {\\n  margin-top: auto;\\n}\\n@media (max-width: 767.98px) {\\n  .dashboard-main-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\\n  flex-grow: 1;\\n  height: 100%;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\n  border: none;\\n  overflow: hidden;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%] {\\n  background-color: #c5cae9;\\n  color: #3949ab;\\n  font-weight: 600;\\n  padding: 0.75rem 1rem;\\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n.dashboard-main-cards[_ngcontent-%COMP%]   .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%] {\\n  padding: 1rem;\\n  background-color: #f8f9fa;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kYXNoYm9hcmQvZGFzaGJvYXJkLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsY0FBQTtFQUNBLHlCQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0VBQ0EseUJBQUE7QUFBRjs7QUFHQTtFQUNFLHFCQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0FBQUY7O0FBR0E7RUFDRSxrQkFBQTtFQUNBLHdDQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQUFGO0FBRUU7RUFDRSwwQ0FBQTtBQUFKO0FBR0U7RUFDRSx5QkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLDZDQUFBO0VBQ0Esa0JBQUE7QUFESjtBQUlFO0VBQ0UseUJBQUE7QUFGSjs7QUFPQTtFQUNFO0lBQU8sVUFBQTtJQUFZLDJCQUFBO0VBRm5CO0VBR0E7SUFBSyxVQUFBO0lBQVksd0JBQUE7RUFDakI7QUFDRjtBQUNBO0VBQ0UsK0JBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxjQUFBO0FBQ0Y7O0FBRUEsa0JBQUE7QUFDQTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtBQUNGO0FBQ0U7RUFDRSwyQkFBQTtFQUNBLDBDQUFBO0FBQ0o7QUFFRTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7QUFBSjs7QUFJQTtFQUNFLDZCQUFBO0FBREY7O0FBSUE7RUFDRSw2QkFBQTtBQURGOztBQUlBO0VBQ0UsNkJBQUE7QUFERjs7QUFJQTtFQUNFLDZCQUFBO0FBREY7O0FBSUEsd0JBQUE7QUFDQTtFQUNFLHlCQUFBO0VBQ0Esd0NBQUE7RUFDQSx5QkFBQTtBQURGO0FBR0U7RUFDRSwyQkFBQTtFQUNBLDBDQUFBO0FBREo7QUFJRTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxjQUFBO0FBRko7QUFLRTtFQUNFLG1C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Zm9yIHRoZSBlbnRpcmUgY29tcG9uZW50XG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlYWY2O1xufVxuXG4uZGFzaGJvYXJkLWNvbnRhaW5lciB7XG4gIHBhZGRpbmc6IDIwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlOGVhZjY7XG59XG5cbmgyLCAuc3ByaW50LXRpdGxlIHtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICBjb2xvcjogIzJjM2U1MDtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cblxuLmNhcmQge1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY3ZmY7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIGJvcmRlcjogbm9uZTtcbiAgXG4gICY6aG92ZXIge1xuICAgIGJveC1zaGFkb3c6IDAgNnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgfVxuICBcbiAgLmNhcmQtaGVhZGVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzVjYWU5O1xuICAgIGNvbG9yOiAjMzk0OWFiO1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4xMjUpO1xuICAgIHBhZGRpbmc6IDEycHggMTZweDtcbiAgfVxuICBcbiAgLmNhcmQtYm9keSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjdmZjtcbiAgfVxufVxuXG4vLyBBZGQgc29tZSBhbmltYXRpb24gZWZmZWN0c1xuQGtleWZyYW1lcyBmYWRlSW4ge1xuICBmcm9tIHsgb3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwcHgpOyB9XG4gIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9XG59XG5cbi5hbGVydCwgLmNhcmQge1xuICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2Utb3V0O1xufVxuXG4uZGF5cy1yZW1haW5pbmcge1xuICBmb250LXNpemU6IDI0cHg7XG4gIGNvbG9yOiAjMzk0OWFiOyAvLyBVcGRhdGVkIHRvIG1hdGNoIHRoZW1lXG59XG5cbi8qIFN1bW1hcnkgQ2FyZHMgKi9cbi5zdW1tYXJ5LWNhcmQge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZmO1xuICBcbiAgJjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICAgIGJveC1zaGFkb3c6IDAgNnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgfVxuICBcbiAgLmNhcmQtdmFsdWUge1xuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiA3MDA7XG4gIH1cbn1cblxuLnRvdGFsLWNhcmQge1xuICBib3JkZXItdG9wOiA0cHggc29saWQgIzM5NDlhYjsgLy8gVXBkYXRlZCB0byBtYXRjaCB0aGVtZVxufVxuXG4uaW4tcHJvZ3Jlc3MtY2FyZCB7XG4gIGJvcmRlci10b3A6IDRweCBzb2xpZCAjM2Y1MWI1OyAvLyBJbmRpZ29cbn1cblxuLmNvbXBsZXRlZC1jYXJkIHtcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkICM0Y2FmNTA7IC8vIEdyZWVuXG59XG5cbi5ibG9ja2VkLWNhcmQge1xuICBib3JkZXItdG9wOiA0cHggc29saWQgI2Y0NDMzNjsgLy8gUmVkXG59XG5cbi8qIFN0YXR1cyBjYXJkIHN0eWxpbmcgKi9cbi5zdGF0dXMtY2FyZCB7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDZweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY3ZmY7XG5cbiAgJjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICAgIGJveC1zaGFkb3c6IDAgNnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgfVxuXG4gIC5zdGF0dXMtY291bnQge1xuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGNvbG9yOiAjMzk0OWFiO1xuICB9XG5cbiAgLnN0YXR1cy10aXRsZSB7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIGNvbG9yOiAjMmMzZTUwO1xuICB9XG59XG5cbi8qIEFJIENoYXQgc3R5bGluZyAqL1xuLmNoYXQtbWVzc2FnZXMge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXgtaGVpZ2h0OiAyNTBweDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjdmZjtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4ubWVzc2FnZSB7XG4gIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIG1heC13aWR0aDogODUlO1xuICBwYWRkaW5nOiA4cHggMTJweDtcbiAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4udXNlci1tZXNzYWdlIHtcbiAgYWxpZ24tc2VsZjogZmxleC1lbmQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzOTQ5YWI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAycHg7XG4gIFxuICAubWVzc2FnZS10aW1lIHtcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuLmFzc2lzdGFudC1tZXNzYWdlIHtcbiAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZWFmNjtcbiAgY29sb3I6ICMzMzM7XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMnB4O1xufVxuXG4ubWVzc2FnZS1jb250ZW50IHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuLm1lc3NhZ2UtdGV4dCB7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbn1cblxuLyogQWN0aXZpdHkgZmVlZCBzdHlsaW5nICovXG4uYWN0aXZpdHktbGlzdCB7XG4gIG1heC1oZWlnaHQ6IDQwMHB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZmO1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbi5hY3Rpdml0eS10aXRsZSB7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiAjMzk0OWFiO1xufVxuXG4uYWN0aXZpdHktZGV0YWlscyB7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBjb2xvcjogIzY2Njtcbn1cblxuLmFjdGl2aXR5LW1ldGEge1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBtYXJnaW4tbGVmdDogMTVweDtcbiAgY29sb3I6ICM5ZmE4ZGE7XG59XG5cbi8qIENvbG9yIGJveCBmb3IgbGVnZW5kcyAqL1xuLmNvbG9yLWJveCB7XG4gIHdpZHRoOiAxNnB4O1xuICBoZWlnaHQ6IDE2cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xufVxuXG4vKiBBc3NpZ25lZSBkaXN0cmlidXRpb24gc3R5bGluZyAqL1xuLmFzc2lnbmVlLXJvdyB7XG4gIHBhZGRpbmc6IDEycHg7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZWFmNjtcbiAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcbiAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICBcbiAgJjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2QxZDlmZjtcbiAgICBib3gtc2hhZG93OiAwIDJweCA1cHggcmdiYSgwLDAsMCwwLjA1KTtcbiAgfVxufVxuXG4uc3RhdHVzLWJhZGdlIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwYWRkaW5nOiA0cHggOHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uc3RhdHVzLWxlZ2VuZC1pdGVtIHtcbiAgZm9udC1zaXplOiAxNHB4O1xuICBwYWRkaW5nOiA1cHggMTBweDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZThlYWY2O1xufVxuXG4vKiBUYXNrIHN0YXRlIGNhcmRzIHN0eWxpbmcgKi9cbi50YXNrLXN0YXRlLWNhcmQge1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBtaW4taGVpZ2h0OiAxMjBweDsgLyogRW5zdXJlIGNvbnNpc3RlbnQgaGVpZ2h0ICovXG4gIFxuICAmOmhvdmVyIHtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7XG4gICAgYm94LXNoYWRvdzogMCA2cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gIH1cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIHBhZGRpbmc6IDE2cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICB3aWR0aDogMTAwJTtcbiAgfVxuICBcbiAgaDEge1xuICAgIGZvbnQtc2l6ZTogMy4yNXJlbTtcbiAgICBmb250LXdlaWdodDogNzAwO1xuICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgIG1hcmdpbi1ib3R0b206IDAuNzVyZW07XG4gICAgY29sb3I6ICNGRkZGRkY7XG4gIH1cbiAgXG4gIC5zdGF0dXMtbGFiZWwge1xuICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgY29sb3I6ICNGRkZGRkY7XG4gIH1cbiAgXG4gIC8qIEVuc3VyZSBhbGwgdGV4dCBpbiBzdGF0dXMgY2FyZHMgaXMgd2hpdGUgd2l0aCBnb29kIGNvbnRyYXN0ICovXG4gIC50ZXh0LTJ4bCwgLnRleHQtbGcge1xuICAgIGNvbG9yOiAjRkZGRkZGICFpbXBvcnRhbnQ7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgdGV4dC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbn1cblxuLyogSW5kaXZpZHVhbCBzdGF0dXMgY2FyZCBjb2xvcnMgLSB1c2luZyB0aGUgc3BlY2lmaWVkIHNvbGlkIGNvbG9ycyAqL1xuLnN0YXR1cy1hY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUU5MEZGICFpbXBvcnRhbnQ7IC8qIERvZGdlciBCbHVlICovXG4gIFxuICAuY2FyZC1ib2R5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUU5MEZGICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuLnN0YXR1cy1jb2RlLXJldmlldyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM2NDk1RUQgIWltcG9ydGFudDsgLyogQ29ybmZsb3dlciBCbHVlICovXG4gIFxuICAuY2FyZC1ib2R5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjQ5NUVEICFpbXBvcnRhbnQ7XG4gIH1cbn1cblxuLnN0YXR1cy1jcy1uZXcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQkE1NUQzICFpbXBvcnRhbnQ7IC8qIE1lZGl1bSBPcmNoaWQgKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNCQTU1RDMgIWltcG9ydGFudDtcbiAgfVxufVxuXG4uc3RhdHVzLWRldi1wcm9ncmVzcyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRjY5QjQgIWltcG9ydGFudDsgLyogSG90IFBpbmsgKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRjY5QjQgIWltcG9ydGFudDtcbiAgfVxufVxuXG4uc3RhdHVzLWRldi1uZXcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjM0NCMzcxICFpbXBvcnRhbnQ7IC8qIE1lZGl1bSBTZWEgR3JlZW4gKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMzQ0IzNzEgIWltcG9ydGFudDtcbiAgfVxufVxuXG4uc3RhdHVzLXBsYW5uZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTM3MERCICFpbXBvcnRhbnQ7IC8qIE1lZGl1bSBQdXJwbGUgKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM5MzcwREIgIWltcG9ydGFudDtcbiAgfVxufVxuXG4uc3RhdHVzLXByb3Bvc2VkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E5QTlBOSAhaW1wb3J0YW50OyAvKiBEYXJrIEdyYXkgKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNBOUE5QTkgIWltcG9ydGFudDtcbiAgfVxufVxuXG4uc3RhdHVzLWNsYXJpZmljYXRpb24ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZCMzQ3ICFpbXBvcnRhbnQ7IC8qIExpZ2h0IE9yYW5nZSAqL1xuICBcbiAgLmNhcmQtYm9keSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGQjM0NyAhaW1wb3J0YW50O1xuICB9XG59XG5cbi5zdGF0dXMtcmVzb2x2ZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjREE3MEQ2ICFpbXBvcnRhbnQ7IC8qIE9yY2hpZCAqL1xuICBcbiAgLmNhcmQtYm9keSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0RBNzBENiAhaW1wb3J0YW50O1xuICB9XG59XG5cbi5zdGF0dXMtdmVyaWZpZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBCRkZGICFpbXBvcnRhbnQ7IC8qIERlZXAgU2t5IEJsdWUgKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMEJGRkYgIWltcG9ydGFudDtcbiAgfVxufVxuXG4vKiBEZWZhdWx0IHN0eWxpbmcgZm9yIGFueSB0YXNrIHN0YXRlIGNhcmQgdGhhdCBkb2Vzbid0IG1hdGNoIHRoZSBhYm92ZSBjbGFzc2VzICovXG4udGFzay1zdGF0ZS1jYXJkOm5vdCguc3RhdHVzLWFjdGl2ZSk6bm90KC5zdGF0dXMtY29kZS1yZXZpZXcpOm5vdCguc3RhdHVzLWNzLW5ldyk6bm90KC5zdGF0dXMtZGV2LXByb2dyZXNzKTpub3QoLnN0YXR1cy1kZXYtbmV3KTpub3QoLnN0YXR1cy1wbGFubmVkKTpub3QoLnN0YXR1cy1wcm9wb3NlZCk6bm90KC5zdGF0dXMtY2xhcmlmaWNhdGlvbik6bm90KC5zdGF0dXMtcmVzb2x2ZWQpOm5vdCguc3RhdHVzLXZlcmlmaWVkKSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM0QjAwODIgIWltcG9ydGFudDsgLyogSW5kaWdvIGFzIGRlZmF1bHQgKi9cbiAgXG4gIC5jYXJkLWJvZHkge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM0QjAwODIgIWltcG9ydGFudDtcbiAgfVxufVxuXG4vKiBUYXNrIHR5cGUgY2FyZHMgc3R5bGluZyAqL1xuLnRhc2stdHlwZS1jYXJkIHtcbiAgYm9yZGVyOiAxcHggc29saWQgI2M1Y2FlOTtcbiAgYm9yZGVyLWxlZnQtd2lkdGg6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmN2ZmO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBcbiAgJjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xuICAgIGJveC1zaGFkb3c6IDAgNnB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjE1KTtcbiAgfVxuICBcbiAgLmNhcmQtdGl0bGUge1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBmb250LXdlaWdodDogNjAwO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICBjb2xvcjogIzM5NDlhYjtcbiAgfVxuICBcbiAgLmJhZGdlIHtcbiAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIHBhZGRpbmc6IDAuMzVyZW0gMC43cmVtO1xuICB9XG4gIFxuICAucHJvZ3Jlc3Mge1xuICAgIGhlaWdodDogNnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNlOGVhZjY7XG4gIH1cbn1cblxuLmJ0bi1wcmltYXJ5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM5NDlhYjtcbiAgYm9yZGVyLWNvbG9yOiAjMzk0OWFiO1xuICBcbiAgJjpob3ZlciwgJjpmb2N1cyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMwM2Y5ZjtcbiAgICBib3JkZXItY29sb3I6ICMzMDNmOWY7XG4gIH1cbiAgXG4gICYuYnRuLXNtIHtcbiAgICBwYWRkaW5nOiAwLjI1cmVtIDAuNXJlbTtcbiAgICBmb250LXNpemU6IDAuODc1cmVtO1xuICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgYm9yZGVyLXJhZGl1czogMC4ycmVtO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2U7XG4gICAgXG4gICAgJjpob3ZlciB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzAzZjlmO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xcHgpO1xuICAgIH1cbiAgICBcbiAgICAmOmFjdGl2ZSB7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XG4gICAgfVxuICAgIFxuICAgIGkge1xuICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgfVxuICB9XG59XG5cbi8qIFNwZWNpZmljIHRhcmdldGluZyBmb3IgRGV2IEluIHByb2dyZXNzIHRleHQgKi9cbi50ZXh0LWxnOmNvbnRhaW5zKFwiRGV2IEluIHByb2dyZXNzXCIpIHtcbiAgY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDtcbn1cblxuLyogTWFrZSBzdXJlIHRoZSBjYXJkIGNvbnRhaW5pbmcgRGV2IEluIHByb2dyZXNzIGlzIHZpc2libGUgKi9cbi5jYXJkLWJvZHk6aGFzKC50ZXh0LWxnOmNvbnRhaW5zKFwiRGV2IEluIHByb2dyZXNzXCIpKSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNkODFiNjAgIWltcG9ydGFudDtcbn1cblxuLyogTW9kYWwgaGVhZGVyIHN0eWxlcyBmb3IgZGlmZmVyZW50IHN0YXR1c2VzICovXG4uc3RhdHVzLWFjdGl2ZS1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUU5MEZGICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnN0YXR1cy1jb2RlLXJldmlldy1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjQ5NUVEICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnN0YXR1cy1jcy1uZXctaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0JBNTVEMyAhaW1wb3J0YW50O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5zdGF0dXMtZGV2LXByb2dyZXNzLWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRjY5QjQgIWltcG9ydGFudDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uc3RhdHVzLWRldi1uZXctaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNDQjM3MSAhaW1wb3J0YW50O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5zdGF0dXMtcGxhbm5lZC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjOTM3MERCICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnN0YXR1cy1wcm9wb3NlZC1oZWFkZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQTlBOUE5ICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnN0YXR1cy1jbGFyaWZpY2F0aW9uLWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkIzNDcgIWltcG9ydGFudDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uc3RhdHVzLXJlc29sdmVkLWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNEQTcwRDYgIWltcG9ydGFudDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uc3RhdHVzLXZlcmlmaWVkLWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMEJGRkYgIWltcG9ydGFudDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4vKiBUYXNrIHN0YXR1cyB0YWJsZSBzdHlsaW5nICovXG4ubW9kYWwtYm9keSB0YWJsZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlO1xuICBib3JkZXItc3BhY2luZzogMDtcbn1cblxuLm1vZGFsLWJvZHkgdGgge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMmZmO1xuICBwb3NpdGlvbjogc3RpY2t5O1xuICB0b3A6IDA7XG4gIHotaW5kZXg6IDEwO1xufVxuXG4ubW9kYWwtYm9keSB0ZCB7XG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG59XG5cbi5tb2RhbC1ib2R5IHRyOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U4ZWFmNjtcbn1cblxuLy8gQ2FyZCBzdHlsaW5nIGZvciBtYWluIGRhc2hib2FyZCBjYXJkc1xuLmRhc2hib2FyZC1tYWluLWNhcmRzIHtcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogc3RyZXRjaDtcbiAgZ2FwOiAxcmVtO1xuICBcbiAgQG1lZGlhIChtYXgtd2lkdGg6IDc2Ny45OHB4KSB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgfVxuICBcbiAgLmNhcmQtY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgXG4gICAgJi5zcHJpbnQtb3ZlcnZpZXcge1xuICAgICAgZmxleDogMjtcbiAgICB9XG4gICAgXG4gICAgJi5haS1hc3Npc3RhbnQge1xuICAgICAgZmxleDogMTtcbiAgICAgIFxuICAgICAgLmNhcmQtYm9keSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgIG1pbi1oZWlnaHQ6IDM1MHB4O1xuICAgICAgICBcbiAgICAgICAgLmNoYXQtbWVzc2FnZXMge1xuICAgICAgICAgIGZsZXg6IDE7XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuY2hhdC1pbnB1dCB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogYXV0bztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzY3Ljk4cHgpIHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbiAgICBcbiAgICAuY2FyZCB7XG4gICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIFxuICAgICAgLmNhcmQtaGVhZGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2M1Y2FlOTtcbiAgICAgICAgY29sb3I6ICMzOTQ5YWI7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIHBhZGRpbmc6IDAuNzVyZW0gMXJlbTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gICAgICAgIFxuICAgICAgICBoNCB7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC5jYXJkLWJvZHkge1xuICAgICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"AAgBA,SAAmBA,EAAE,QAAQ,MAAM;AACnC,SAASC,UAAU,EAAEC,QAAQ,EAAEC,GAAG,QAAQ,gBAAgB;AAE1D,SAASC,WAAW,QAAQ,mCAAmC;;;;;;;;;;;;ICqBrDC,+BAAqD;IAEnBA,0BAAU;IAAAA,iBAAO;;;;;IAInDA,+BAAqD;IACnDA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,oDACF;;;;;IAEAA,2BAAgE;IACrCA,YAAoD;IAAAA,iBAAK;IAClFA,+BAAiD;IAElBA,0BAAU;IAAAA,iBAAI;IACzCA,6BAAmB;IAAAA,YAAgD;;IAAAA,iBAAI;IAEzEA,4BAAK;IACwBA,yBAAQ;IAAAA,iBAAI;IACvCA,8BAAmB;IAAAA,aAA8C;;IAAAA,iBAAI;IAEvEA,4BAAK;IACwBA,+BAAc;IAAAA,iBAAI;IAC7CA,8BAAkC;IAAAA,aAAkC;IAAAA,iBAAI;IAG5EA,gCAAkB;IACWA,+BAAc;IAAAA,iBAAI;IAC7CA,8BAAmB;IAAAA,aAAuD;IAAAA,iBAAI;;;;IAjBvDA,eAAoD;IAApDA,kFAAoD;IAItDA,eAAgD;IAAhDA,uFAAgD;IAIhDA,eAA8C;IAA9CA,sFAA8C;IAI/BA,eAAkC;IAAlCA,yDAAkC;IAKnDA,eAAuD;IAAvDA,qFAAuD;;;;;IAe5EA,+BAAgE;IACxCA,4DAA4C;IAAAA,iBAAI;IACtEA,+BAA2B;IACRA,8BAAc;IAAAA,iBAAK;IACpCA,8BAA0B;IAC6BA,sBAAC;IAAAA,iBAAO;IAACA,sDAAoC;IAAAA,iBAAK;IACvGA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,oDAAkC;IAAAA,iBAAK;IACrGA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,8DAA4C;IAAAA,iBAAK;IAC/GA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,kDAAgC;IAAAA,iBAAK;IACnGA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,0CAAwB;IAAAA,iBAAK;IAC3FA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,8DAA4C;IAAAA,iBAAK;IAC/GA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,qDAAmC;IAAAA,iBAAK;IACtGA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,0CAAwB;IAAAA,iBAAK;IACxFA,+BAAiB;IAAoCA,kBAAC;IAAAA,iBAAO;IAACA,oCAAkB;IAAAA,iBAAK;IACrFA,+BAAiB;IAAoCA,uBAAC;IAAAA,iBAAO;IAACA,2CAAyB;IAAAA,iBAAK;IAC5FA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,uCAAqB;IAAAA,iBAAK;IACrFA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,+CAA6B;IAAAA,iBAAK;IAC7FA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,yDAAuC;IAAAA,iBAAK;IACvGA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,wCAAsB;IAAAA,iBAAK;IACtFA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,yBAAO;IAAAA,iBAAK;IACvEA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,mCAAiB;IAAAA,iBAAK;IACjFA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,oCAAkB;IAAAA,iBAAK;IAClFA,+BAAiB;IAAiCA,kBAAC;IAAAA,iBAAO;IAACA,4DAAyC;IAAAA,iBAAK;;;;;;;;;;;IAK/GA,+BACsG;IAElGA,0BAA0D;IAC1DA,+BAA2C;IAAAA,YAAsC;;IAAAA,iBAAM;;;;IAHtFA,2GAAgG;IAEvEA,eAAyB;IAAzBA,8DAAyB;IACRA,eAAsC;IAAtCA,0EAAsC;;;;;IAgC3FA,+BAA6D;IAE3BA,0BAAU;IAAAA,iBAAO;;;;;IAInDA,+BAA6D;IAC3DA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,4DACF;;;;;IAEAA,2BAA8D;IAGlCA,YAA0C;IAAAA,iBAAO;IAEzEA,2BAAK;IACsBA,YAA4D;IAAAA,iBAAO;IAGhGA,+BAA6G;IAMzGA,aACF;IAAAA,iBAAM;IAERA,gCAAwB;IACgBA,sBAAK;IAAAA,iBAAO;IAClDA,iCAAyB;IAAAA,0HAAyG;IAAAA,iBAAO;;;;IAjBjHA,eAA0C;IAA1CA,0EAA0C;IAGvCA,eAA4D;IAA5DA,mGAA4D;IAKlFA,eAA2C;IAA3CA,8DAA2C;IAI9CA,eACF;IADEA,kEACF;;;;;IAgBJA,+BAAyD;IAEvBA,yCAAyB;IAAAA,iBAAO;IAEhEA,6BAAgB;IAAAA,+DAA+C;IAAAA,iBAAI;;;;;IAIrEA,+BAAyD;IACvDA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,wDACF;;;;;IAGAA,+BAAqI;IAC7GA,+FAA+E;IAAAA,iBAAI;;;;;;;;;;;;;;;;;;;;IAKzGA,+BAAiF;IAc1EA;MAAA;MAAA;MAAA;MAAA,OAASA,4DAAiC;IAAA,EAAC;IAG9CA,+BAAkD;IACXA,YAAkB;IAAAA,iBAAM;IAC7DA,+BAAqB;IAAAA,YAAmB;IAAAA,iBAAM;;;;IAjB7CA,eAWE;IAXFA,yxBAWE;IAKkCA,eAAkB;IAAlBA,sCAAkB;IAClCA,eAAmB;IAAnBA,uCAAmB;;;;;IApBhDA,+BAAkG;IAChGA,4EAsBM;IACRA,iBAAM;;;;IAvBoBA,eAAkB;IAAlBA,iDAAkB;;;;;;IAmC1CA,+BAAgE;IAEzDA;MAAA;MAAA;MAAA;MAAA,OAASA,6DAAkC;IAAA,EAAC;IAE/CA,+BAA2B;IAEKA,YAAmB;IAAAA,iBAAK;IACpDA,gCAA2E;IAAAA,YAAoB;IAAAA,iBAAO;IAExGA,+BAAsB;IACpBA,0BAEM;IACRA,iBAAM;;;;;IAZ6BA,eAA0C;IAA1CA,uDAA0C;IAK/CA,eAAmB;IAAnBA,uCAAmB;IACdA,eAAyC;IAAzCA,sDAAyC;IAACA,eAAoB;IAApBA,wCAAoB;IAGrEA,eAA8D;IAA9DA,oFAA8D;;;;;IAXlGA,+BAAsF;IACpFA,6EAgBM;IACRA,iBAAM;;;;IAjBsBA,eAAc;IAAdA,6CAAc;;;;;IAoB1CA,+BAA6H;IACrGA,iDAAiC;IAAAA,iBAAI;;;;;IAwB3DA,+BAAyD;IAEvBA,gCAAgB;IAAAA,iBAAO;IAEvDA,6BAAgB;IAAAA,YAAgD;IAAAA,iBAAI;;;;IAApDA,eAAgD;IAAhDA,iFAAgD;;;;;IAGlEA,+BAAsF;IACpFA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,mFACF;;;;;IAYMA,0BAAqC;IACiBA,YAAc;IAAAA,iBAAI;IACtEA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAqC;IAAAA,iBAAK;;;;;IAFvCA,eAA4B;IAA5BA,wEAA4B;IAAiBA,eAAc;IAAdA,2CAAc;IAC9DA,eAAgB;IAAhBA,oCAAgB;IAChBA,eAAqC;IAArCA,yDAAqC;;;;;IAbjDA,2BAA2D;IAI/CA,kBAAE;IAAAA,iBAAK;IACXA,0BAAI;IAAAA,qBAAK;IAAAA,iBAAK;IACdA,0BAAI;IAAAA,2BAAW;IAAAA,iBAAK;IAGxBA,8BAAO;IACLA,2EAIK;IACPA,iBAAQ;;;;IALeA,gBAAc;IAAdA,6CAAc;;;;;IAyBzCA,+BAAuD;IAErBA,gCAAgB;IAAAA,iBAAO;IAEvDA,6BAAgB;IAAAA,YAAoC;IAAAA,iBAAI;;;;IAAxCA,eAAoC;IAApCA,qEAAoC;;;;;IAGtDA,+BAAkF;IAChFA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,8FACF;;;;;IAaMA,0BAAmC;IACmBA,YAAc;IAAAA,iBAAI;IACtEA,0BAAI;IAAAA,YAAgB;IAAAA,iBAAK;IACzBA,0BAAI;IAAAA,YAAqC;IAAAA,iBAAK;IAC9CA,0BAAI;IAA2EA,aAAiB;IAAAA,iBAAO;;;;;IAHhGA,eAA4B;IAA5BA,wEAA4B;IAAiBA,eAAc;IAAdA,2CAAc;IAC9DA,eAAgB;IAAhBA,oCAAgB;IAChBA,eAAqC;IAArCA,yDAAqC;IACjBA,eAAsD;IAAtDA,2EAAsD;IAACA,eAAiB;IAAjBA,qCAAiB;;;;;IAfxGA,2BAAuD;IAI3CA,kBAAE;IAAAA,iBAAK;IACXA,0BAAI;IAAAA,qBAAK;IAAAA,iBAAK;IACdA,0BAAI;IAAAA,2BAAW;IAAAA,iBAAK;IACpBA,2BAAI;IAAAA,sBAAK;IAAAA,iBAAK;IAGlBA,8BAAO;IACLA,4EAKK;IACPA,iBAAQ;;;;IANeA,gBAAY;IAAZA,2CAAY;;;;;;;;;;;;;;;;;ADjU/C,OAAM,MAAOC,kBAAkB;EAsI7B;EACAC,mBAAmB,CAACC,IAAY;IAC9B,IAAI,CAACA,IAAI,EAAE,OAAO,EAAE;IACpB;IACA;IACA,IAAIC,OAAO,GAAGD,IAAI,CAACE,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC;IAC1CD,OAAO,GAAGA,OAAO,CAACC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;IACvCD,OAAO,GAAGA,OAAO,CAACC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;IACvC,OAAOD,OAAO;EAChB;EAEAE,YACUC,gBAAkC,EAClCC,kBAAsC,EACtCC,IAAgB;IAFhB,qBAAgB,GAAhBF,gBAAgB;IAChB,uBAAkB,GAAlBC,kBAAkB;IAClB,SAAI,GAAJC,IAAI;IA/Id,mBAAc,GAA0B,IAAI;IAC5C,kBAAa,GAAyB,IAAI;IAC1C,iBAAY,GAAwB,IAAI;IACxC,aAAQ,GAAW,EAAE;IACrB,yBAAoB,GAAgC,IAAI;IACxD,uBAAkB,GAA2B,EAAE;IAC/C,wBAAmB,GAAyB,EAAE;IAC9C,iBAAY,GAAkB,EAAE;IAChC,WAAM,GAA0B,IAAI;IAEpC;IACA,gBAAW,GAA2B;MACpC,UAAU,EAAE,SAAS;MACrB,KAAK,EAAE,SAAS;MAChB,SAAS,EAAE,SAAS;MACpB,QAAQ,EAAE,SAAS;MACnB,SAAS,EAAE,SAAS;MACpB,aAAa,EAAE,SAAS;MACxB,UAAU,EAAE,SAAS;MACrB,aAAa,EAAE,SAAS;MACxB,IAAI,EAAE,SAAS;MACf,SAAS,EAAE,SAAS;MACpB,MAAM,EAAE,SAAS;MACjB,QAAQ,EAAE,SAAS;MACnB,WAAW,EAAE,SAAS;MACtB,SAAS,EAAE,SAAS;MACpB,SAAS,EAAE;KACZ;IAED;IACA,uBAAkB,GAAG,CACnB,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EACrD,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CACtD;IAED;IACA,oBAAe,GAAqB,EAAE;IAEtC;IACA,uBAAkB,GAAG,KAAK;IAC1B,qBAAgB,GAAG,EAAE;IACrB,kBAAa,GAAuD,EAAE;IAEtE;IACA,iBAAY,GAAkB,EAAE;IAChC,mBAAc,GAAW,EAAE;IAE3B;IACA,iBAAY,GAA2B;MACrC,gBAAgB,EAAE,SAAS;MAC3B,oBAAoB,EAAE,SAAS;MAC/B,WAAW,EAAE,SAAS;MACtB,mBAAmB,EAAE,SAAS;MAC9B,YAAY,EAAE,SAAS;MACvB,mBAAmB,EAAE,SAAS;MAC9B,gBAAgB,EAAE,SAAS;MAC3B,SAAS,EAAE,SAAS;MACpB,kBAAkB,EAAE,SAAS;MAC7B,WAAW,EAAE;KACd;IAED;IACA,YAAO,GAAG;MACRC,MAAM,EAAE,IAAI;MACZC,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAE,IAAI;MACdC,GAAG,EAAE,IAAI;MACTC,YAAY,EAAE,IAAI;MAClBC,iBAAiB,EAAE,IAAI;MACvBC,cAAc,EAAE,IAAI;MACpBC,YAAY,EAAE,IAAI;MAClBC,MAAM,EAAE,IAAI;MACZC,eAAe,EAAE,IAAI;MACrBC,cAAc,EAAE;KACjB;IAED,UAAK,GAAG;MACNV,MAAM,EAAE,EAAE;MACVC,OAAO,EAAE,EAAE;MACXC,QAAQ,EAAE,EAAE;MACZC,GAAG,EAAE,EAAE;MACPC,YAAY,EAAE,EAAE;MAChBC,iBAAiB,EAAE,EAAE;MACrBC,cAAc,EAAE,EAAE;MAClBC,YAAY,EAAE,EAAE;MAChBC,MAAM,EAAE,EAAE;MACVC,eAAe,EAAE,EAAE;MACnBC,cAAc,EAAE;KACjB;IAED;IACA,0BAAqB,GAAW,iBAAiB;IACjD,4BAAuB,GAAa,CAAC,iBAAiB,CAAC;IAEvD;IACA,yBAAoB,GAAU,EAAE;IAChC,mBAAc,GAAG;MACfC,UAAU,EAAE,CAAC;MACbC,MAAM,EAAE,CAAC;MACTC,UAAU,EAAE,CAAC;MACbC,UAAU,EAAE,CAAC;MACbC,WAAW,EAAE,CAAC;MACdC,SAAS,EAAE,CAAC;MACZC,OAAO,EAAE;KACV;IAED;IACA,yBAAoB,GAAQ,EAAE;IAE9B;IACA,uBAAkB,GAAG,KAAK;IAC1B,qBAAgB,GAAG,EAAE;IAErB;IACA,gBAAW,GAAqD,EAAE;IAElE;IACA,mBAAc,GAAW,EAAE;IAC3B,gBAAW,GAAU,EAAE;IACvB,uBAAkB,GAAY,KAAK;IAGnC;IACA,iBAAY,GAAW,EAAE;IACzB,sBAAiB,GAAW,EAAE;IAC9B,cAAS,GAAU,EAAE;IACrB,qBAAgB,GAAY,KAAK;EAkB7B;EAEJC,QAAQ;IACN,IAAI,CAACC,iBAAiB,EAAE;EAC1B;EAEAC,eAAe;IACb;IACA,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,iBAAiB,CAAC;IAC/D,IAAIF,YAAY,EAAE;MAChB,IAAI,CAACG,gBAAgB,GAAG,IAAIC,SAAS,CAACC,KAAK,CAACL,YAAY,CAAC;;IAG3D;IACA,MAAMM,gBAAgB,GAAGL,QAAQ,CAACC,cAAc,CAAC,mBAAmB,CAAC;IACrE,IAAII,gBAAgB,EAAE;MACpB,IAAI,CAACC,iBAAiB,GAAG,IAAIH,SAAS,CAACC,KAAK,CAACC,gBAAgB,CAAC;;EAElE;EAEAR,iBAAiB;IACf,IAAI,CAACU,kBAAkB,EAAE;IACzB,IAAI,CAACC,UAAU,EAAE;IAEjB;IACA,IAAI,CAACC,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAC1B,IAAI,CAACC,OAAO,CAACvB,cAAc,GAAG,IAAI;IAClC,IAAI,CAACwB,mBAAmB,EAAE;EAC5B;EAEAC,iBAAiB;IACf;IACA,IAAI,CAAC,IAAI,CAACC,qBAAqB,EAAE;MAC/B;;IAGF;IACA,IAAI,CAACA,qBAAqB,GAAG,IAAI,CAACA,qBAAqB,CAACC,IAAI,EAAE;IAE9D;IACA,IAAI,CAACJ,OAAO,CAACjC,MAAM,GAAG,IAAI;IAC1B,IAAI,CAACsC,KAAK,CAACtC,MAAM,GAAG,EAAE;IACtB,IAAI,CAAC+B,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAC1B,IAAI,CAACC,OAAO,CAACvB,cAAc,GAAG,IAAI;IAClC,IAAI,CAAC4B,KAAK,CAAC5B,cAAc,GAAG,EAAE;IAE9B6B,OAAO,CAACC,GAAG,CAAC,oCAAoC,IAAI,CAACJ,qBAAqB,EAAE,CAAC;IAE7E;IACA,IAAI,CAACvC,gBAAgB,CAAC4C,+BAA+B,CAAC,IAAI,CAACL,qBAAqB,CAAC,CAC9EM,SAAS,CAAC;MACTC,IAAI,EAAGC,IAAI,IAAI;QACbL,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEI,IAAI,CAAC;QAC3C;QACA,IAAIA,IAAI,CAACC,aAAa,EAAE;UACtBD,IAAI,CAACE,UAAU,GAAG,IAAI,CAACtD,mBAAmB,CAACoD,IAAI,CAACE,UAAU,CAAC;;QAE7D,IAAI,CAACC,cAAc,GAAGH,IAAI;QAC1B,IAAI,CAACX,OAAO,CAACjC,MAAM,GAAG,KAAK;MAC7B,CAAC;MACDsC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAACtC,MAAM,GAAG,+BAA+B;QACnD,IAAI,CAACiC,OAAO,CAACjC,MAAM,GAAG,KAAK;QAC3BuC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEU,GAAG,CAAC;MACrD;KACD,CAAC;IAEJ;IACA,IAAI,CAACC,gCAAgC,EAAE;IAEvC;IACA,IAAI,CAACC,iBAAiB,CAAC,IAAI,CAACd,qBAAqB,CAAC;IAClD,IAAI,CAACF,mBAAmB,EAAE;IAE1B;IACA,IAAI,CAAC,IAAI,CAACiB,uBAAuB,CAACC,QAAQ,CAAC,IAAI,CAAChB,qBAAqB,CAAC,EAAE;MACtE,IAAI,CAACe,uBAAuB,CAACE,IAAI,CAAC,IAAI,CAACjB,qBAAqB,CAAC;;EAEjE;EAEAP,kBAAkB;IAChB,IAAI,CAACI,OAAO,CAACjC,MAAM,GAAG,IAAI;IAC1B,IAAI,CAACH,gBAAgB,CAACyD,gBAAgB,EAAE,CAACZ,SAAS,CAAC;MACjDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACG,cAAc,GAAGH,IAAI;QAC1B;QACA;QACA,IAAI,CAACX,OAAO,CAACjC,MAAM,GAAG,KAAK;QAC3B,IAAI,CAACkD,iBAAiB,CAAC,IAAI,CAACd,qBAAqB,CAAC;QAClD,IAAI,CAACmB,gBAAgB,EAAE;QACvB,IAAI,CAACC,wBAAwB,CAAC,IAAI,CAACpB,qBAAqB,CAAC;QACzD,IAAI,CAACqB,sBAAsB,EAAE;MAC/B,CAAC;MACDnB,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAACtC,MAAM,GAAG,4BAA4B;QAChD,IAAI,CAACiC,OAAO,CAACjC,MAAM,GAAG,KAAK;QAC3BuC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEU,GAAG,CAAC;MAClD;KACD,CAAC;EACJ;EAEAE,iBAAiB,CAACL,aAAqB;IACrC,IAAI,CAACZ,OAAO,CAAChC,OAAO,GAAG,IAAI;IAC3B,IAAI,CAACJ,gBAAgB,CAAC6D,gBAAgB,CAACb,aAAa,CAAC,CAACH,SAAS,CAAC;MAC9DC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACe,aAAa,GAAGf,IAAI;QACzB,IAAI,CAACX,OAAO,CAAChC,OAAO,GAAG,KAAK;MAC9B,CAAC;MACDqC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAACrC,OAAO,GAAG,6BAA6B;QAClD,IAAI,CAACgC,OAAO,CAAChC,OAAO,GAAG,KAAK;QAC5BsC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEU,GAAG,CAAC;MACnD;KACD,CAAC;EACJ;EAEAO,gBAAgB;IACd,IAAI,CAACtB,OAAO,CAAC/B,QAAQ,GAAG,IAAI;IAC5B,IAAI,CAACL,gBAAgB,CAAC+D,eAAe,EAAE,CAAClB,SAAS,CAAC;MAChDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACiB,YAAY,GAAGjB,IAAI;QACxB,IAAI,CAACX,OAAO,CAAC/B,QAAQ,GAAG,KAAK;MAC/B,CAAC;MACDoC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAACpC,QAAQ,GAAG,8BAA8B;QACpD,IAAI,CAAC+B,OAAO,CAAC/B,QAAQ,GAAG,KAAK;QAC7BqC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEU,GAAG,CAAC;MACpD;KACD,CAAC;EACJ;EAEAc,YAAY;IACV,IAAI,CAAC7B,OAAO,CAAC9B,GAAG,GAAG,IAAI;IACvB,IAAI,CAACN,gBAAgB,CAACkE,WAAW,EAAE,CAACrB,SAAS,CAAC;MAC5CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACoB,QAAQ,GAAGpB,IAAI,CAACzC,GAAG;QACxB,IAAI,CAAC8B,OAAO,CAAC9B,GAAG,GAAG,KAAK;MAC1B,CAAC;MACDmC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAACnC,GAAG,GAAG,0BAA0B;QAC3C,IAAI,CAAC8B,OAAO,CAAC9B,GAAG,GAAG,KAAK;QACxBoC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEU,GAAG,CAAC;MAChD;KACD,CAAC;EACJ;EAEAQ,wBAAwB,CAACX,aAAsB;IAC7C,IAAI,CAACZ,OAAO,CAAC7B,YAAY,GAAG,IAAI;IAChC,IAAI,CAACP,gBAAgB,CAACoE,uBAAuB,CAACpB,aAAa,CAAC,CAACH,SAAS,CAAC;MACrEC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACsB,oBAAoB,GAAGtB,IAAI;QAChC,IAAI,CAACX,OAAO,CAAC7B,YAAY,GAAG,KAAK;QAEjC;QACA+D,UAAU,CAAC,MAAK;UACd,IAAI,CAACC,mCAAmC,EAAE;QAC5C,CAAC,EAAE,GAAG,CAAC;MACT,CAAC;MACD9B,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAAClC,YAAY,GAAG,uCAAuC;QACjE,IAAI,CAAC6B,OAAO,CAAC7B,YAAY,GAAG,KAAK;QACjCmC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEU,GAAG,CAAC;MAC7D;KACD,CAAC;EACJ;EAEAS,sBAAsB;IACpB,IAAI,CAACxB,OAAO,CAAC5B,iBAAiB,GAAG,IAAI;IACrC,IAAI,CAACR,gBAAgB,CAACwE,oBAAoB,CAAC,IAAI,CAACjC,qBAAqB,CAAC,CAACM,SAAS,CAAC;MAC/EC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAAC0B,kBAAkB,GAAG1B,IAAI;QAC9B;QACA;QACA,IAAI,CAACX,OAAO,CAAC5B,iBAAiB,GAAG,KAAK;QAEtC;QACA8D,UAAU,CAAC,MAAK;UACd,IAAI,CAACI,iCAAiC,EAAE;QAC1C,CAAC,EAAE,GAAG,CAAC;MACT,CAAC;MACDjC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAACjC,iBAAiB,GAAG,oCAAoC;QACnE,IAAI,CAAC4B,OAAO,CAAC5B,iBAAiB,GAAG,KAAK;QACtCkC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEU,GAAG,CAAC;MAC1D;KACD,CAAC;EACJ;EAEAwB,uBAAuB;IACrB,IAAI,CAACvC,OAAO,CAAC3B,cAAc,GAAG,IAAI;IAClC,IAAI,CAACT,gBAAgB,CAAC4E,sBAAsB,CAAC,CAAC,CAAC,CAAC/B,SAAS,CAAC;MACxDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAAC8B,mBAAmB,GAAG9B,IAAI;QAC/B,IAAI,CAACX,OAAO,CAAC3B,cAAc,GAAG,KAAK;MACrC,CAAC;MACDgC,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAAChC,cAAc,GAAG,wCAAwC;QACpE,IAAI,CAAC2B,OAAO,CAAC3B,cAAc,GAAG,KAAK;QACnCiC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEU,GAAG,CAAC;MAC9D;KACD,CAAC;EACJ;EAEA2B,gBAAgB;IACd,IAAI,CAAC1C,OAAO,CAAC1B,YAAY,GAAG,IAAI;IAChC,IAAI,CAACV,gBAAgB,CAAC+E,eAAe,CAAC,CAAC,CAAC,CAAClC,SAAS,CAAC;MACjDC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACrC,YAAY,GAAGqC,IAAI;QACxB,IAAI,CAACX,OAAO,CAAC1B,YAAY,GAAG,KAAK;MACnC,CAAC;MACD+B,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAAC/B,YAAY,GAAG,8BAA8B;QACxD,IAAI,CAAC0B,OAAO,CAAC1B,YAAY,GAAG,KAAK;QACjCgC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEU,GAAG,CAAC;MACpD;KACD,CAAC;EACJ;EAEAlB,UAAU;IACR,IAAI,CAACG,OAAO,CAACzB,MAAM,GAAG,IAAI;IAC1B,IAAI,CAACX,gBAAgB,CAACgF,SAAS,EAAE,CAACnC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACpC,MAAM,GAAGoC,IAAI;QAClB,IAAI,CAAC8B,mBAAmB,GAAG9B,IAAI,CAAC8B,mBAAmB;QACnD,IAAI,CAACnE,YAAY,GAAGqC,IAAI,CAACrC,YAAY;QACrC,IAAI,CAACyD,QAAQ,GAAGpB,IAAI,CAACzC,GAAG;QACxB,IAAI,CAAC8B,OAAO,CAACzB,MAAM,GAAG,KAAK;MAC7B,CAAC;MACD8B,KAAK,EAAGU,GAAG,IAAI;QACb,IAAI,CAACV,KAAK,CAAC9B,MAAM,GAAG,wBAAwB;QAC5C,IAAI,CAACyB,OAAO,CAACzB,MAAM,GAAG,KAAK;QAC3B+B,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEU,GAAG,CAAC;QAC5C;QACA,IAAI,CAACc,YAAY,EAAE;QACnB,IAAI,CAACU,uBAAuB,EAAE;QAC9B,IAAI,CAACG,gBAAgB,EAAE;MACzB;KACD,CAAC;EACJ;EAEAP,mCAAmC;IACjC,IAAI,CAAC,IAAI,CAACF,oBAAoB,IAAI,CAAC,IAAI,CAACY,yBAAyB,EAAEC,aAAa,EAAE;MAChF;;IAGF;IACA,MAAMC,GAAG,GAAG,IAAI,CAACF,yBAAyB,CAACC,aAAa,CAACE,UAAU,CAAC,IAAI,CAAC;IACzE,IAAI,CAACD,GAAG,EAAE;IAEV,MAAME,MAAM,GAAG,IAAI,CAAChB,oBAAoB,CAACiB,MAAM,CAAC/F,GAAG,CAACgG,CAAC,IAAIA,CAAC,CAACC,KAAK,CAAC;IACjE,MAAMzC,IAAI,GAAG,IAAI,CAACsB,oBAAoB,CAACiB,MAAM,CAAC/F,GAAG,CAACgG,CAAC,IAAIA,CAAC,CAACE,KAAK,CAAC;IAC/D,MAAMC,MAAM,GAAG,IAAI,CAACrB,oBAAoB,CAACiB,MAAM,CAAC/F,GAAG,CAACgG,CAAC,IACnD,IAAI,CAACI,WAAW,CAACJ,CAAC,CAACC,KAAK,CAAC,IAAI,IAAI,CAACI,cAAc,EAAE,CACnD;IAED;IACA,IAAIC,MAAM,CAACC,KAAK,IAAIX,GAAG,CAACY,KAAK,EAAE;MAC7BZ,GAAG,CAACY,KAAK,CAACC,OAAO,EAAE;;IAGrB;IACA,IAAIH,MAAM,CAACC,KAAK,EAAE;MAChBX,GAAG,CAACY,KAAK,GAAG,IAAIF,MAAM,CAACC,KAAK,CAACX,GAAG,EAAE;QAChCc,IAAI,EAAE,KAAK;QACXlD,IAAI,EAAE;UACJsC,MAAM,EAAEA,MAAM;UACda,QAAQ,EAAE,CAAC;YACTnD,IAAI,EAAEA,IAAI;YACVoD,eAAe,EAAET,MAAM;YACvBU,WAAW,EAAE;WACd;SACF;QACDC,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAE;YACPC,MAAM,EAAE;cACNC,QAAQ,EAAE;aACX;YACDC,KAAK,EAAE;cACLC,OAAO,EAAE,IAAI;cACbC,IAAI,EAAE,sBAAsB,IAAI,CAACvC,oBAAoB,CAACrB,aAAa;;;;OAI1E,CAAC;;EAEN;EAEA0B,iCAAiC;IAC/B,IAAI,IAAI,CAACD,kBAAkB,CAACoC,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAACC,6BAA6B,EAAE5B,aAAa,EAAE;MAC9F;;IAGF;IACA,MAAMC,GAAG,GAAG,IAAI,CAAC2B,6BAA6B,CAAC5B,aAAa,CAACE,UAAU,CAAC,IAAI,CAAC;IAC7E,IAAI,CAACD,GAAG,EAAE;IAEV;IACA,IAAIU,MAAM,CAACC,KAAK,IAAIX,GAAG,CAACY,KAAK,EAAE;MAC7BZ,GAAG,CAACY,KAAK,CAACC,OAAO,EAAE;;IAGrB;IACA,MAAMe,eAAe,GAAG,IAAI,CAACtC,kBAAkB,CAAClF,GAAG,CAACyH,CAAC,IAAIA,CAAC,CAAChE,aAAa,CAAC;IAEzE;IACA,MAAMiE,SAAS,GAAG,IAAIC,GAAG,EAAU;IACnC,IAAI,CAACzC,kBAAkB,CAAC0C,OAAO,CAACC,IAAI,IAAG;MACrCA,IAAI,CAAC9B,MAAM,CAAC6B,OAAO,CAAC3B,KAAK,IAAG;QAC1ByB,SAAS,CAACI,GAAG,CAAC7B,KAAK,CAACA,KAAK,CAAC;MAC5B,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF;IACA,MAAMU,QAAQ,GAAGoB,KAAK,CAACC,IAAI,CAACN,SAAS,CAAC,CAAC1H,GAAG,CAACiI,SAAS,IAAG;MACrD;MACA,MAAMC,UAAU,GAAG,IAAI,CAAC9B,WAAW,CAAC6B,SAAS,CAAC,IAAI,IAAI,CAAC5B,cAAc,EAAE;MAEvE;MACA,OAAO;QACL8B,KAAK,EAAEF,SAAS;QAChBzE,IAAI,EAAE,IAAI,CAAC0B,kBAAkB,CAAClF,GAAG,CAAC6H,IAAI,IAAG;UACvC,MAAMO,SAAS,GAAGP,IAAI,CAAC9B,MAAM,CAACsC,IAAI,CAACrC,CAAC,IAAIA,CAAC,CAACC,KAAK,KAAKgC,SAAS,CAAC;UAC9D,OAAOG,SAAS,GAAGA,SAAS,CAAClC,KAAK,GAAG,CAAC;QACxC,CAAC,CAAC;QACFU,eAAe,EAAEsB;OAClB;IACH,CAAC,CAAC;IAEF;IACA,IAAI5B,MAAM,CAACC,KAAK,EAAE;MAChBX,GAAG,CAACY,KAAK,GAAG,IAAIF,MAAM,CAACC,KAAK,CAACX,GAAG,EAAE;QAChCc,IAAI,EAAE,KAAK;QACXlD,IAAI,EAAE;UACJsC,MAAM,EAAE0B,eAAe;UACvBb,QAAQ,EAAEA;SACX;QACDG,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBuB,MAAM,EAAE;YACNC,CAAC,EAAE;cACDC,OAAO,EAAE;aACV;YACDC,CAAC,EAAE;cACDD,OAAO,EAAE,IAAI;cACbE,WAAW,EAAE;;WAEhB;UACD1B,OAAO,EAAE;YACPC,MAAM,EAAE;cACNC,QAAQ,EAAE;aACX;YACDC,KAAK,EAAE;cACLC,OAAO,EAAE,IAAI;cACbC,IAAI,EAAE;;;;OAIb,CAAC;;EAEN;EAEAsB,mBAAmB,CAAClF,aAAqB;IACvC;IACA,IAAIA,aAAa,KAAK,IAAI,CAACT,qBAAqB,EAAE;MAChD,IAAI,CAACA,qBAAqB,GAAGS,aAAa;MAC1C,IAAI,CAACW,wBAAwB,CAACX,aAAa,CAAC;MAC5C,IAAI,CAACK,iBAAiB,CAACL,aAAa,CAAC;;EAEzC;EAEAmF,aAAa,CAAC3C,KAAa;IACzB,OAAO,IAAI,CAACG,WAAW,CAACH,KAAK,CAAC,IAAI,IAAI,CAACI,cAAc,EAAE;EACzD;EAEAA,cAAc;IACZ,MAAMwC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,IAAI,CAACC,kBAAkB,CAAC3B,MAAM,CAAC;IAC9E,OAAO,IAAI,CAAC2B,kBAAkB,CAACJ,WAAW,CAAC;EAC7C;EAEAK,MAAM;IACJ,IAAI,CAACnH,iBAAiB,EAAE;EAC1B;EAEAe,mBAAmB;IACjB,IAAI,CAACD,OAAO,CAACxB,eAAe,GAAG,IAAI;IACnC,IAAI,CAAC6B,KAAK,CAAC7B,eAAe,GAAG,EAAE;IAC/B,IAAI,CAACsB,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAC1B,IAAI,CAACC,OAAO,CAACvB,cAAc,GAAG,IAAI;IAClC,IAAI,CAAC4B,KAAK,CAAC5B,cAAc,GAAG,EAAE;IAE9B;IACA,MAAM6H,gBAAgB,GAAG,CACvB,gBAAgB,EAChB,oBAAoB,EACpB,WAAW,EACX,mBAAmB,EACnB,YAAY,EACZ,mBAAmB,CACpB;IAED;IACA,MAAMC,UAAU,GAA4B;MAC1C,KAAK,EAAE,SAAS;MAChB,aAAa,EAAE,SAAS;MACxB,gBAAgB,EAAE,SAAS;MAC3B,MAAM,EAAE,SAAS;MACjB,MAAM,EAAE,SAAS;MACjB,YAAY,EAAE;KACf;IAED;IACA,MAAMC,WAAW,GAAGC,kBAAkB,CAAC,IAAI,CAACtG,qBAAqB,CAAC,CAACzC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC;IAC3F,MAAMgJ,GAAG,GAAG,iDAAiDF,WAAW,EAAE;IAE1E,IAAI,CAAC1I,IAAI,CAAC6I,GAAG,CAAQD,GAAG,CAAC,CACtBE,IAAI,CACH1J,QAAQ,CAAC,MAAK;MACZ,IAAI,CAAC8C,OAAO,CAACxB,eAAe,GAAG,KAAK;MACpC,IAAI,CAACsB,kBAAkB,GAAG,KAAK;MAC/B,IAAI,CAACE,OAAO,CAACvB,cAAc,GAAG,KAAK;IACrC,CAAC,CAAC,CACH,CACAgC,SAAS,CAAC;MACTC,IAAI,EAAGmG,SAAS,IAAI;QAClB,IAAIA,SAAS,IAAIA,SAAS,CAACpC,MAAM,GAAG,CAAC,EAAE;UACrC;UACA,MAAMqC,YAAY,GAA2BD,SAAS,CAACE,MAAM,CAAC,CAACC,GAA2B,EAAEC,IAAI,KAAI;YAClG,MAAMC,MAAM,GAAGD,IAAI,CAACC,MAAM,IAAI,SAAS;YACvC,IAAI,CAACF,GAAG,CAACE,MAAM,CAAC,EAAE;cAChBF,GAAG,CAACE,MAAM,CAAC,GAAG,EAAE;;YAElBF,GAAG,CAACE,MAAM,CAAC,CAAC9F,IAAI,CAAC6F,IAAI,CAAC;YACtB,OAAOD,GAAG;UACZ,CAAC,EAAE,EAAE,CAAC;UAEN;UACA,MAAMG,UAAU,GAA2BN,SAAS,CAACE,MAAM,CAAC,CAACC,GAA2B,EAAEC,IAAI,KAAI;YAChG,MAAMpD,IAAI,GAAGoD,IAAI,CAACpD,IAAI,IAAI,SAAS;YACnC,IAAI,CAACmD,GAAG,CAACnD,IAAI,CAAC,EAAE;cACdmD,GAAG,CAACnD,IAAI,CAAC,GAAG,EAAE;;YAEhBmD,GAAG,CAACnD,IAAI,CAAC,CAACzC,IAAI,CAAC6F,IAAI,CAAC;YACpB,OAAOD,GAAG;UACZ,CAAC,EAAE,EAAE,CAAC;UAEN;UACA,IAAII,WAAW,GAAGC,MAAM,CAACC,IAAI,CAACR,YAAY,CAAC,CAAC3J,GAAG,CAAC+J,MAAM,KAAK;YACzDA,MAAM,EAAEA,MAAM;YACd7D,KAAK,EAAEyD,YAAY,CAACI,MAAM,CAAC,CAACzC,MAAM;YAClC8C,KAAK,EAAE,IAAI,CAACC,YAAY,CAACN,MAAM,CAAC,IAAI,IAAI,CAACnB,aAAa,CAACmB,MAAM;WAC9D,CAAC,CAAC;UAEH;UACA,IAAI,CAACO,WAAW,GAAGJ,MAAM,CAACC,IAAI,CAACH,UAAU,CAAC,CAAChK,GAAG,CAAC0G,IAAI,KAAK;YACtDA,IAAI,EAAEA,IAAI;YACVR,KAAK,EAAE8D,UAAU,CAACtD,IAAI,CAAC,CAACY,MAAM;YAC9B8C,KAAK,EAAEhB,UAAU,CAAC1C,IAAI,CAAC,IAAI,IAAI,CAACL,cAAc;WAC/C,CAAC,CAAC,CAACkE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACvE,KAAK,GAAGsE,CAAC,CAACtE,KAAK,CAAC;UAErC;UACA+D,WAAW,GAAGA,WAAW,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAI;YACtC,MAAMC,MAAM,GAAGvB,gBAAgB,CAACwB,OAAO,CAACH,CAAC,CAACT,MAAM,CAAC;YACjD,MAAMa,MAAM,GAAGzB,gBAAgB,CAACwB,OAAO,CAACF,CAAC,CAACV,MAAM,CAAC;YAEjD;YACA,IAAIW,MAAM,KAAK,CAAC,CAAC,IAAIE,MAAM,KAAK,CAAC,CAAC,EAAE;cAClC,OAAOF,MAAM,GAAGE,MAAM;;YAGxB;YACA,IAAIF,MAAM,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YAC5B,IAAIE,MAAM,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC;YAE3B;YACA,OAAOJ,CAAC,CAACT,MAAM,CAACc,aAAa,CAACJ,CAAC,CAACV,MAAM,CAAC;UACzC,CAAC,CAAC;UAEF;UACA,IAAI,CAAC1I,eAAe,GAAG4I,WAAW;UAElC;UACA,IAAI,CAACa,aAAa,GAAG,CAAC,GAAG,IAAI,CAACzJ,eAAe,CAAC;UAE9C;UACA,IAAI,CAAC0J,oBAAoB,GAAGrB,SAAS;UAErCvG,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAACkH,WAAW,CAAC;UACrDnH,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE,IAAI,CAAC/B,eAAe,CAAC;SAC5D,MAAM;UACL,IAAI,CAAC6B,KAAK,CAAC7B,eAAe,GAAG,mCAAmC;UAChE,IAAI,CAACuB,gBAAgB,GAAG,mCAAmC;UAC3D,IAAI,CAACM,KAAK,CAAC5B,cAAc,GAAG,mCAAmC;UAE/D;UACA,IAAI,CAAC0J,oBAAoB,EAAE;;MAE/B,CAAC;MACD9H,KAAK,EAAGU,GAAG,IAAI;QACbT,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEU,GAAG,CAAC;QACpD,IAAI,CAACV,KAAK,CAAC7B,eAAe,GAAG,gCAAgC;QAC7D,IAAI,CAACuB,gBAAgB,GAAG,0BAA0B;QAClD,IAAI,CAACM,KAAK,CAAC5B,cAAc,GAAG,qCAAqC;QAEjE;QACA,IAAI,CAAC0J,oBAAoB,EAAE;MAC7B;KACD,CAAC;EACN;EAEAA,oBAAoB;IAClB;IACA,IAAI,CAAC3J,eAAe,GAAG,CACrB;MAAE0I,MAAM,EAAE,gBAAgB;MAAE7D,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EACxD;MAAEL,MAAM,EAAE,oBAAoB;MAAE7D,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EAC5D;MAAEL,MAAM,EAAE,WAAW;MAAE7D,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EACnD;MAAEL,MAAM,EAAE,mBAAmB;MAAE7D,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EAC3D;MAAEL,MAAM,EAAE,YAAY;MAAE7D,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EACpD;MAAEL,MAAM,EAAE,mBAAmB;MAAE7D,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,CAC5D;IAED;IACA,IAAI,CAACE,WAAW,GAAG,CACjB;MAAE5D,IAAI,EAAE,KAAK;MAAER,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EAC3C;MAAE1D,IAAI,EAAE,aAAa;MAAER,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EACnD;MAAE1D,IAAI,EAAE,gBAAgB;MAAER,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,EACtD;MAAE1D,IAAI,EAAE,MAAM;MAAER,KAAK,EAAE,CAAC;MAAEkE,KAAK,EAAE;IAAS,CAAE,CAC7C;IAED;IACA,IAAI,CAACU,aAAa,GAAG,CAAC,GAAG,IAAI,CAACzJ,eAAe,CAAC;IAE9C;IACA,IAAI,CAACsB,kBAAkB,GAAG,KAAK;IAC/B,IAAI,CAACC,gBAAgB,GAAG,EAAE;EAC5B;EAEAqI,wBAAwB;IACtB,IAAI,CAAC,IAAI,CAACC,iBAAiB,EAAEvF,aAAa,EAAE;MAC1C;;IAGF;IACA,MAAMC,GAAG,GAAG,IAAI,CAACsF,iBAAiB,CAACvF,aAAa,CAACE,UAAU,CAAC,IAAI,CAAC;IACjE,IAAI,CAACD,GAAG,EAAE;IAEV;IACA,MAAMuF,UAAU,GAAG,CACjB;MAAEpB,MAAM,EAAE,SAAS;MAAE7D,KAAK,EAAE,IAAI,CAACkF,cAAc,CAAC5J,MAAM;MAAE4I,KAAK,EAAE;IAAS,CAAE,EAC1E;MAAEL,MAAM,EAAE,aAAa;MAAE7D,KAAK,EAAE,IAAI,CAACkF,cAAc,CAAC3J,UAAU;MAAE2I,KAAK,EAAE;IAAS,CAAE,EAClF;MAAEL,MAAM,EAAE,aAAa;MAAE7D,KAAK,EAAE,IAAI,CAACkF,cAAc,CAAC1J,UAAU;MAAE0I,KAAK,EAAE;IAAS,CAAE,EAClF;MAAEL,MAAM,EAAE,cAAc;MAAE7D,KAAK,EAAE,IAAI,CAACkF,cAAc,CAACzJ,WAAW;MAAEyI,KAAK,EAAE;IAAS,CAAE,EACpF;MAAEL,MAAM,EAAE,WAAW;MAAE7D,KAAK,EAAE,IAAI,CAACkF,cAAc,CAACxJ,SAAS;MAAEwI,KAAK,EAAE;IAAS,CAAE,EAC/E;MAAEL,MAAM,EAAE,SAAS;MAAE7D,KAAK,EAAE,IAAI,CAACkF,cAAc,CAACvJ,OAAO;MAAEuI,KAAK,EAAE;IAAS,CAAE,CAC5E;IAED;IACA,MAAMiB,gBAAgB,GAAGF,UAAU,CAACG,MAAM,CAACxB,IAAI,IAAIA,IAAI,CAAC5D,KAAK,GAAG,CAAC,CAAC;IAElE,MAAMJ,MAAM,GAAGuF,gBAAgB,CAACrL,GAAG,CAACgG,CAAC,IAAIA,CAAC,CAAC+D,MAAM,CAAC;IAClD,MAAMvG,IAAI,GAAG6H,gBAAgB,CAACrL,GAAG,CAACgG,CAAC,IAAIA,CAAC,CAACE,KAAK,CAAC;IAC/C,MAAMC,MAAM,GAAGkF,gBAAgB,CAACrL,GAAG,CAACgG,CAAC,IAAIA,CAAC,CAACoE,KAAK,CAAC;IAEjD;IACA,IAAI9D,MAAM,CAACC,KAAK,IAAIX,GAAG,CAACY,KAAK,EAAE;MAC7BZ,GAAG,CAACY,KAAK,CAACC,OAAO,EAAE;;IAGrB;IACA,IAAIH,MAAM,CAACC,KAAK,EAAE;MAChBX,GAAG,CAACY,KAAK,GAAG,IAAIF,MAAM,CAACC,KAAK,CAACX,GAAG,EAAE;QAChCc,IAAI,EAAE,KAAK;QACXlD,IAAI,EAAE;UACJsC,MAAM,EAAEA,MAAM;UACda,QAAQ,EAAE,CAAC;YACTnD,IAAI,EAAEA,IAAI;YACVoD,eAAe,EAAET,MAAM;YACvBU,WAAW,EAAE;WACd;SACF;QACDC,OAAO,EAAE;UACPC,UAAU,EAAE,IAAI;UAChBC,OAAO,EAAE;YACPC,MAAM,EAAE;cACNC,QAAQ,EAAE,OAAO;cACjBE,OAAO,EAAE;aACV;YACDD,KAAK,EAAE;cACLC,OAAO,EAAE,IAAI;cACbC,IAAI,EAAE;aACP;YACDkE,OAAO,EAAE;cACPC,SAAS,EAAE;gBACTrD,KAAK,EAAE,UAASsD,OAAY;kBAC1B,MAAMtD,KAAK,GAAGsD,OAAO,CAACtD,KAAK,IAAI,EAAE;kBACjC,MAAMuD,KAAK,GAAGD,OAAO,CAACE,GAAG,IAAI,CAAC;kBAC9B,MAAMC,KAAK,GAAGH,OAAO,CAACI,OAAO,CAACrI,IAAI,CAACoG,MAAM,CAAC,CAACY,CAAS,EAAEC,CAAS,KAAKqB,MAAM,CAACtB,CAAC,CAAC,GAAGsB,MAAM,CAACrB,CAAC,CAAC,EAAE,CAAC,CAAC;kBAC7F,MAAMsB,UAAU,GAAGjD,IAAI,CAACkD,KAAK,CAAEN,KAAK,GAAGE,KAAK,GAAI,GAAG,CAAC;kBACpD,OAAO,GAAGzD,KAAK,KAAKuD,KAAK,KAAKK,UAAU,IAAI;gBAC9C;;;;;OAKT,CAAC;;EAEN;EAEAE,cAAc,CAAClC,MAAc;IAC3B,OAAO,IAAI,CAACM,YAAY,CAACN,MAAM,CAAC,IAAI,SAAS,CAAC,CAAC;EACjD;EAEA;EACAmC,eAAe;IACb,IAAI,CAAC,IAAI,CAACC,cAAc,CAAClJ,IAAI,EAAE,EAAE;IAEjC;IACA,MAAMmJ,WAAW,GAAgB;MAC/BC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAE,IAAI,CAACH,cAAc,CAAClJ,IAAI,EAAE;MACnCsJ,SAAS,EAAE,IAAIC,IAAI;KACpB;IACD,IAAI,CAACC,YAAY,CAACxI,IAAI,CAACmI,WAAW,CAAC;IAEnC;IACA,MAAMM,OAAO,GAAG,IAAI,CAACP,cAAc;IACnC,IAAI,CAACA,cAAc,GAAG,EAAE;IAExB;IACA,IAAIO,OAAO,CAACC,WAAW,EAAE,CAACC,UAAU,CAAC,YAAY,CAAC,IAAIF,OAAO,CAACC,WAAW,EAAE,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;MAChG;MACA,IAAI,CAACC,4BAA4B,CAACH,OAAO,CAAC;MAC1C;;IAGF;IACA;IACA,MAAMI,eAAe,GAAG,sGAAsG;IAC9H,MAAMC,eAAe,GAAGL,OAAO,CAACM,KAAK,CAACF,eAAe,CAAC;IAEtD;IACA,MAAMG,oBAAoB,GAAG,8EAA8E;IAC3G,MAAMC,oBAAoB,GAAGH,eAAe,GAAG,IAAI,GAAGL,OAAO,CAACM,KAAK,CAACC,oBAAoB,CAAC;IAEzF;IACM;IACJ,MAAME,eAAe,GAAG,gGAAgG;IACxH,MAAMC,eAAe,GAAGV,OAAO,CAACM,KAAK,CAACG,eAAe,CAAC;IAExD;IACA,MAAME,cAAc,GAAG,wDAAwD;IAC/E,MAAMC,cAAc,GAAGZ,OAAO,CAACM,KAAK,CAACK,cAAc,CAAC;IAEpD;IACA,MAAME,qBAAqB,GAAG,gDAAgD;IAC9E,MAAMC,qBAAqB,GAAGd,OAAO,CAACM,KAAK,CAACO,qBAAqB,CAAC;IAElE;IACA,MAAME,iBAAiB,GAAG,oEAAoE;IAC9F,MAAMC,iBAAiB,GAAGhB,OAAO,CAACM,KAAK,CAACS,iBAAiB,CAAC;IAE1D;IACA,MAAME,cAAc,GAAG,iIAAiI;IACxJ,MAAMC,cAAc,GAAGlB,OAAO,CAACM,KAAK,CAACW,cAAc,CAAC;IAEpD;IACA,MAAME,eAAe,GAAG,qIAAqI;IAC7J,MAAMC,eAAe,GAAGpB,OAAO,CAACM,KAAK,CAACa,eAAe,CAAC;IAEtD;IACA,MAAME,iBAAiB,GAAG,kIAAkI;IAC5J,MAAMC,iBAAiB,GAAGtB,OAAO,CAACM,KAAK,CAACe,iBAAiB,CAAC;IAE1D;IACA,MAAME,kBAAkB,GAAG,yJAAyJ;IACpL,MAAMC,kBAAkB,GAAGxB,OAAO,CAACM,KAAK,CAACiB,kBAAkB,CAAC;IAE5D;IACA,MAAME,qBAAqB,GAAG,iCAAiC;IAC/D,MAAMC,WAAW,GAAG,CAACF,kBAAkB,GAAGxB,OAAO,CAACM,KAAK,CAACmB,qBAAqB,CAAC,GAAG,IAAI;IAErF;IACA,MAAME,gBAAgB,GAAG,yGAAyG;IAClI,MAAMC,gBAAgB,GAAG5B,OAAO,CAACM,KAAK,CAACqB,gBAAgB,CAAC;IAExD;IACA,MAAME,eAAe,GAAG,iHAAiH;IACzI,MAAMC,eAAe,GAAG9B,OAAO,CAACM,KAAK,CAACuB,eAAe,CAAC;IAEtD;IACA,MAAME,iBAAiB,GAAG,iHAAiH;IAC3I,MAAMC,iBAAiB,GAAGhC,OAAO,CAACM,KAAK,CAACyB,iBAAiB,CAAC;IAE1D;IACA,MAAME,eAAe,GAAG,iGAAiG;IACzH,MAAMC,eAAe,GAAGlC,OAAO,CAACM,KAAK,CAAC2B,eAAe,CAAC;IAEtD;IACA,MAAME,sBAAsB,GAAIC,KAAa,IAAa;MACxD;MACA,MAAM9B,KAAK,GAAG8B,KAAK,CAAC9B,KAAK,CAACuB,eAAe,CAAC;MAC1C,IAAI,CAACvB,KAAK,EAAE,OAAO,KAAK;MAExB;MACA,IAAI+B,UAAU,GAAG/B,KAAK,CAAC,CAAC,CAAC,CAAC/J,IAAI,EAAE;MAChC,MAAM+L,SAAS,GAAGhC,KAAK,CAAC,CAAC,CAAC,EAAE/J,IAAI,EAAE,IAAI,IAAI,CAACD,qBAAqB;MAEhE;MACA,IAAIiM,YAAY,GAAGF,UAAU;MAC7B,IAAIA,UAAU,CAACpC,WAAW,EAAE,KAAK,QAAQ,IAAIoC,UAAU,CAACpC,WAAW,EAAE,KAAK,QAAQ,EAAE;QAClFsC,YAAY,GAAG,QAAQ;OACxB,MAAM,IAAIF,UAAU,CAACpC,WAAW,EAAE,KAAK,SAAS,IAAIoC,UAAU,CAACpC,WAAW,EAAE,KAAK,SAAS,EAAE;QAC3FsC,YAAY,GAAG,SAAS;OACzB,MAAM,IAAIF,UAAU,CAACpC,WAAW,EAAE,KAAK,iBAAiB,EAAE;QACzDsC,YAAY,GAAG,iBAAiB;OACjC,MAAM,IAAIF,UAAU,CAACpC,WAAW,EAAE,KAAK,aAAa,EAAE;QACrDsC,YAAY,GAAG,aAAa;;MAG9B;MACA,IAAI,CAACxC,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,2BAA2B2C,YAAY,aAAaD,SAAS,KAAK;QAC3EzC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF;MACA,IAAI,CAAC/L,gBAAgB,CAACyO,2BAA2B,CAACD,YAAY,EAAED,SAAS,CAAC,CACvE1L,SAAS,CAAC;QACTC,IAAI,EAAG4L,KAAY,IAAI;UACrB,IAAI,CAAC1C,YAAY,CAAC2C,GAAG,EAAE;UAEvB,IAAID,KAAK,IAAIA,KAAK,CAAC7H,MAAM,GAAG,CAAC,EAAE;YAC7B,MAAMpB,KAAK,GAAGiJ,KAAK,CAAC7H,MAAM;YAC1B,IAAI+H,iBAAiB,GAAG,YAAYnJ,KAAK,IAAI+I,YAAY,wBAAwBD,SAAS,QAAQ;YAElG,IAAI,CAACvC,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE+C,iBAAiB;cAC1B9C,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;WACH,MAAM;YACL,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE,+BAA+B2C,YAAY,mBAAmBD,SAAS,IAAI;cACpFzC,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;;QAEN,CAAC;QACDtJ,KAAK,EAAGU,GAAQ,IAAI;UAClB,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UACvBjM,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEU,GAAG,CAAC;UAClD,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,kFAAkF;YAC3FC,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;QACJ;OACD,CAAC;MAEJ,OAAO,IAAI;IACb,CAAC;IAED,IAAIO,eAAe,EAAE;MACnB;MACA,MAAMuC,MAAM,GAAGC,QAAQ,CAACxC,eAAe,CAAC,CAAC,CAAC,CAAC;MAC3C,MAAMyC,QAAQ,GAAGzC,eAAe,CAAC,CAAC,CAAC,CAAC9J,IAAI,EAAE;MAE1C;MACA,IAAI,CAACwJ,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,mBAAmBgD,MAAM,OAAOE,QAAQ,KAAK;QACtDjD,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF;MACA,IAAI,CAAC/L,gBAAgB,CAACgP,uBAAuB,CAACH,MAAM,EAAEE,QAAQ,CAAC,CAAClM,SAAS,CAAC;QACxEC,IAAI,EAAGmM,QAAQ,IAAI;UACjB;UACA,IAAI,CAACjD,YAAY,CAAC2C,GAAG,EAAE;UAEvB;UACA,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,WAAWgD,MAAM,sCAAsCE,QAAQ,kDAAkD;YAC1HjD,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;UAEF;UACA,IAAI,CAAC1J,mBAAmB,EAAE;QAC5B,CAAC;QACDI,KAAK,EAAGU,GAAG,IAAI;UACb;UACA,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UAEvBjM,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEU,GAAG,CAAC;UAC3C;UACA,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,oCAAoCgD,MAAM,OAAOE,QAAQ,KAAK5L,GAAG,CAACV,KAAK,EAAEwJ,OAAO,IAAI,4DAA4D,EAAE;YAC3JH,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;QACJ;OACD,CAAC;KACH,MAAM,IAAIU,oBAAoB,EAAE;MAC/B;MACA,MAAMoC,MAAM,GAAGC,QAAQ,CAACrC,oBAAoB,CAAC,CAAC,CAAC,CAAC;MAChD,MAAMsC,QAAQ,GAAGtC,oBAAoB,CAAC,CAAC,CAAC,CAACjK,IAAI,EAAE;MAE/C;MACA,IAAI,CAACwJ,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,mBAAmBgD,MAAM,OAAOE,QAAQ,KAAK;QACtDjD,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF;MACA,IAAI,CAAC/L,gBAAgB,CAACgP,uBAAuB,CAACH,MAAM,EAAEE,QAAQ,CAAC,CAAClM,SAAS,CAAC;QACxEC,IAAI,EAAGmM,QAAQ,IAAI;UACjB;UACA,IAAI,CAACjD,YAAY,CAAC2C,GAAG,EAAE;UAEvB;UACA,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,WAAWgD,MAAM,sCAAsCE,QAAQ,kDAAkD;YAC1HjD,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;UAEF;UACA,IAAI,CAAC1J,mBAAmB,EAAE;QAC5B,CAAC;QACDI,KAAK,EAAGU,GAAG,IAAI;UACb;UACA,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UAEvBjM,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEU,GAAG,CAAC;UAC3C;UACA,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,oCAAoCgD,MAAM,OAAOE,QAAQ,KAAK5L,GAAG,CAACV,KAAK,EAAEwJ,OAAO,IAAI,4DAA4D,EAAE;YAC3JH,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;QACJ;OACD,CAAC;KACH,MAAM,IAAIY,eAAe,EAAE;MAC1B;MACA,MAAMkC,MAAM,GAAGC,QAAQ,CAACnC,eAAe,CAAC,CAAC,CAAC,CAAC;MAE3C;MACA,IAAI,CAACX,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,oBAAoBgD,MAAM,KAAK;QACxC/C,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF;MACA,IAAI,CAAC9L,kBAAkB,CAACiP,eAAe,CAACL,MAAM,CAAC,CAAChM,SAAS,CAAC;QACxDC,IAAI,EAAGqM,IAAS,IAAI;UAClB;UACA,IAAI,CAACnD,YAAY,CAAC2C,GAAG,EAAE;UAEvB,IAAIQ,IAAI,EAAE;YACR;YACA,MAAMC,WAAW,GAAGD,IAAI,CAAC3J,KAAK,GAC3B2J,IAAI,CAAC3J,KAAK,CAAC0G,WAAW,EAAE,CAAC3I,QAAQ,CAAC,QAAQ,CAAC,GAAG,cAAc,GAC5D4L,IAAI,CAAC3J,KAAK,CAAC0G,WAAW,EAAE,CAAC3I,QAAQ,CAAC,KAAK,CAAC,GAAG,cAAc,GACzD4L,IAAI,CAAC3J,KAAK,CAAC0G,WAAW,EAAE,CAAC3I,QAAQ,CAAC,QAAQ,CAAC,GAAG,gBAAgB,GAAG,WAAW,GAAI,WAAW;YAE9F,MAAM8L,gBAAgB,GAAG;;4BAETF,IAAI,CAACG,EAAE,KAAKH,IAAI,CAACzI,KAAK;;8DAEY0I,WAAW,KAAKD,IAAI,CAAC3J,KAAK,IAAI,SAAS;sDAC/C2J,IAAI,CAACI,UAAU,IAAI,YAAY;oDACjC,IAAI,CAAC5P,mBAAmB,CAACwP,IAAI,CAACnM,aAAa,CAAC;oBAC5EmM,IAAI,CAAClJ,IAAI,GAAG,8BAA8BkJ,IAAI,CAAClJ,IAAI,OAAO,GAAG,EAAE;;;6EAGNkJ,IAAI,CAACG,EAAE;;;aAGvE;YAED;YACA,IAAI,CAACtD,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAEwD,gBAAgB;cACzBvD,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;WACH,MAAM;YACL;YACA,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE,2BAA2BgD,MAAM,sCAAsC;cAChF/C,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;;QAEN,CAAC;QACDtJ,KAAK,EAAGU,GAAQ,IAAI;UAClB;UACA,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UAEvBjM,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEU,GAAG,CAAC;UAC5C;UACA,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,kDAAkDgD,MAAM,KAAK1L,GAAG,CAACV,KAAK,EAAEwJ,OAAO,IAAI,yCAAyC,EAAE;YACvIH,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;QACJ;OACD,CAAC;KACH,MAAM,IAAIc,cAAc,EAAE;MACzB;MACA,IAAI,CAACb,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,gCAAgC;QACzCC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,MAAMyD,oBAAoB,GAAG,IAAI,CAACC,uBAAuB,EAAE;MAC3D,IAAID,oBAAoB,IAAIA,oBAAoB,CAAC3I,MAAM,GAAG,CAAC,EAAE;QAC3D;QACA,MAAM6I,eAAe,GAAGF,oBAAoB,CAAC,CAAC,CAAC,CAAC,CAAC;QAEjD;QACA,IAAI,CAACxD,YAAY,CAAC2C,GAAG,EAAE;QAEvB;QACA,IAAIC,iBAAiB,GAAG,cAAcc,eAAe,CAACC,IAAI,0CAA0CD,eAAe,CAACjK,KAAK,QAAQ;QAEjI;QACAmJ,iBAAiB,IAAI;;;;;;;;;;SAUpB;QAED;QACAY,oBAAoB,CAACI,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAACzI,OAAO,CAAC0I,MAAM,IAAG;UAChDjB,iBAAiB,IAAI;;oBAEXiB,MAAM,CAACF,IAAI;oBACXE,MAAM,CAACpK,KAAK;;WAErB;QACH,CAAC,CAAC;QAEFmJ,iBAAiB,IAAI;;;;SAIpB;QAED,IAAI,CAAC5C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE+C,iBAAiB;UAC1B9C,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACC,YAAY,CAAC2C,GAAG,EAAE;QACvB,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,mFAAmF;UAC5FC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;;KAEL,MAAM,IAAIgB,qBAAqB,EAAE;MAChC;MACA,IAAI,CAACf,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,gCAAgC;QACzCC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,IAAI,CAAC1B,aAAa,IAAI,IAAI,CAACA,aAAa,CAACxD,MAAM,GAAG,CAAC,EAAE;QACvD;QACA,IAAI,CAACmF,YAAY,CAAC2C,GAAG,EAAE;QAEvB;QACA,IAAIC,iBAAiB,GAAG,mCAAmC,IAAI,CAACjP,mBAAmB,CAAC,IAAI,CAAC4C,qBAAqB,CAAC,OAAO;QAEtH;QACAqM,iBAAiB,IAAI;;;;;;;;;;SAUpB;QAED;QACA,IAAI,CAACvE,aAAa,CAAClD,OAAO,CAACmC,MAAM,IAAG;UAClC,MAAM8F,WAAW,GAAG,IAAI,CAAC5D,cAAc,CAAClC,MAAM,CAACA,MAAM,CAAC;UACtDsF,iBAAiB,IAAI;;iEAEkCQ,WAAW,MAAM9F,MAAM,CAACA,MAAM;oBAC3EA,MAAM,CAAC7D,KAAK;;WAErB;QACH,CAAC,CAAC;QAEFmJ,iBAAiB,IAAI;;;;SAIpB;QAED,IAAI,CAAC5C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE+C,iBAAiB;UAC1B9C,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACC,YAAY,CAAC2C,GAAG,EAAE;QACvB,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,iFAAiF;UAC1FC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;;KAEL,MAAM,IAAIkB,iBAAiB,EAAE;MAC5B;MACA,IAAI,CAACjB,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,kCAAkC;QAC3CC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,IAAI,CAACjI,aAAa,EAAE;QACtB;QACA,IAAI,CAACkI,YAAY,CAAC2C,GAAG,EAAE;QAEvB,MAAMmB,oBAAoB,GAAG,IAAI,CAACC,6BAA6B,EAAE;QAEjE;QACA,IAAInB,iBAAiB,GAAG;;kBAEd,IAAI,CAACjP,mBAAmB,CAAC,IAAI,CAAC4C,qBAAqB,CAAC;;;;sDAIhB,IAAI,CAACuB,aAAa,CAAChD,UAAU;0DACzB,IAAI,CAACgD,aAAa,CAAC3C,SAAS;sDAChC,IAAI,CAAC2C,aAAa,CAAC9C,UAAU;qDAC9B,IAAI,CAAC8C,aAAa,CAACgM,oBAAoB,CAACE,OAAO,CAAC,CAAC,CAAC;;;;;;uCAMhEF,oBAAoB;wCACnBA,oBAAoB;;;sBAGtCA,oBAAoB;;;;;;;SAOjC;QAED,IAAI,CAAC9D,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE+C,iBAAiB;UAC1B9C,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACC,YAAY,CAAC2C,GAAG,EAAE;QACvB,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,sEAAsE;UAC/EC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;;KAEL,MAAM,IAAIoB,cAAc,EAAE;MACzB;MACA,IAAI,CAACnB,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,qCAAqC;QAC9CC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,IAAI,CAACjI,aAAa,EAAE;QACtB;QACA,IAAI,CAACkI,YAAY,CAAC2C,GAAG,EAAE;QAEvB,MAAMmB,oBAAoB,GAAG,IAAI,CAACC,6BAA6B,EAAE;QAEjE;QACA,IAAInB,iBAAiB,GAAG;;kBAEd,IAAI,CAACjP,mBAAmB,CAAC,IAAI,CAAC4C,qBAAqB,CAAC;;;;sDAIhB,IAAI,CAACuB,aAAa,CAAChD,UAAU;0DACzB,IAAI,CAACgD,aAAa,CAAC3C,SAAS;sDAChC,IAAI,CAAC2C,aAAa,CAAC9C,UAAU;qDAC9B,IAAI,CAAC8C,aAAa,CAACgM,oBAAoB,CAACE,OAAO,CAAC,CAAC,CAAC;;;;;;uCAMhEF,oBAAoB;wCACnBA,oBAAoB;;;sBAGtCA,oBAAoB;;;;;;;SAOjC;QAED,IAAI,CAAC9D,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE+C,iBAAiB;UAC1B9C,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACC,YAAY,CAAC2C,GAAG,EAAE;QACvB,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,yEAAyE;UAClFC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;;KAEL,MAAM,IAAIsB,eAAe,EAAE;MAC1B;MACA,IAAI,CAACrB,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,uCAAuC;QAChDC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,IAAI,CAAC1B,aAAa,IAAI,IAAI,CAACA,aAAa,CAACxD,MAAM,GAAG,CAAC,EAAE;QACvD;QACA,IAAI,CAACmF,YAAY,CAAC2C,GAAG,EAAE;QAEvB;QACA,IAAIC,iBAAiB,GAAG,0CAA0C,IAAI,CAACjP,mBAAmB,CAAC,IAAI,CAAC4C,qBAAqB,CAAC,OAAO;QAE7H;QACAqM,iBAAiB,IAAI;;;;;;;;;;SAUpB;QAED;QACA,IAAI,CAACvE,aAAa,CAAClD,OAAO,CAACmC,MAAM,IAAG;UAClC,MAAM8F,WAAW,GAAG,IAAI,CAAC5D,cAAc,CAAClC,MAAM,CAACA,MAAM,CAAC;UACtDsF,iBAAiB,IAAI;;iEAEkCQ,WAAW,MAAM9F,MAAM,CAACA,MAAM;oBAC3EA,MAAM,CAAC7D,KAAK;;WAErB;QACH,CAAC,CAAC;QAEFmJ,iBAAiB,IAAI;;;;SAIpB;QAED,IAAI,CAAC5C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE+C,iBAAiB;UAC1B9C,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACC,YAAY,CAAC2C,GAAG,EAAE;QACvB,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,wFAAwF;UACjGC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;;KAEL,MAAM,IAAIwB,iBAAiB,EAAE;MAC5B;MACA,IAAI,CAACvB,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,0CAA0C;QACnDC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,IAAI,CAAClC,WAAW,IAAI,IAAI,CAACA,WAAW,CAAChD,MAAM,GAAG,CAAC,EAAE;QACnD;QACA,IAAI,CAACmF,YAAY,CAAC2C,GAAG,EAAE;QAEvB;QACA,IAAIC,iBAAiB,GAAG,6CAA6C,IAAI,CAACjP,mBAAmB,CAAC,IAAI,CAAC4C,qBAAqB,CAAC,OAAO;QAEhI;QACAqM,iBAAiB,IAAI;;;;;;;;;;SAUpB;QAED;QACA,IAAI,CAAC/E,WAAW,CAAC1C,OAAO,CAAClB,IAAI,IAAG;UAC9B2I,iBAAiB,IAAI;;iEAEkC3I,IAAI,CAAC0D,KAAK,MAAM1D,IAAI,CAACA,IAAI;oBACtEA,IAAI,CAACR,KAAK;;WAEnB;QACH,CAAC,CAAC;QAEFmJ,iBAAiB,IAAI;;;;SAIpB;QAED,IAAI,CAAC5C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE+C,iBAAiB;UAC1B9C,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;OACH,MAAM;QACL;QACA,IAAI,CAACC,YAAY,CAAC2C,GAAG,EAAE;QACvB,IAAI,CAAC3C,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,2FAA2F;UACpGC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;;KAEL,MAAM,IAAI0B,kBAAkB,EAAE;MAC7B;MACA,MAAMnE,MAAM,GAAGmE,kBAAkB,CAAC,CAAC,CAAC;MACpC,MAAMc,SAAS,GAAGd,kBAAkB,CAAC,CAAC,CAAC;MAEvC,IAAI,CAACzB,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,cAAcvC,MAAM,aAAaiF,SAAS,KAAK;QACxDzC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,CAAC/L,gBAAgB,CAACyO,2BAA2B,CAACnF,MAAM,EAAEiF,SAAS,CAAC,CACjE1L,SAAS,CAAC;QACTC,IAAI,EAAG4L,KAAY,IAAI;UACrB,IAAI,CAAC1C,YAAY,CAAC2C,GAAG,EAAE;UAEvB,IAAID,KAAK,IAAIA,KAAK,CAAC7H,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI+H,iBAAiB,GAAG,YAAYF,KAAK,CAAC7H,MAAM,uBAAuByC,MAAM,mBAAmBiF,SAAS,QAAQ;YACjHK,iBAAiB,IAAI,yBAAyB;YAC9CF,KAAK,CAACvH,OAAO,CAAEgI,IAAS,IAAI;cAC1BP,iBAAiB,IAAI;;;iCAGJO,IAAI,CAACG,EAAE,cAAcH,IAAI,CAACzI,KAAK;wBACxCyI,IAAI,CAACI,UAAU,GAAG,8CAA8CJ,IAAI,CAACI,UAAU,QAAQ,GAAG,EAAE;;mEAEjD,IAAI,CAAC/D,cAAc,CAAC2D,IAAI,CAAC7F,MAAM,IAAI,EAAE,CAAC,MAAM6F,IAAI,CAAC7F,MAAM,IAAI,SAAS;;iBAEtH;YACH,CAAC,CAAC;YACFsF,iBAAiB,IAAI,OAAO;YAE5B,IAAI,CAAC5C,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE+C,iBAAiB;cAC1B9C,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;WACH,MAAM;YACL,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE,+BAA+BvC,MAAM,mBAAmBiF,SAAS,IAAI;cAC9EzC,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;;QAEN,CAAC;QACDtJ,KAAK,EAAGU,GAAQ,IAAI;UAClB,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UACvBjM,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEU,GAAG,CAAC;UAC7C,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,6EAA6E;YACtFC,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;QACJ;OACD,CAAC;KACL,MAAM,IAAI4B,WAAW,IAAIS,sBAAsB,CAACnC,OAAO,CAAC,EAAE;MACzD;IAAA,CACD,MAAM,IAAI8B,eAAe,IAAIK,sBAAsB,CAACnC,OAAO,CAAC,EAAE;MAC7D;IAAA,CACD,MAAM,IAAIgC,iBAAiB,EAAE;MAC5B;MACA,MAAMgC,UAAU,GAAGhC,iBAAiB,CAAC,CAAC,CAAC;MAEvC,IAAI,CAACjC,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,4CAA4CoE,UAAU,QAAQ,IAAI,CAACtQ,mBAAmB,CAAC,IAAI,CAAC4C,qBAAqB,CAAC,KAAK;QAChIuJ,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF,IAAI,CAAC/L,gBAAgB,CAACyO,2BAA2B,CAACwB,UAAU,EAAE,IAAI,CAAC1N,qBAAqB,CAAC,CACtFM,SAAS,CAAC;QACTC,IAAI,EAAG4L,KAAY,IAAI;UACrB,IAAI,CAAC1C,YAAY,CAAC2C,GAAG,EAAE;UAEvB,IAAID,KAAK,IAAIA,KAAK,CAAC7H,MAAM,GAAG,CAAC,EAAE;YAC7B,MAAMpB,KAAK,GAAGiJ,KAAK,CAAC7H,MAAM;YAC1B,IAAI+H,iBAAiB,GAAG,YAAYnJ,KAAK,uBAAuBwK,UAAU,mBAAmB,IAAI,CAAC1N,qBAAqB,QAAQ;YAE/H,IAAI,CAACyJ,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE+C,iBAAiB;cAC1B9C,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;WACH,MAAM;YACL,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE,+BAA+BoE,UAAU,mBAAmB,IAAI,CAAC1N,qBAAqB,IAAI;cACnGuJ,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;;QAEN,CAAC;QACDtJ,KAAK,EAAGU,GAAQ,IAAI;UAClB,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UACvBjM,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEU,GAAG,CAAC;UAC1D,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,0FAA0F;YACnGC,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;QACJ;OACD,CAAC;KACL,MAAM,IAAIoC,eAAe,EAAE;MAC1B;MACA,IAAI,CAACnC,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,uCAAuC;QAChDC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF;MACA,IAAI,CAAC/L,gBAAgB,CAACkQ,2BAA2B,CAAC,IAAI,CAAC3N,qBAAqB,CAAC,CAC1EM,SAAS,CAAC;QACTC,IAAI,EAAGmM,QAA2B,IAAI;UACpC,IAAI,CAACjD,YAAY,CAAC2C,GAAG,EAAE;UAEvB;UACA,MAAMwB,gBAAgB,GAAgB;YACpCvE,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAEoD,QAAQ,CAAChD,OAAO;YACzBH,SAAS,EAAE,IAAIC,IAAI;WACpB;UACD,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC2M,gBAAgB,CAAC;QAC1C,CAAC;QACD1N,KAAK,EAAGU,GAAQ,IAAI;UAClB,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UAEvBjM,OAAO,CAACD,KAAK,CAAC,qCAAqC,EAAEU,GAAG,CAAC;UACzD;UACA,MAAMiN,eAAe,GAAgB;YACnCxE,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,+FAA+F;YACxGC,SAAS,EAAE,IAAIC,IAAI;WACpB;UACD,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC4M,eAAe,CAAC;QACzC;OACD,CAAC;KACL,MAAM;MACL;MACA,IAAI,CAACpE,YAAY,CAACxI,IAAI,CAAC;QACrBoI,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE,aAAa;QACtBC,SAAS,EAAE,IAAIC,IAAI;OACpB,CAAC;MAEF;MACA,IAAI,CAAC/L,gBAAgB,CAACyL,eAAe,CAAC;QACpCQ,OAAO,EAAEA,OAAO;QAChBoE,oBAAoB,EAAE,IAAI,CAAC9N;OAC5B,CAAC,CAACM,SAAS,CAAC;QACXC,IAAI,EAAGmM,QAAQ,IAAI;UACjB;UACA,IAAI,CAACjD,YAAY,CAAC2C,GAAG,EAAE;UAEvB;UACA,MAAMwB,gBAAgB,GAAgB;YACpCvE,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAEoD,QAAQ,CAAChD,OAAO;YACzBH,SAAS,EAAE,IAAIC,IAAI;WACpB;UACD,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC2M,gBAAgB,CAAC;QAC1C,CAAC;QACD1N,KAAK,EAAGU,GAAG,IAAI;UACb;UACA,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;UAEvBjM,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEU,GAAG,CAAC;UAClD;UACA,MAAMiN,eAAe,GAAgB;YACnCxE,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,gFAAgF;YACzFC,SAAS,EAAE,IAAIC,IAAI;WACpB;UACD,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC4M,eAAe,CAAC;QACzC;OACD,CAAC;;EAEN;EAEA;;;EAGAhN,gCAAgC;IAC9B,IAAI,CAACkN,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAE1B,IAAI,CAACtQ,kBAAkB,CAACuQ,kBAAkB,CAAC,IAAI,CAACjO,qBAAqB,CAAC,CACnEyG,IAAI,CACH1J,QAAQ,CAAC,MAAK;MACZ,IAAI,CAACgR,kBAAkB,GAAG,KAAK;IACjC,CAAC,CAAC,CACH,CACAzN,SAAS,CAAC;MACTC,IAAI,EAAG2N,cAAc,IAAI;QACvB;QACA,IAAI,CAAC9F,cAAc,GAAG;UACpB7J,UAAU,EAAE2P,cAAc,CAAC3P,UAAU;UACrCC,MAAM,EAAE0P,cAAc,CAAC1P,MAAM;UAC7BC,UAAU,EAAEyP,cAAc,CAACzP,UAAU;UACrCC,UAAU,EAAEwP,cAAc,CAACxP,UAAU;UACrCC,WAAW,EAAEuP,cAAc,CAACvP,WAAW;UACvCC,SAAS,EAAEsP,cAAc,CAACtP,SAAS;UACnCC,OAAO,EAAEqP,cAAc,CAACrP;SACzB;QAED;QACA,IAAIqP,cAAc,CAACxH,SAAS,EAAE;UAC5B,IAAI,CAACqB,oBAAoB,GAAGmG,cAAc,CAACxH,SAAS;;QAGtD;QACA,IAAIwH,cAAc,CAACC,eAAe,EAAE;UAClC,IAAI,CAAClB,oBAAoB,GAAGiB,cAAc,CAACC,eAAe;;QAG5D;QACA,IAAI,CAACC,kCAAkC,EAAE;QAEzC;QACArM,UAAU,CAAC,MAAK;UACd,IAAI,CAACkG,wBAAwB,EAAE;QACjC,CAAC,EAAE,GAAG,CAAC;MACT,CAAC;MACD/H,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,kDAAkD,EAAEA,KAAK,CAAC;QACxE,IAAI,CAAC8N,gBAAgB,GAAG,2DAA2D;QAEnF;QACA,IAAI,CAACK,wBAAwB,EAAE;MACjC;KACD,CAAC;EACN;EAEA;;;EAGAA,wBAAwB;IACtB,IAAI,CAACN,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAE1B;IACA,IAAI,CAACtQ,kBAAkB,CAAC4Q,uBAAuB,CAAC,IAAI,CAACtO,qBAAqB,CAAC,CACxEyG,IAAI,CACH3J,UAAU,CAACoD,KAAK,IAAG;MACjBC,OAAO,CAACD,KAAK,CAAC,0DAA0D,EAAEA,KAAK,CAAC;MAChF;MACA,OAAO,IAAI,CAACxC,kBAAkB,CAAC6Q,uBAAuB,CAAC,IAAI,CAACvO,qBAAqB,CAAC,CAC/EyG,IAAI,CACHzJ,GAAG,CAAC0J,SAAS,IAAG;QACd;QACA,OAAO,IAAI,CAAChJ,kBAAkB,CAAC8Q,iBAAiB,CAAC9H,SAAS,CAAC;MAC7D,CAAC,CAAC,EACF5J,UAAU,CAAC8D,GAAG,IAAG;QACf,IAAI,CAACoN,gBAAgB,GAAG,2DAA2D;QACnF7N,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEU,GAAG,CAAC;QAC5D,OAAO/D,EAAE,CAAC;UACR0B,UAAU,EAAE,CAAC;UACbC,MAAM,EAAE,CAAC;UACTC,UAAU,EAAE,CAAC;UACbC,UAAU,EAAE,CAAC;UACbC,WAAW,EAAE,CAAC;UACdC,SAAS,EAAE,CAAC;UACZC,OAAO,EAAE;SACV,CAAC;MACJ,CAAC,CAAC,CACH;IACL,CAAC,CAAC,EACF9B,QAAQ,CAAC,MAAK;MACZ,IAAI,CAACgR,kBAAkB,GAAG,KAAK;IACjC,CAAC,CAAC,CACH,CACAzN,SAAS,CAACmO,MAAM,IAAG;MAClB;MACA,IAAI,CAACrG,cAAc,GAAGqG,MAAM;MAE5B;MACA,IAAI1J,KAAK,CAAC2J,OAAO,CAACD,MAAM,CAAC/H,SAAS,CAAC,EAAE;QACnC,IAAI,CAACqB,oBAAoB,GAAG0G,MAAM,CAAC/H,SAAS;;MAG9C;MACA,IAAI,CAAC0H,kCAAkC,EAAE;IAC3C,CAAC,CAAC;EACN;EAEA;;;EAGAA,kCAAkC;IAChCjO,OAAO,CAACC,GAAG,CAAC,4CAA4C,EAAE,IAAI,CAACgI,cAAc,CAAC;IAE9E;IACA,IAAI,CAAC7G,aAAa,GAAG;MACnBhD,UAAU,EAAE,IAAI,CAAC6J,cAAc,CAAC7J,UAAU,IAAI,CAAC;MAC/CE,UAAU,EAAE,IAAI,CAAC2J,cAAc,CAAC3J,UAAU,IAAI,CAAC;MAC/CG,SAAS,EAAE,IAAI,CAACwJ,cAAc,CAACxJ,SAAS,IAAI,CAAC;MAC7CC,OAAO,EAAE,IAAI,CAACuJ,cAAc,CAACvJ,OAAO,IAAI,CAAC;MACzC0O,oBAAoB,EAAE,IAAI,CAACC,6BAA6B;KACzD;IAED;IACA,IAAI,CAACmB,0CAA0C,EAAE;IAEjD;IACA,IAAI,IAAI,CAAC5G,oBAAoB,IAAI,IAAI,CAACA,oBAAoB,CAACzD,MAAM,GAAG,CAAC,EAAE;MACrE;MACA,MAAMsK,WAAW,GAAG,IAAI,CAAC7G,oBAAoB,CAACnB,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAI;QACjE,MAAM7D,KAAK,GAAG6D,IAAI,CAAC7D,KAAK,IAAI,SAAS;QACrC,IAAI,CAAC4D,GAAG,CAAC5D,KAAK,CAAC,EAAE;UACf4D,GAAG,CAAC5D,KAAK,CAAC,GAAG,EAAE;;QAEjB4D,GAAG,CAAC5D,KAAK,CAAC,CAAChC,IAAI,CAAC6F,IAAI,CAAC;QACrB,OAAOD,GAAG;MACZ,CAAC,EAAE,EAAE,CAAC;MAEN;MACA,IAAI,CAACiB,aAAa,GAAGZ,MAAM,CAACC,IAAI,CAACyH,WAAW,CAAC,CAAC5R,GAAG,CAACiG,KAAK,KAAK;QAC1D8D,MAAM,EAAE9D,KAAK;QACbC,KAAK,EAAE0L,WAAW,CAAC3L,KAAK,CAAC,CAACqB,MAAM;QAChC8C,KAAK,EAAE,IAAI,CAAC6B,cAAc,CAAChG,KAAK;OACjC,CAAC,CAAC,CAACsE,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACvE,KAAK,GAAGsE,CAAC,CAACtE,KAAK,CAAC;MAErC;MACA,IAAI,CAAC7E,eAAe,GAAG,CAAC,GAAG,IAAI,CAACyJ,aAAa,CAAC;;EAElD;EAEA;;;EAGA0F,6BAA6B;IAC3B,MAAM5E,KAAK,GAAG,IAAI,CAACR,cAAc,CAAC7J,UAAU;IAC5C,IAAIqK,KAAK,KAAK,CAAC,EAAE,OAAO,CAAC;IAEzB,MAAMhK,SAAS,GAAG,IAAI,CAACwJ,cAAc,CAACxJ,SAAS;IAC/C,OAAOkH,IAAI,CAACkD,KAAK,CAAEpK,SAAS,GAAGgK,KAAK,GAAI,GAAG,CAAC;EAC9C;EAEA;;;;EAIA+F,0CAA0C;IACxC;IACA,IAAI,CAAC7O,mBAAmB,EAAE;EAC5B;EAEA;;;;EAIAoN,uBAAuB;IACrB,IAAI,CAAC,IAAI,CAACD,oBAAoB,EAAE;MAC9B,OAAO,EAAE;;IAGX,OAAO/F,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC8F,oBAAoB,CAAC,CAACjQ,GAAG,CAACwP,QAAQ,IAAG;MAC3D,OAAO;QACLY,IAAI,EAAEZ,QAAQ;QACd,GAAG,IAAI,CAACS,oBAAoB,CAACT,QAAQ;OACtC;IACH,CAAC,CAAC;EACJ;EAEA;;;;EAIAqC,uBAAuB;IACrB,MAAMC,cAAc,GAAG,IAAI,CAACC,iBAAiB,EAAE;IAC/C,MAAMC,UAAU,GAAG,IAAI,CAACC,iBAAiB,EAAE;IAE3C,IAAID,UAAU,KAAK,CAAC,EAAE,OAAO,CAAC;IAC9B,OAAOlJ,IAAI,CAACkD,KAAK,CAAE8F,cAAc,GAAGE,UAAU,GAAI,GAAG,CAAC;EACxD;EAEA;;;;EAIAD,iBAAiB;IACf,IAAI,CAAC,IAAI,CAAChH,oBAAoB,IAAI,IAAI,CAACA,oBAAoB,CAACzD,MAAM,KAAK,CAAC,EAAE;MACxE,OAAO,CAAC;;IAGV;IACA,MAAM4K,iBAAiB,GAAG,CACxB,QAAQ,EACR,cAAc,EACd,qBAAqB,EACrB,UAAU,EACV,kBAAkB,EAClB,UAAU,CACX;IAED;IACA,OAAO,IAAI,CAACnH,oBAAoB,CAACO,MAAM,CAACxB,IAAI,IAAG;MAC7C,MAAMC,MAAM,GAAGD,IAAI,CAACC,MAAM,IAAI,EAAE;MAChC,OAAOmI,iBAAiB,CAACC,IAAI,CAACnM,CAAC,IAAI+D,MAAM,CAAC4C,WAAW,EAAE,KAAK3G,CAAC,CAAC2G,WAAW,EAAE,CAAC;IAC9E,CAAC,CAAC,CAACrF,MAAM;EACX;EAEA;;;;EAIA2K,iBAAiB;IACf,OAAO,IAAI,CAAClH,oBAAoB,GAAG,IAAI,CAACA,oBAAoB,CAACzD,MAAM,GAAG,CAAC;EACzE;EAEA;;;;EAIA8K,kBAAkB,CAACrI,MAAc;IAC/B,IAAI,CAACsI,cAAc,GAAGtI,MAAM;IAC5B,IAAI,CAACuI,kBAAkB,GAAG,IAAI;IAC9B,IAAI,CAACC,WAAW,GAAG,EAAE;IAErB;IACA,IAAI,IAAI,CAACnQ,gBAAgB,EAAE;MACzB,IAAI,CAACA,gBAAgB,CAACoQ,IAAI,EAAE;;IAG9B;IACA,MAAMnJ,WAAW,GAAGC,kBAAkB,CAAC,IAAI,CAACtG,qBAAqB,CAAC,CAACzC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC;IAC3F,MAAMgJ,GAAG,GAAG,iDAAiDF,WAAW,EAAE;IAE1E,IAAI,CAAC1I,IAAI,CAAC6I,GAAG,CAAQD,GAAG,CAAC,CACtBE,IAAI,CACH1J,QAAQ,CAAC,MAAK;MACZ,IAAI,CAACuS,kBAAkB,GAAG,KAAK;IACjC,CAAC,CAAC,CACH,CACAhP,SAAS,CAAC;MACTC,IAAI,EAAGmG,SAAS,IAAI;QAClB,IAAIA,SAAS,IAAIA,SAAS,CAACpC,MAAM,GAAG,CAAC,EAAE;UACrC;UACA,IAAI,CAACiL,WAAW,GAAG7I,SAAS,CAAC4B,MAAM,CAACxB,IAAI,IACtCA,IAAI,CAACC,MAAM,KAAKA,MAAM,IACrBA,MAAM,KAAK,iBAAiB,KAC3BD,IAAI,CAACC,MAAM,KAAK,iBAAiB,IAChCD,IAAI,CAACC,MAAM,CAAC4C,WAAW,EAAE,CAAC3I,QAAQ,CAAC,KAAK,CAAC,IACzC8F,IAAI,CAACC,MAAM,CAAC4C,WAAW,EAAE,CAAC3I,QAAQ,CAAC,UAAU,CAAE,CAAE,CACrD;SACF,MAAM;UACL,IAAI,CAACuO,WAAW,GAAG,EAAE;;MAEzB,CAAC;MACDrP,KAAK,EAAGU,GAAG,IAAI;QACbT,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEU,GAAG,CAAC;QACrD,IAAI,CAAC2O,WAAW,GAAG,EAAE;MACvB;KACD,CAAC;EACN;EAEA;;;;;EAKAE,UAAU,CAACnD,MAAc;IACvB,OAAO,GAAGrP,WAAW,CAACyS,cAAc,IAAIzS,WAAW,CAAC0S,YAAY,IAAI1S,WAAW,CAAC2S,OAAO,oBAAoBtD,MAAM,EAAE;EACrH;EAEA;;;;EAIAuD,mBAAmB,CAACnM,IAAY;IAC9B,IAAI,CAACoM,YAAY,GAAGpM,IAAI;IACxB,IAAI,CAACqM,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,SAAS,GAAG,EAAE;IAEnB;IACA,MAAMC,QAAQ,GAAG,IAAI,CAAC3I,WAAW,CAACjC,IAAI,CAAC6K,CAAC,IAAIA,CAAC,CAACxM,IAAI,KAAKA,IAAI,CAAC;IAC5D,IAAI,CAACyM,iBAAiB,GAAGF,QAAQ,GAAGA,QAAQ,CAAC7I,KAAK,GAAG,SAAS;IAE9D;IACA,IAAI,IAAI,CAAC5H,iBAAiB,EAAE;MAC1B,IAAI,CAACA,iBAAiB,CAACgQ,IAAI,EAAE;;IAG/B;IACA,MAAMnJ,WAAW,GAAGC,kBAAkB,CAAC,IAAI,CAACtG,qBAAqB,CAAC,CAACzC,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC;IAC3F,MAAMgJ,GAAG,GAAG,iDAAiDF,WAAW,EAAE;IAE1E,IAAI,CAAC1I,IAAI,CAAC6I,GAAG,CAAQD,GAAG,CAAC,CACtBE,IAAI,CACH1J,QAAQ,CAAC,MAAK;MACZ,IAAI,CAACgT,gBAAgB,GAAG,KAAK;IAC/B,CAAC,CAAC,CACH,CACAzP,SAAS,CAAC;MACTC,IAAI,EAAGmG,SAAS,IAAI;QAClB,IAAIA,SAAS,IAAIA,SAAS,CAACpC,MAAM,GAAG,CAAC,EAAE;UACrC;UACA,IAAI,CAAC0L,SAAS,GAAGtJ,SAAS,CAAC4B,MAAM,CAACxB,IAAI,IACnCA,IAAI,CAACpD,IAAI,IAAIoD,IAAI,CAACpD,IAAI,CAACiG,WAAW,EAAE,KAAK,IAAI,CAACmG,YAAY,CAACnG,WAAW,EAAG,CAC3E;SACF,MAAM;UACL,IAAI,CAACqG,SAAS,GAAG,EAAE;;MAEvB,CAAC;MACD9P,KAAK,EAAGU,GAAG,IAAI;QACbT,OAAO,CAACD,KAAK,CAAC,qCAAqCwD,IAAI,GAAG,EAAE9C,GAAG,CAAC;QAChE,IAAI,CAACoP,SAAS,GAAG,EAAE;MACrB;KACD,CAAC;EACN;EAEA;;;;EAIAnG,4BAA4B,CAACH,OAAe;IAC1C,IAAI0G,SAAS,GAAG,EAAE;IAClB,IAAI3P,aAAa,GAAG,IAAI,CAACT,qBAAqB;IAE9C;IACA,IAAIqQ,SAAS,GAAG,EAAE;IAClB,IAAI3G,OAAO,CAACC,WAAW,EAAE,CAACC,UAAU,CAAC,YAAY,CAAC,EAAE;MAClDyG,SAAS,GAAG3G,OAAO,CAAC4G,SAAS,CAAC,YAAY,CAAChM,MAAM,CAAC;KACnD,MAAM,IAAIoF,OAAO,CAACC,WAAW,EAAE,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;MACrDyG,SAAS,GAAG3G,OAAO,CAAC4G,SAAS,CAAC,QAAQ,CAAChM,MAAM,CAAC;;IAGhD;IACA,MAAMiM,OAAO,GAAGF,SAAS,CAAC1G,WAAW,EAAE,CAAC6G,WAAW,CAAC,MAAM,CAAC;IAC3D,MAAMC,UAAU,GAAGJ,SAAS,CAAC1G,WAAW,EAAE,CAAC6G,WAAW,CAAC,SAAS,CAAC;IACjE,MAAME,WAAW,GAAGL,SAAS,CAAC1G,WAAW,EAAE,CAAC6G,WAAW,CAAC,UAAU,CAAC;IACnE,MAAMG,QAAQ,GAAGN,SAAS,CAAC1G,WAAW,EAAE,CAAC6G,WAAW,CAAC,OAAO,CAAC;IAE7D,IAAII,UAAU,GAAG,CAAC,CAAC;IACnB,IAAIL,OAAO,GAAG,CAAC,EAAEK,UAAU,GAAGL,OAAO;IACrC,IAAIE,UAAU,GAAG,CAAC,KAAKG,UAAU,GAAG,CAAC,IAAIH,UAAU,GAAGG,UAAU,CAAC,EAAEA,UAAU,GAAGH,UAAU;IAC1F,IAAIC,WAAW,GAAG,CAAC,KAAKE,UAAU,GAAG,CAAC,IAAIF,WAAW,GAAGE,UAAU,CAAC,EAAEA,UAAU,GAAGF,WAAW;IAC7F,IAAIC,QAAQ,GAAG,CAAC,KAAKC,UAAU,GAAG,CAAC,IAAID,QAAQ,GAAGC,UAAU,CAAC,EAAEA,UAAU,GAAGD,QAAQ;IAEpF,IAAIC,UAAU,GAAG,CAAC,EAAE;MAClB;MACAnQ,aAAa,GAAG4P,SAAS,CAACC,SAAS,CAACM,UAAU,GAAG,CAAC,CAAC,CAAC3Q,IAAI,EAAE,CAAC,CAAC;MAE5D;MACAmQ,SAAS,GAAGC,SAAS,CAACC,SAAS,CAAC,CAAC,EAAEM,UAAU,CAAC,CAAC3Q,IAAI,EAAE;KACtD,MAAM;MACL;MACAmQ,SAAS,GAAGC,SAAS,CAACpQ,IAAI,EAAE;;IAG9B;IACAmQ,SAAS,GAAGA,SAAS,CAAC7S,OAAO,CAAC,iCAAiC,EAAE,EAAE,CAAC,CAAC0C,IAAI,EAAE;IAE3EE,OAAO,CAACC,GAAG,CAAC,oBAAoBgQ,SAAS,kBAAkB3P,aAAa,GAAG,CAAC;IAE5E;IACA,MAAMoQ,UAAU,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,gBAAgB,EAAE,YAAY,CAAC;IAC/F,MAAMC,WAAW,GAAGD,UAAU,CAAC7P,QAAQ,CAACoP,SAAS,CAACzG,WAAW,EAAE,CAAC;IAEhE;IACA,IAAIoH,eAAe,GAAGX,SAAS;IAC/B,IAAI,CAACU,WAAW,EAAE;MAChB,IAAIV,SAAS,CAACzG,WAAW,EAAE,KAAK,QAAQ,IAAIyG,SAAS,CAACzG,WAAW,EAAE,KAAK,QAAQ,EAAE;QAChFoH,eAAe,GAAG,QAAQ;OAC3B,MAAM,IAAIX,SAAS,CAACzG,WAAW,EAAE,KAAK,SAAS,IAAIyG,SAAS,CAACzG,WAAW,EAAE,KAAK,SAAS,EAAE;QACzFoH,eAAe,GAAG,SAAS;OAC5B,MAAM,IAAIX,SAAS,CAACzG,WAAW,EAAE,KAAK,iBAAiB,EAAE;QACxDoH,eAAe,GAAG,iBAAiB;OACpC,MAAM,IAAIX,SAAS,CAACzG,WAAW,EAAE,KAAK,aAAa,EAAE;QACpDoH,eAAe,GAAG,aAAa;OAChC,MAAM,IAAIX,SAAS,CAACzG,WAAW,EAAE,KAAK,SAAS,EAAE;QAChDoH,eAAe,GAAG,SAAS;OAC5B,MAAM,IAAIX,SAAS,CAACzG,WAAW,EAAE,KAAK,QAAQ,EAAE;QAC/CoH,eAAe,GAAG,QAAQ;;KAE7B,MAAM;MACL;MACAA,eAAe,GAAGX,SAAS,CAACY,KAAK,CAAC,GAAG,CAAC,CACnChU,GAAG,CAACiU,IAAI,IAAIA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGF,IAAI,CAAC5D,KAAK,CAAC,CAAC,CAAC,CAAC1D,WAAW,EAAE,CAAC,CACvEyH,IAAI,CAAC,GAAG,CAAC;;IAGd;IACA,IAAI,CAAC3H,YAAY,CAACxI,IAAI,CAAC;MACrBoI,IAAI,EAAE,WAAW;MACjBC,OAAO,EAAE,2BAA2ByH,eAAe,IAAID,WAAW,GAAG,YAAY,GAAG,OAAO,OAAOrQ,aAAa,KAAK;MACpH8I,SAAS,EAAE,IAAIC,IAAI;KACpB,CAAC;IAEF;IACA,MAAMnD,WAAW,GAAGC,kBAAkB,CAAC7F,aAAa,CAAC,CAAClD,OAAO,CAAC,MAAM,EAAE,OAAO,CAAC;IAC9E,MAAMgJ,GAAG,GAAG,iDAAiDF,WAAW,EAAE;IAE1E;IACA,IAAI,CAAC1I,IAAI,CAAC6I,GAAG,CAAQD,GAAG,CAAC,CACtBjG,SAAS,CAAC;MACTC,IAAI,EAAG4L,KAAY,IAAI;QACrB,IAAI,CAAC1C,YAAY,CAAC2C,GAAG,EAAE,CAAC,CAAC;QAEzB,IAAID,KAAK,IAAIA,KAAK,CAAC7H,MAAM,GAAG,CAAC,EAAE;UAC7B;UACA,MAAM+M,aAAa,GAAGlF,KAAK,CAAC7D,MAAM,CAAEsE,IAAS,IAAI;YAC/C,IAAIkE,WAAW,EAAE;cACf,MAAMQ,QAAQ,GAAG1E,IAAI,CAAClJ,IAAI,IAAI,EAAE;cAChC,OAAO4N,QAAQ,CAAC3H,WAAW,EAAE,KAAKoH,eAAe,CAACpH,WAAW,EAAE;aAChE,MAAM;cACL,MAAM4H,UAAU,GAAG3E,IAAI,CAAC7F,MAAM,IAAI,EAAE;cACpC,OAAOwK,UAAU,CAAC5H,WAAW,EAAE,KAAKoH,eAAe,CAACpH,WAAW,EAAE;;UAErE,CAAC,CAAC;UAEF,MAAMzG,KAAK,GAAGmO,aAAa,CAAC/M,MAAM;UAElC,IAAIpB,KAAK,GAAG,CAAC,EAAE;YACb,IAAImJ,iBAAiB,GAAG,YAAYnJ,KAAK,IAAI4N,WAAW,GAAGC,eAAe,GAAG,EAAE,IAAID,WAAW,GAAG,YAAY,GAAG,sBAAsBC,eAAe,GAAG,kBAAkBtQ,aAAa,QAAQ;YAE/L,IAAI,CAACgJ,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE+C,iBAAiB;cAC1B9C,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;WACH,MAAM;YACL,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC;cACrBoI,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAEwH,WAAW,GAChB,kCAAkCC,eAAe,mBAAmBtQ,aAAa,IAAI,GACrF,+BAA+BsQ,eAAe,mBAAmBtQ,aAAa,IAAI;cACtF8I,SAAS,EAAE,IAAIC,IAAI;aACpB,CAAC;;SAEL,MAAM;UACL,IAAI,CAACC,YAAY,CAACxI,IAAI,CAAC;YACrBoI,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,gCAAgC7I,aAAa,IAAI;YAC1D8I,SAAS,EAAE,IAAIC,IAAI;WACpB,CAAC;;MAEN,CAAC;MACDtJ,KAAK,EAAGU,GAAQ,IAAI;QAClB,IAAI,CAAC6I,YAAY,CAAC2C,GAAG,EAAE;QACvBjM,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEU,GAAG,CAAC;QAClD,IAAI,CAAC6I,YAAY,CAACxI,IAAI,CAAC;UACrBoI,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,kFAAkF;UAC3FC,SAAS,EAAE,IAAIC,IAAI;SACpB,CAAC;MACJ;KACD,CAAC;EACN;;;uBA/gEWrM,kBAAkB;IAAA;EAAA;;;YAAlBA,kBAAkB;MAAAqU;MAAAC;QAAA;;;;;;;;;;;;;;;;;UClC/BvU,8BAAqC;UAGdA,kCAAkB;UAAAA,iBAAK;UACxCA,4BAA2B;UAAAA,yFAAyE;UAAAA,iBAAI;UAI5GA,8BAAkC;UAITA,gCAAe;UAAAA,iBAAK;UACrCA,4BAAK;UAG8DA,+BAAc;UAAAA,iBAAQ;UACnFA,kCAO8B;UAF5BA;YAAA;UAAA,EAAmC;YAAA,OACpB0F,uBAAmB;UAAA,EADC;UALrC1F,iBAO8B;UAC9BA,mCAI4C;UAD1CA;YAAA,OAAS0F,uBAAmB;UAAA,EAAC;UAE7B1F,yBAA4B;UAC9BA,iBAAS;UAEXA,mCAA0D;UAAnBA;YAAA,OAAS0F,YAAQ;UAAA,EAAC;UACvD1F,yBAAqC;UAACA,0BACxC;UAAAA,iBAAS;UAIfA,gCAAwE;UACtEA,sEAIM;UAENA,sEAEM;UAENA,wEAoBM;UACRA,iBAAM;UAIVA,gCAAyC;UAGlBA,6BAAY;UAAAA,iBAAK;UAEpCA,gCAA0C;UAGtCA,uEAyBM;UAENA,sEAMM;UACRA,iBAAM;UAGNA,gCAAwB;UAIbA;YAAA;UAAA,EAA4B;YAAA,OACb0F,qBAAiB;UAAA,EADJ;UAFnC1F,iBAGyC;UACzCA,mCAA0E;UAA5BA;YAAA,OAAS0F,qBAAiB;UAAA,EAAC;UACvE1F,yBAA0B;UAC5BA,iBAAS;UAEXA,gCAA+C;UACTA,qBAAI;UAAAA,iBAAO;UAC/CA,mFACF;UAAAA,iBAAM;UAQdA,gCAAuB;UAEJA,gCAAe;UAAAA,iBAAK;UAEvCA,gCAAuB;UACrBA,sEAIM;UAENA,sEAEM;UAENA,uEAsBM;UACRA,iBAAM;UAGRA,gCAAuB;UAEFA,4CAA2B;UAAAA,iBAAK;UAEnDA,gCAAuB;UAErBA,sEAKM;UAGNA,sEAEM;UAGNA,sEAEM;UAGNA,sEAwBM;UACRA,iBAAM;UAIRA,gCAAuB;UAEFA,mCAAkB;UAAAA,iBAAK;UAE1CA,gCAAuB;UAErBA,sEAkBM;UAGNA,sEAEM;UACRA,iBAAM;UAKVA,gCAAqH;UAa3DA,aAAuC;UAAAA,iBAAK;UAC9FA,8BAA4F;UAC9FA,iBAAM;UACNA,gCAAwB;UACtBA,sEAKM;UAENA,sEAEM;UAENA,uEAiBM;UACRA,iBAAM;UACNA,gCAA0B;UACgDA,sBAAK;UAAAA,iBAAS;UAO9FA,gCAAyH;UAI7DA,aAAwB;UAAAA,iBAAK;UACjFA,8BAA4F;UAC9FA,iBAAM;UACNA,gCAAwB;UACtBA,sEAKM;UAENA,sEAEM;UAENA,uEAmBM;UACRA,iBAAM;UACNA,gCAA0B;UACgDA,sBAAK;UAAAA,iBAAS;;;UAxV5EA,gBAAmC;UAAnCA,mDAAmC;UAkBrCA,eAAoB;UAApBA,yCAAoB;UAMpBA,eAAkB;UAAlBA,uCAAkB;UAIlBA,eAAwD;UAAxDA,qFAAwD;UAiCtDA,eAA+B;UAA/BA,oDAA+B;UA2BhBA,eAAe;UAAfA,0CAAe;UAc3BA,eAA4B;UAA5BA,4CAA4B;UAsBrCA,gBAA4B;UAA5BA,iDAA4B;UAM5BA,eAA0B;UAA1BA,+CAA0B;UAI1BA,eAAsD;UAAtDA,+EAAsD;UAgCtDA,eAAwB;UAAxBA,6CAAwB;UAQxBA,eAAsB;UAAtBA,2CAAsB;UAKtBA,eAAoG;UAApGA,qIAAoG;UAKpGA,eAA0E;UAA1EA,uGAA0E;UAmC1EA,eAAkE;UAAlEA,+FAAkE;UAqBlEA,eAA4F;UAA5FA,6HAA4F;UAWxEA,eASuG;UATvGA,koBASuG;UAC7EA,eAAuC;UAAvCA,oEAAuC;UAInFA,eAAwB;UAAxBA,6CAAwB;UAOxBA,eAAqD;UAArDA,8EAAqD;UAIrDA,eAAmD;UAAnDA,4EAAmD;UA8BjCA,eAA4C;UAA5CA,yDAA4C;UAChBA,eAAwB;UAAxBA,qDAAwB;UAItEA,eAAsB;UAAtBA,2CAAsB;UAOtBA,eAAiD;UAAjDA,0EAAiD;UAIjDA,eAA+C;UAA/CA,wEAA+C","names":["of","catchError","finalize","map","environment","i0","DashboardComponent","decodeIterationPath","path","decoded","replace","constructor","dashboardService","azureDevOpsService","http","sprint","summary","activity","tip","distribution","stateDistribution","longTermDevNew","supportItems","aiTips","taskStatusBoard","sprintProgress","totalTasks","devNew","inProgress","codeReview","devComplete","completed","blocked","ngOnInit","loadDashboardData","ngAfterViewInit","modalElement","document","getElementById","taskDetailsModal","bootstrap","Modal","typeModalElement","workItemTypeModal","loadSprintOverview","loadAiTips","loadingTaskDetails","taskDetailsError","loading","loadTaskStatusBoard","loadIterationData","selectedIterationPath","trim","error","console","log","getSprintDetailsByIterationPath","subscribe","next","data","iterationPath","sprintName","sprintOverview","err","loadAzureDevOpsWorkItemsWithWiql","loadSprintSummary","availableIterationPaths","includes","push","getCurrentSprint","loadActivityFeed","loadWorkItemDistribution","loadStateDistributions","getSprintSummary","sprintSummary","getActivityFeed","activityFeed","loadDailyTip","getDailyTip","dailyTip","getWorkItemDistribution","workItemDistribution","setTimeout","initializeWorkItemDistributionChart","getStateDistribution","stateDistributions","initializeStateDistributionsChart","loadLongTermDevNewItems","getLongTermDevNewItems","longTermDevNewItems","loadSupportItems","getSupportItems","getAiTips","stateDistributionChartRef","nativeElement","ctx","getContext","labels","states","s","state","count","colors","stateColors","getRandomColor","window","Chart","chart","destroy","type","datasets","backgroundColor","borderWidth","options","responsive","plugins","legend","position","title","display","text","length","iterationDistributionChartRef","iterationLabels","d","allStates","Set","forEach","dist","add","Array","from","stateName","stateColor","label","stateData","find","scales","x","stacked","y","beginAtZero","changeIterationPath","getStateColor","randomIndex","Math","floor","random","defaultChartColors","reload","expectedStatuses","typeColors","encodedPath","encodeURIComponent","url","get","pipe","workItems","statusGroups","reduce","acc","item","status","typeGroups","statusItems","Object","keys","color","statusColors","tasksByType","sort","a","b","indexA","indexOf","indexB","localeCompare","tasksByStatus","azureDevOpsWorkItems","createDummyTaskBoard","initializeStatusPieChart","statusPieChartRef","statusData","workItemCounts","filteredStatuses","filter","tooltip","callbacks","context","value","raw","total","dataset","Number","percentage","round","getStatusColor","sendChatMessage","currentMessage","userMessage","role","content","timestamp","Date","chatMessages","message","toLowerCase","startsWith","handleStatusCountQueryDirect","assignTaskRegex","assignTaskMatch","match","shorthandAssignRegex","shorthandAssignMatch","lookupTaskRegex","lookupTaskMatch","mostTasksRegex","mostTasksMatch","taskDistributionRegex","taskDistributionMatch","sprintStatusRegex","sprintStatusMatch","dashboardRegex","dashboardMatch","taskStatusRegex","taskStatusMatch","workItemTypeRegex","workItemTypeMatch","specificTasksRegex","specificTasksMatch","directTaskPathPattern","directMatch","statusCountRegex","statusCountMatch","noOfStatusRegex","noOfStatusMatch","simpleStatusRegex","simpleStatusMatch","statusCardRegex","statusCardMatch","handleStatusCountQuery","query","statusText","iteration","actualStatus","getTasksByStatusInIteration","tasks","pop","formattedResponse","taskId","parseInt","assignee","processAiTaskAssignment","response","getWorkItemById","task","statusClass","formattedMessage","id","assignedTo","assigneeDistribution","getAssigneeDistribution","mostTasksMember","name","slice","member","completionPercentage","calculateCompletionPercentage","toFixed","statusName","getDashboardCardInformation","assistantMessage","fallbackMessage","currentIterationPath","loadingAzureDevOps","azureDevOpsError","getWorkItemsByWiql","dashboardStats","statsByAssignee","updateSummaryWithAzureDevOpsCounts","loadAzureDevOpsWorkItems","getWorkItemStatusCounts","getWorkItemsByIteration","getWorkItemCounts","counts","isArray","updateTaskStatusBoardWithAzureDevOpsCounts","stateGroups","getCompletionPercentage","completedItems","getCompletedItems","totalItems","getTotalWorkItems","completedStatuses","some","showTasksForStatus","selectedStatus","loadingStatusTasks","statusTasks","show","getTaskUrl","azureDevOpsUrl","organization","project","showWorkItemsByType","selectedType","loadingTypeItems","typeItems","typeInfo","t","selectedTypeColor","queryTerm","remainder","substring","inIndex","lastIndexOf","underIndex","withinIndex","forIndex","splitIndex","knownTypes","isTypeQuery","normalizedValue","split","word","charAt","toUpperCase","join","matchingTasks","taskType","taskStatus","selectors","viewQuery"],"sourceRoot":"","sources":["E:\\Project-AI\\AI-Scrum\\frontend\\src\\app\\components\\dashboard\\dashboard.component.ts","E:\\Project-AI\\AI-Scrum\\frontend\\src\\app\\components\\dashboard\\dashboard.component.html"],"sourcesContent":["import { Component, OnInit, AfterViewInit, ElementRef, ViewChild } from '@angular/core';\nimport { DashboardService } from '../../services/dashboard.service';\nimport { AzureDevOpsService } from '../../services/azure-devops.service';\nimport { \n  SprintOverview, \n  SprintSummary, \n  ActivityFeed, \n  WorkItemDistribution, \n  LongTermDevNewItem, \n  SupportItem,\n  AiDashboardTip,\n  StateCount,\n  TaskStatusBoard,\n  TaskStatusItem,\n  ChatMessage\n} from '../../models/sprint.model';\nimport { forkJoin, of } from 'rxjs';\nimport { catchError, finalize, map } from 'rxjs/operators';\nimport { HttpClient } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\n// Import Modal from bootstrap\ndeclare var bootstrap: any;\n\ndeclare global {\n  interface Window {\n    Chart: any;\n  }\n}\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: ['./dashboard.component.scss']\n})\nexport class DashboardComponent implements OnInit, AfterViewInit {\n  @ViewChild('stateDistributionChart') stateDistributionChartRef!: ElementRef;\n  @ViewChild('iterationDistributionChart') iterationDistributionChartRef!: ElementRef;\n  @ViewChild('statusPieChart') statusPieChartRef!: ElementRef;\n  \n  sprintOverview: SprintOverview | null = null;\n  sprintSummary: SprintSummary | null = null;\n  activityFeed: ActivityFeed | null = null;\n  dailyTip: string = '';\n  workItemDistribution: WorkItemDistribution | null = null;\n  stateDistributions: WorkItemDistribution[] = [];\n  longTermDevNewItems: LongTermDevNewItem[] = [];\n  supportItems: SupportItem[] = [];\n  aiTips: AiDashboardTip | null = null;\n  \n  // Define state colors for consistency\n  stateColors: Record<string, string> = {\n    'Proposed': '#e6e6e6',\n    'New': '#b4d7a8',\n    'Dev-New': '#b4d7a8',\n    'Active': '#4a86e8',\n    'Dev-WIP': '#4a86e8',\n    'In Progress': '#4a86e8',\n    'Resolved': '#ffd966',\n    'Code Review': '#9fc5e8',\n    'QA': '#d5a6bd',\n    'Testing': '#d5a6bd',\n    'Done': '#93c47d',\n    'Closed': '#6aa84f',\n    'Completed': '#6aa84f',\n    'Blocked': '#e06666',\n    'Removed': '#999999'\n  };\n  \n  // Default chart colors if state not found in mapping\n  defaultChartColors = [\n    '#4a86e8', '#6aa84f', '#ffd966', '#e06666', '#9fc5e8', \n    '#d5a6bd', '#b4d7a8', '#e6e6e6', '#93c47d', '#6fa8dc'\n  ];\n  \n  // Properties for the new task board\n  taskStatusBoard: TaskStatusItem[] = [];\n  \n  // Properties for task details\n  loadingTaskDetails = false;\n  taskDetailsError = '';\n  tasksByStatus: { status: string; count: number; color: string }[] = [];\n  \n  // Chat properties\n  chatMessages: ChatMessage[] = [];\n  currentMessage: string = '';\n  \n  // Define status colors based on Azure DevOps board from the image\n  statusColors: Record<string, string> = {\n    'PMG - Proposed': '#e0e0e0',\n    'DEV - Yet to Start': '#9a9a9a',\n    'DEV - WIP': '#0078d4',\n    'DEV - Code Review': '#324e93',\n    'DEV - Done': '#00b7c3',\n    'DEV/QC - Reopened': '#e81123',\n    'Clarifications': '#fff100',\n    'On Hold': '#e3008c',\n    'QC - In Test Bed': '#8764b8',\n    'Completed': '#107c10'\n  };\n  \n  // Track loading and error states\n  loading = {\n    sprint: true,\n    summary: true,\n    activity: true,\n    tip: true,\n    distribution: true,\n    stateDistribution: true,\n    longTermDevNew: true,\n    supportItems: true,\n    aiTips: true,\n    taskStatusBoard: true,\n    sprintProgress: true\n  };\n  \n  error = {\n    sprint: '',\n    summary: '',\n    activity: '',\n    tip: '',\n    distribution: '',\n    stateDistribution: '',\n    longTermDevNew: '',\n    supportItems: '',\n    aiTips: '',\n    taskStatusBoard: '',\n    sprintProgress: ''\n  };\n\n  // Starting with a default Iteration Path that can be changed\n  selectedIterationPath: string = 'Techoil\\\\2.3.23';\n  availableIterationPaths: string[] = ['Techoil\\\\2.3.23'];\n\n  // Work item status counts from Azure DevOps\n  azureDevOpsWorkItems: any[] = [];\n  workItemCounts = {\n    totalTasks: 0,\n    devNew: 0,\n    inProgress: 0,\n    codeReview: 0,\n    devComplete: 0,\n    completed: 0,\n    blocked: 0\n  };\n  \n  // Assignee distribution data\n  assigneeDistribution: any = {};\n  \n  // Loading and error states\n  loadingAzureDevOps = false;\n  azureDevOpsError = '';\n\n  // Stats grouping for types and statuses\n  tasksByType: { type: string; count: number; color: string }[] = [];\n\n  // Status popup properties\n  selectedStatus: string = '';\n  statusTasks: any[] = [];\n  loadingStatusTasks: boolean = false;\n  taskDetailsModal: any;\n\n  // Work Item Type modal properties\n  selectedType: string = '';\n  selectedTypeColor: string = '';\n  typeItems: any[] = [];\n  loadingTypeItems: boolean = false;\n  workItemTypeModal: any;\n  \n  // Method to decode iteration path for display\n  decodeIterationPath(path: string): string {\n    if (!path) return '';\n    // Replace the encoded backslash with an actual backslash\n    // Handle both double-encoded (%255C) and single-encoded (%5C) backslashes\n    let decoded = path.replace(/%255C/g, '\\\\');\n    decoded = decoded.replace(/%5C/g, '\\\\');\n    decoded = decoded.replace(/%5c/g, '\\\\');\n    return decoded;\n  }\n\n  constructor(\n    private dashboardService: DashboardService,\n    private azureDevOpsService: AzureDevOpsService,\n    private http: HttpClient\n  ) { }\n\n  ngOnInit(): void {\n    this.loadDashboardData();\n  }\n\n  ngAfterViewInit(): void {\n    // Initialize the task status modal\n    const modalElement = document.getElementById('taskStatusModal');\n    if (modalElement) {\n      this.taskDetailsModal = new bootstrap.Modal(modalElement);\n    }\n    \n    // Initialize the work item type modal\n    const typeModalElement = document.getElementById('workItemTypeModal');\n    if (typeModalElement) {\n      this.workItemTypeModal = new bootstrap.Modal(typeModalElement);\n    }\n  }\n\n  loadDashboardData(): void {\n    this.loadSprintOverview();\n    this.loadAiTips();\n    \n    // Load Azure DevOps data for the initial iteration path\n    this.loadingTaskDetails = true;\n    this.taskDetailsError = '';\n    this.loading.sprintProgress = true;\n    this.loadTaskStatusBoard();\n  }\n\n  loadIterationData(): void {\n    // Validate iteration path\n    if (!this.selectedIterationPath) {\n      return;\n    }\n    \n    // Trim whitespace and ensure consistent formatting\n    this.selectedIterationPath = this.selectedIterationPath.trim();\n    \n    // Reset loading and error states\n    this.loading.sprint = true;\n    this.error.sprint = '';\n    this.loadingTaskDetails = true;\n    this.taskDetailsError = '';\n    this.loading.sprintProgress = true;\n    this.error.sprintProgress = '';\n    \n    console.log(`Loading data for iteration path: ${this.selectedIterationPath}`);\n    \n    // Load sprint details for the selected iteration path\n    this.dashboardService.getSprintDetailsByIterationPath(this.selectedIterationPath)\n      .subscribe({\n        next: (data) => {\n          console.log('Sprint details loaded:', data);\n          // Ensure proper display by decoding the iteration path\n          if (data.iterationPath) {\n            data.sprintName = this.decodeIterationPath(data.sprintName);\n          }\n          this.sprintOverview = data;\n          this.loading.sprint = false;\n        },\n        error: (err) => {\n          this.error.sprint = 'Failed to load sprint details';\n          this.loading.sprint = false;\n          console.error('Error loading sprint details:', err);\n        }\n      });\n    \n    // Load Azure DevOps work items directly first to get live data\n    this.loadAzureDevOpsWorkItemsWithWiql();\n    \n    // Load other dashboard data\n    this.loadSprintSummary(this.selectedIterationPath);\n    this.loadTaskStatusBoard();\n    \n    // Update available paths if this is a new one\n    if (!this.availableIterationPaths.includes(this.selectedIterationPath)) {\n      this.availableIterationPaths.push(this.selectedIterationPath);\n    }\n  }\n\n  loadSprintOverview(): void {\n    this.loading.sprint = true;\n    this.dashboardService.getCurrentSprint().subscribe({\n      next: (data) => {\n        this.sprintOverview = data;\n        // Use hard-coded iteration path instead of data.iterationPath\n        // this.selectedIterationPath = data.iterationPath;\n        this.loading.sprint = false;\n        this.loadSprintSummary(this.selectedIterationPath);\n        this.loadActivityFeed();\n        this.loadWorkItemDistribution(this.selectedIterationPath);\n        this.loadStateDistributions();\n      },\n      error: (err) => {\n        this.error.sprint = 'Failed to load sprint data';\n        this.loading.sprint = false;\n        console.error('Error loading sprint data:', err);\n      }\n    });\n  }\n\n  loadSprintSummary(iterationPath: string): void {\n    this.loading.summary = true;\n    this.dashboardService.getSprintSummary(iterationPath).subscribe({\n      next: (data) => {\n        this.sprintSummary = data;\n        this.loading.summary = false;\n      },\n      error: (err) => {\n        this.error.summary = 'Failed to load summary data';\n        this.loading.summary = false;\n        console.error('Error loading summary data:', err);\n      }\n    });\n  }\n\n  loadActivityFeed(): void {\n    this.loading.activity = true;\n    this.dashboardService.getActivityFeed().subscribe({\n      next: (data) => {\n        this.activityFeed = data;\n        this.loading.activity = false;\n      },\n      error: (err) => {\n        this.error.activity = 'Failed to load activity feed';\n        this.loading.activity = false;\n        console.error('Error loading activity feed:', err);\n      }\n    });\n  }\n\n  loadDailyTip(): void {\n    this.loading.tip = true;\n    this.dashboardService.getDailyTip().subscribe({\n      next: (data) => {\n        this.dailyTip = data.tip;\n        this.loading.tip = false;\n      },\n      error: (err) => {\n        this.error.tip = 'Failed to load daily tip';\n        this.loading.tip = false;\n        console.error('Error loading daily tip:', err);\n      }\n    });\n  }\n  \n  loadWorkItemDistribution(iterationPath?: string): void {\n    this.loading.distribution = true;\n    this.dashboardService.getWorkItemDistribution(iterationPath).subscribe({\n      next: (data) => {\n        this.workItemDistribution = data;\n        this.loading.distribution = false;\n        \n        // Initialize distribution chart after data is loaded\n        setTimeout(() => {\n          this.initializeWorkItemDistributionChart();\n        }, 100);\n      },\n      error: (err) => {\n        this.error.distribution = 'Failed to load work item distribution';\n        this.loading.distribution = false;\n        console.error('Error loading work item distribution:', err);\n      }\n    });\n  }\n  \n  loadStateDistributions(): void {\n    this.loading.stateDistribution = true;\n    this.dashboardService.getStateDistribution(this.selectedIterationPath).subscribe({\n      next: (data) => {\n        this.stateDistributions = data;\n        // Keep hard-coded iteration paths instead of dynamically loading them\n        // this.availableIterationPaths = data.map(d => d.iterationPath);\n        this.loading.stateDistribution = false;\n        \n        // Initialize state distribution chart after data is loaded\n        setTimeout(() => {\n          this.initializeStateDistributionsChart();\n        }, 100);\n      },\n      error: (err) => {\n        this.error.stateDistribution = 'Failed to load state distributions';\n        this.loading.stateDistribution = false;\n        console.error('Error loading state distributions:', err);\n      }\n    });\n  }\n  \n  loadLongTermDevNewItems(): void {\n    this.loading.longTermDevNew = true;\n    this.dashboardService.getLongTermDevNewItems(5).subscribe({\n      next: (data) => {\n        this.longTermDevNewItems = data;\n        this.loading.longTermDevNew = false;\n      },\n      error: (err) => {\n        this.error.longTermDevNew = 'Failed to load long-term Dev-New items';\n        this.loading.longTermDevNew = false;\n        console.error('Error loading long-term Dev-New items:', err);\n      }\n    });\n  }\n  \n  loadSupportItems(): void {\n    this.loading.supportItems = true;\n    this.dashboardService.getSupportItems(6).subscribe({\n      next: (data) => {\n        this.supportItems = data;\n        this.loading.supportItems = false;\n      },\n      error: (err) => {\n        this.error.supportItems = 'Failed to load support items';\n        this.loading.supportItems = false;\n        console.error('Error loading support items:', err);\n      }\n    });\n  }\n  \n  loadAiTips(): void {\n    this.loading.aiTips = true;\n    this.dashboardService.getAiTips().subscribe({\n      next: (data) => {\n        this.aiTips = data;\n        this.longTermDevNewItems = data.longTermDevNewItems;\n        this.supportItems = data.supportItems;\n        this.dailyTip = data.tip;\n        this.loading.aiTips = false;\n      },\n      error: (err) => {\n        this.error.aiTips = 'Failed to load AI tips';\n        this.loading.aiTips = false;\n        console.error('Error loading AI tips:', err);\n        // Fall back to individual methods\n        this.loadDailyTip();\n        this.loadLongTermDevNewItems();\n        this.loadSupportItems();\n      }\n    });\n  }\n  \n  initializeWorkItemDistributionChart(): void {\n    if (!this.workItemDistribution || !this.stateDistributionChartRef?.nativeElement) {\n      return;\n    }\n    \n    // Get canvas element\n    const ctx = this.stateDistributionChartRef.nativeElement.getContext('2d');\n    if (!ctx) return;\n    \n    const labels = this.workItemDistribution.states.map(s => s.state);\n    const data = this.workItemDistribution.states.map(s => s.count);\n    const colors = this.workItemDistribution.states.map(s => \n      this.stateColors[s.state] || this.getRandomColor()\n    );\n    \n    // Clear any existing chart\n    if (window.Chart && ctx.chart) {\n      ctx.chart.destroy();\n    }\n    \n    // Create new chart\n    if (window.Chart) {\n      ctx.chart = new window.Chart(ctx, {\n        type: 'pie',\n        data: {\n          labels: labels,\n          datasets: [{\n            data: data,\n            backgroundColor: colors,\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'right',\n            },\n            title: {\n              display: true,\n              text: `Work Item States - ${this.workItemDistribution.iterationPath}`\n            }\n          }\n        }\n      });\n    }\n  }\n  \n  initializeStateDistributionsChart(): void {\n    if (this.stateDistributions.length === 0 || !this.iterationDistributionChartRef?.nativeElement) {\n      return;\n    }\n    \n    // Get canvas element\n    const ctx = this.iterationDistributionChartRef.nativeElement.getContext('2d');\n    if (!ctx) return;\n    \n    // Clear any existing chart\n    if (window.Chart && ctx.chart) {\n      ctx.chart.destroy();\n    }\n    \n    // Prepare data for stacked bar chart\n    const iterationLabels = this.stateDistributions.map(d => d.iterationPath);\n    \n    // Find all unique states across all iterations\n    const allStates = new Set<string>();\n    this.stateDistributions.forEach(dist => {\n      dist.states.forEach(state => {\n        allStates.add(state.state);\n      });\n    });\n    \n    // Create datasets, one for each state\n    const datasets = Array.from(allStates).map(stateName => {\n      // Find color for this state\n      const stateColor = this.stateColors[stateName] || this.getRandomColor();\n      \n      // Create dataset for this state across all iterations\n      return {\n        label: stateName,\n        data: this.stateDistributions.map(dist => {\n          const stateData = dist.states.find(s => s.state === stateName);\n          return stateData ? stateData.count : 0;\n        }),\n        backgroundColor: stateColor\n      };\n    });\n    \n    // Create new chart\n    if (window.Chart) {\n      ctx.chart = new window.Chart(ctx, {\n        type: 'bar',\n        data: {\n          labels: iterationLabels,\n          datasets: datasets\n        },\n        options: {\n          responsive: true,\n          scales: {\n            x: {\n              stacked: true,\n            },\n            y: {\n              stacked: true,\n              beginAtZero: true\n            }\n          },\n          plugins: {\n            legend: {\n              position: 'right',\n            },\n            title: {\n              display: true,\n              text: 'Work Item Distribution by Iteration'\n            }\n          }\n        }\n      });\n    }\n  }\n  \n  changeIterationPath(iterationPath: string): void {\n    // Even with hardcoded path, keep the method in case it's called from elsewhere\n    if (iterationPath !== this.selectedIterationPath) {\n      this.selectedIterationPath = iterationPath;\n      this.loadWorkItemDistribution(iterationPath);\n      this.loadSprintSummary(iterationPath);\n    }\n  }\n  \n  getStateColor(state: string): string {\n    return this.stateColors[state] || this.getRandomColor();\n  }\n  \n  getRandomColor(): string {\n    const randomIndex = Math.floor(Math.random() * this.defaultChartColors.length);\n    return this.defaultChartColors[randomIndex];\n  }\n\n  reload(): void {\n    this.loadDashboardData();\n  }\n\n  loadTaskStatusBoard(): void {\n    this.loading.taskStatusBoard = true;\n    this.error.taskStatusBoard = '';\n    this.loadingTaskDetails = true;\n    this.taskDetailsError = '';\n    this.loading.sprintProgress = true;\n    this.error.sprintProgress = '';\n    \n    // Define the expected status order to match the image\n    const expectedStatuses = [\n      'PMG - Proposed',\n      'DEV - Yet to Start', \n      'DEV - WIP', \n      'DEV - Code Review', \n      'DEV - Done',\n      'DEV/QC - Reopened'\n    ];\n    \n    // Type colors for visualization\n    const typeColors: {[key: string]: string} = {\n      'Bug': '#e74c3c',\n      'Requirement': '#3498db',\n      'Change Request': '#2ecc71',\n      'Task': '#f39c12',\n      'Epic': '#9b59b6',\n      'User Story': '#1abc9c'\n    };\n    \n    // Use the direct API endpoint as specified\n    const encodedPath = encodeURIComponent(this.selectedIterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    \n    this.http.get<any[]>(url)\n      .pipe(\n        finalize(() => {\n          this.loading.taskStatusBoard = false;\n          this.loadingTaskDetails = false;\n          this.loading.sprintProgress = false;\n        })\n      )\n      .subscribe({\n        next: (workItems) => {\n          if (workItems && workItems.length > 0) {\n            // Group by status\n            const statusGroups: {[key: string]: any[]} = workItems.reduce((acc: {[key: string]: any[]}, item) => {\n              const status = item.status || 'Unknown';\n              if (!acc[status]) {\n                acc[status] = [];\n              }\n              acc[status].push(item);\n              return acc;\n            }, {});\n            \n            // Group by type\n            const typeGroups: {[key: string]: any[]} = workItems.reduce((acc: {[key: string]: any[]}, item) => {\n              const type = item.type || 'Unknown';\n              if (!acc[type]) {\n                acc[type] = [];\n              }\n              acc[type].push(item);\n              return acc;\n            }, {});\n            \n            // Create status items\n            let statusItems = Object.keys(statusGroups).map(status => ({\n              status: status,\n              count: statusGroups[status].length,\n              color: this.statusColors[status] || this.getStateColor(status)\n            }));\n            \n            // Create type items\n            this.tasksByType = Object.keys(typeGroups).map(type => ({\n              type: type,\n              count: typeGroups[type].length,\n              color: typeColors[type] || this.getRandomColor()\n            })).sort((a, b) => b.count - a.count);\n            \n            // Sort statuses based on expected status order\n            statusItems = statusItems.sort((a, b) => {\n              const indexA = expectedStatuses.indexOf(a.status);\n              const indexB = expectedStatuses.indexOf(b.status);\n              \n              // If both are in expectedStatuses, sort by that order\n              if (indexA !== -1 && indexB !== -1) {\n                return indexA - indexB;\n              }\n              \n              // If only one is in expectedStatuses, prioritize it\n              if (indexA !== -1) return -1;\n              if (indexB !== -1) return 1;\n              \n              // For any other statuses, sort alphabetically\n              return a.status.localeCompare(b.status);\n            });\n            \n            // Update the task status board\n            this.taskStatusBoard = statusItems;\n            \n            // Also update tasksByStatus for compatibility with older code\n            this.tasksByStatus = [...this.taskStatusBoard];\n            \n            // Save the raw workItems for sprint progress calculation\n            this.azureDevOpsWorkItems = workItems;\n            \n            console.log('Task counts by type:', this.tasksByType);\n            console.log('Task counts by status:', this.taskStatusBoard);\n          } else {\n            this.error.taskStatusBoard = 'No tasks found for this iteration';\n            this.taskDetailsError = 'No tasks found for this iteration';\n            this.error.sprintProgress = 'No tasks found for this iteration';\n            \n            // Create dummy data as a last resort\n            this.createDummyTaskBoard();\n          }\n        },\n        error: (err) => {\n          console.error('Error loading task board data:', err);\n          this.error.taskStatusBoard = 'Failed to load task board data';\n          this.taskDetailsError = 'Failed to load task data';\n          this.error.sprintProgress = 'Failed to load sprint progress data';\n          \n          // Fallback to dummy data\n          this.createDummyTaskBoard();\n        }\n      });\n  }\n  \n  createDummyTaskBoard(): void {\n    // Create dummy data to match the image\n    this.taskStatusBoard = [\n      { status: 'PMG - Proposed', count: 0, color: '#e0e0e0' },\n      { status: 'DEV - Yet to Start', count: 2, color: '#9a9a9a' },\n      { status: 'DEV - WIP', count: 4, color: '#0078d4' },\n      { status: 'DEV - Code Review', count: 2, color: '#324e93' },\n      { status: 'DEV - Done', count: 5, color: '#00b7c3' },\n      { status: 'DEV/QC - Reopened', count: 1, color: '#e81123' }\n    ];\n    \n    // Create dummy data for types\n    this.tasksByType = [\n      { type: 'Bug', count: 8, color: '#e74c3c' },\n      { type: 'Requirement', count: 6, color: '#3498db' },\n      { type: 'Change Request', count: 3, color: '#2ecc71' },\n      { type: 'Task', count: 5, color: '#f39c12' }\n    ];\n    \n    // Also update tasksByStatus for compatibility\n    this.tasksByStatus = [...this.taskStatusBoard];\n    \n    // Clear any loading and error states\n    this.loadingTaskDetails = false;\n    this.taskDetailsError = '';\n  }\n  \n  initializeStatusPieChart(): void {\n    if (!this.statusPieChartRef?.nativeElement) {\n      return;\n    }\n    \n    // Get canvas element\n    const ctx = this.statusPieChartRef.nativeElement.getContext('2d');\n    if (!ctx) return;\n    \n    // Setup data for pie chart from work item counts\n    const statusData = [\n      { status: 'Dev-New', count: this.workItemCounts.devNew, color: '#00a8e8' },\n      { status: 'In Progress', count: this.workItemCounts.inProgress, color: '#0078d4' },\n      { status: 'Code Review', count: this.workItemCounts.codeReview, color: '#8764b8' },\n      { status: 'Dev Complete', count: this.workItemCounts.devComplete, color: '#107c10' },\n      { status: 'Completed', count: this.workItemCounts.completed, color: '#00b7c3' },\n      { status: 'Blocked', count: this.workItemCounts.blocked, color: '#e81123' }\n    ];\n    \n    // Filter out states with 0 count for better visualization\n    const filteredStatuses = statusData.filter(item => item.count > 0);\n    \n    const labels = filteredStatuses.map(s => s.status);\n    const data = filteredStatuses.map(s => s.count);\n    const colors = filteredStatuses.map(s => s.color);\n    \n    // Clear any existing chart\n    if (window.Chart && ctx.chart) {\n      ctx.chart.destroy();\n    }\n    \n    // Create new chart\n    if (window.Chart) {\n      ctx.chart = new window.Chart(ctx, {\n        type: 'pie',\n        data: {\n          labels: labels,\n          datasets: [{\n            data: data,\n            backgroundColor: colors,\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'right',\n              display: true\n            },\n            title: {\n              display: true,\n              text: 'Work Item States Distribution'\n            },\n            tooltip: {\n              callbacks: {\n                label: function(context: any) {\n                  const label = context.label || '';\n                  const value = context.raw || 0;\n                  const total = context.dataset.data.reduce((a: number, b: number) => Number(a) + Number(b), 0);\n                  const percentage = Math.round((value / total) * 100);\n                  return `${label}: ${value} (${percentage}%)`;\n                }\n              }\n            }\n          }\n        }\n      });\n    }\n  }\n  \n  getStatusColor(status: string): string {\n    return this.statusColors[status] || '#9a9a9a'; // Default gray color\n  }\n  \n  // Chat methods\n  sendChatMessage(): void {\n    if (!this.currentMessage.trim()) return;\n    \n    // Add user message\n    const userMessage: ChatMessage = {\n      role: 'user',\n      content: this.currentMessage.trim(),\n      timestamp: new Date()\n    };\n    this.chatMessages.push(userMessage);\n    \n    // Store message and clear input\n    const message = this.currentMessage;\n    this.currentMessage = '';\n    \n    // Special case for \"number of status\" queries - handle these first\n    if (message.toLowerCase().startsWith('number of ') || message.toLowerCase().startsWith('no of ')) {\n      // Handle the special case directly\n      this.handleStatusCountQueryDirect(message);\n      return;\n    }\n    \n    // Check if this is a task assignment request\n    // Match patterns like: \"assign task #123 to john\", \"set task 123 for john doe\", etc.\n    const assignTaskRegex = /(?:assign|set|give)\\s+(?:task|item|work item)?(?:\\s+#)?(\\d+)\\s+(?:to|for)\\s+([a-zA-Z][a-zA-Z\\s\\.]+)/i;\n    const assignTaskMatch = message.match(assignTaskRegex);\n    \n    // Check for shorthand task assignment: \"#48044 assign to Bhavya\"\n    const shorthandAssignRegex = /#?(\\d+)\\s+(?:assign(?:ed)?|set|give)\\s+(?:to|for)\\s+([a-zA-Z][a-zA-Z\\s\\.]+)/i;\n    const shorthandAssignMatch = assignTaskMatch ? null : message.match(shorthandAssignRegex);\n    \n    // Check if this is a task lookup request\n          // Match patterns like: \"show task #123\", \"find task 123\", \"what is task 123\", etc.\n      const lookupTaskRegex = /(?:show|find|what is|get|lookup|look up|display|view)\\s+(?:task|item|work item)(?:\\s+#)?(\\d+)/i;\n      const lookupTaskMatch = message.match(lookupTaskRegex);\n    \n    // Pattern for \"who has the most tasks\"\n    const mostTasksRegex = /who has (?:the )?most (?:tasks|work items|items|work)/i;\n    const mostTasksMatch = message.match(mostTasksRegex);\n    \n    // Pattern for task distribution\n    const taskDistributionRegex = /(?:task|work|workload|work item) distribution/i;\n    const taskDistributionMatch = message.match(taskDistributionRegex);\n    \n    // Pattern for sprint status/summary\n    const sprintStatusRegex = /(?:sprint|iteration) (?:status|summary|overview|details|progress)/i;\n    const sprintStatusMatch = message.match(sprintStatusRegex);\n    \n    // Pattern for dashboard queries\n    const dashboardRegex = /(?:show|get|display|view|what(?:'|i)s|how(?:'|i)s)\\s+(?:the\\s+)?dashboard|dashboard\\s+(?:overview|status|summary|info|details)/i;\n    const dashboardMatch = message.match(dashboardRegex);\n    \n    // Pattern for task status distribution queries\n    const taskStatusRegex = /(?:task|work item)s?\\s+(?:by|in|with)\\s+status|status\\s+(?:breakdown|distribution)|(?:distribution|breakdown)\\s+(?:of|by)\\s+status/i;\n    const taskStatusMatch = message.match(taskStatusRegex);\n    \n    // Pattern for work item type queries\n    const workItemTypeRegex = /(?:work item|task)s?\\s+(?:by|per|across)\\s+type|type\\s+(?:breakdown|distribution)|(?:distribution|breakdown)\\s+(?:of|by)\\s+type/i;\n    const workItemTypeMatch = message.match(workItemTypeRegex);\n    \n    // Pattern for tasks with specific status in specific iteration\n    const specificTasksRegex = /(?:show|get|find|display|list|what(?:'|i)s)?\\s*(?:the\\s+)?(\\w+(?:[-\\s]\\w+)*)\\s+(?:tasks|work items|items)\\s+(?:under|in|for|within)\\s+(.+?)(?:\\s*\\?|$)/i;\n    const specificTasksMatch = message.match(specificTasksRegex);\n    \n    // Direct pattern for \"Active tasks under Techoil\\2.3.23\" and similar\n    const directTaskPathPattern = /^(\\w+)\\s+tasks\\s+under\\s+(.+)$/i;\n    const directMatch = !specificTasksMatch ? message.match(directTaskPathPattern) : null;\n    \n    // Pattern for questions about specific task status count\n    const statusCountRegex = /(?:how many|what is the count of|count of|number of)\\s+(\\w+(?:[-\\s]\\w+)*)\\s+(?:tasks|work items|items)/i;\n    const statusCountMatch = message.match(statusCountRegex);\n    \n    // Pattern for \"no of [status]\" queries\n    const noOfStatusRegex = /^(?:no|number) of\\s+(.+?)(?:\\s+tasks|\\s+work items|\\s+items)?(?:\\s+in|\\s+under|\\s+within|\\s+for)?\\s*(.*?)?\\s*$/i;\n    const noOfStatusMatch = message.match(noOfStatusRegex);\n    \n    // Simple pattern for just a status name question\n    const simpleStatusRegex = /^(active|code review|cs-new|dev in progress|dev-new|planned|proposed|require clarification|resolved|verified)$/i;\n    const simpleStatusMatch = message.match(simpleStatusRegex);\n    \n    // Pattern for status card questions\n    const statusCardRegex = /(?:status cards|task cards|dashboard cards|status distribution cards|task status distribution)/i;\n    const statusCardMatch = message.match(statusCardRegex);\n    \n    // Handle queries like \"number of CS-New tasks under Techoil\\2.3.23\"\n    const handleStatusCountQuery = (query: string): boolean => {\n      // Check if query matches the pattern\n      const match = query.match(noOfStatusRegex);\n      if (!match) return false;\n      \n      // Extract the status and iteration path\n      let statusText = match[1].trim();\n      const iteration = match[2]?.trim() || this.selectedIterationPath;\n      \n      // Special handling for known statuses\n      let actualStatus = statusText;\n      if (statusText.toLowerCase() === 'cs-new' || statusText.toLowerCase() === 'cs new') {\n        actualStatus = 'CS-New';\n      } else if (statusText.toLowerCase() === 'dev-new' || statusText.toLowerCase() === 'dev new') {\n        actualStatus = 'Dev-New';\n      } else if (statusText.toLowerCase() === 'dev in progress') {\n        actualStatus = 'Dev In progress';\n      } else if (statusText.toLowerCase() === 'code review') {\n        actualStatus = 'Code Review';\n      }\n      \n      // Show loading message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Retrieving the count of ${actualStatus} tasks in ${iteration}...`,\n        timestamp: new Date()\n      });\n      \n      // Get task count for this status\n      this.dashboardService.getTasksByStatusInIteration(actualStatus, iteration)\n        .subscribe({\n          next: (tasks: any[]) => {\n            this.chatMessages.pop();\n            \n            if (tasks && tasks.length > 0) {\n              const count = tasks.length;\n              let formattedResponse = `<p>Found ${count} ${actualStatus} tasks in iteration \"${iteration}\".</p>`;\n              \n              this.chatMessages.push({\n                role: 'assistant',\n                content: formattedResponse,\n                timestamp: new Date()\n              });\n            } else {\n              this.chatMessages.push({\n                role: 'assistant', \n                content: `No tasks found with status \"${actualStatus}\" in iteration \"${iteration}\".`,\n                timestamp: new Date()\n              });\n            }\n          },\n          error: (err: any) => {\n            this.chatMessages.pop();\n            console.error('Error retrieving task count:', err);\n            this.chatMessages.push({\n              role: 'assistant',\n              content: 'Sorry, I encountered an error retrieving the task count. Please try again later.',\n              timestamp: new Date()\n            });\n          }\n        });\n      \n      return true;\n    };\n    \n    if (assignTaskMatch) {\n      // This is a task assignment command\n      const taskId = parseInt(assignTaskMatch[1]);\n      const assignee = assignTaskMatch[2].trim();\n      \n      // Show thinking message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Assigning task #${taskId} to ${assignee}...`,\n        timestamp: new Date()\n      });\n      \n      // Process the assignment\n      this.dashboardService.processAiTaskAssignment(taskId, assignee).subscribe({\n        next: (response) => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          \n          // Add success message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `✅ Task #${taskId} has been successfully assigned to ${assignee}. The changes will be reflected in Azure DevOps.`,\n            timestamp: new Date()\n          });\n          \n          // Refresh task data to reflect the changes\n          this.loadTaskStatusBoard();\n        },\n        error: (err) => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          \n          console.error('Error assigning task:', err);\n          // Add error message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `❌ Sorry, I couldn't assign task #${taskId} to ${assignee}. ${err.error?.message || 'Please check if the task ID and assignee name are correct.'}`,\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (shorthandAssignMatch) {\n      // This is a shorthand task assignment command\n      const taskId = parseInt(shorthandAssignMatch[1]);\n      const assignee = shorthandAssignMatch[2].trim();\n      \n      // Show thinking message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Assigning task #${taskId} to ${assignee}...`,\n        timestamp: new Date()\n      });\n      \n      // Process the assignment\n      this.dashboardService.processAiTaskAssignment(taskId, assignee).subscribe({\n        next: (response) => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          \n          // Add success message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `✅ Task #${taskId} has been successfully assigned to ${assignee}. The changes will be reflected in Azure DevOps.`,\n            timestamp: new Date()\n          });\n          \n          // Refresh task data to reflect the changes\n          this.loadTaskStatusBoard();\n        },\n        error: (err) => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          \n          console.error('Error assigning task:', err);\n          // Add error message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `❌ Sorry, I couldn't assign task #${taskId} to ${assignee}. ${err.error?.message || 'Please check if the task ID and assignee name are correct.'}`,\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (lookupTaskMatch) {\n      // This is a task lookup command\n      const taskId = parseInt(lookupTaskMatch[1]);\n      \n      // Show thinking message\n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Looking up task #${taskId}...`,\n        timestamp: new Date()\n      });\n      \n      // Get task details\n      this.azureDevOpsService.getWorkItemById(taskId).subscribe({\n        next: (task: any) => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          \n          if (task) {\n            // Format task details as a response\n            const statusClass = task.state ? \n              (task.state.toLowerCase().includes('active') ? 'text-primary' : \n               task.state.toLowerCase().includes('new') ? 'text-success' : \n               task.state.toLowerCase().includes('closed') ? 'text-secondary' : 'text-info') : 'text-info';\n              \n            const formattedMessage = `\n              <div class=\"task-details p-2 border rounded\">\n                <h5>Task #${task.id}: ${task.title}</h5>\n                <ul class=\"list-unstyled mb-0\">\n                  <li><strong>Status:</strong> <span class=\"${statusClass}\">${task.state || 'Unknown'}</span></li>\n                  <li><strong>Assigned to:</strong> ${task.assignedTo || 'Unassigned'}</li>\n                  <li><strong>Iteration:</strong> ${this.decodeIterationPath(task.iterationPath)}</li>\n                  ${task.type ? `<li><strong>Type:</strong> ${task.type}</li>` : ''}\n                </ul>\n                <div class=\"mt-2\">\n                  <small>You can assign this task by typing: \"Assign task #${task.id} to [name]\"</small>\n                </div>\n              </div>\n            `;\n            \n            // Add task details response\n            this.chatMessages.push({\n              role: 'assistant',\n              content: formattedMessage,\n              timestamp: new Date()\n            });\n          } else {\n            // Task not found\n            this.chatMessages.push({\n              role: 'assistant',\n              content: `❌ I couldn't find task #${taskId}. Please check if the ID is correct.`,\n              timestamp: new Date()\n            });\n          }\n        },\n        error: (err: any) => {\n          // Remove the thinking message\n          this.chatMessages.pop();\n          \n          console.error('Error looking up task:', err);\n          // Add error message\n          this.chatMessages.push({\n            role: 'assistant',\n            content: `❌ Sorry, I couldn't find information for task #${taskId}. ${err.error?.message || 'Please check if the task ID is correct.'}`,\n            timestamp: new Date()\n          });\n        }\n      });\n    } else if (mostTasksMatch) {\n      // Handle \"who has the most tasks\" query locally\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing task distribution...',\n        timestamp: new Date()\n      });\n      \n      const assigneeDistribution = this.getAssigneeDistribution();\n      if (assigneeDistribution && assigneeDistribution.length > 0) {\n        // Find member with the most tasks\n        const mostTasksMember = assigneeDistribution[0]; // Already sorted by task count in getAssigneeDistribution()\n        \n        // Remove the thinking message\n        this.chatMessages.pop();\n        \n        // Create formatted response with task distribution\n        let formattedResponse = `<p><strong>${mostTasksMember.name}</strong> has the most assigned tasks (${mostTasksMember.count}).</p>`;\n        \n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2 small\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Team Member</th>\n                  <th>Task Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        \n        // Add rows for top 5 members\n        assigneeDistribution.slice(0, 5).forEach(member => {\n          formattedResponse += `\n            <tr>\n              <td>${member.name}</td>\n              <td>${member.count}</td>\n            </tr>\n          `;\n        });\n        \n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        \n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No assignee data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t determine who has the most tasks. There may be no tasks assigned yet.',\n          timestamp: new Date()\n        });\n      }\n    } else if (taskDistributionMatch) {\n      // Handle task distribution query locally\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing task distribution...',\n        timestamp: new Date()\n      });\n      \n      if (this.tasksByStatus && this.tasksByStatus.length > 0) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        \n        // Create formatted response with task distribution\n        let formattedResponse = `<p>Current task distribution in ${this.decodeIterationPath(this.selectedIterationPath)}:</p>`;\n        \n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Status</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        \n        // Add rows for all statuses\n        this.tasksByStatus.forEach(status => {\n          const statusClass = this.getStatusColor(status.status);\n          formattedResponse += `\n            <tr>\n              <td><span class=\"badge\" style=\"background-color: ${statusClass};\">${status.status}</span></td>\n              <td>${status.count}</td>\n            </tr>\n          `;\n        });\n        \n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        \n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No status data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the task distribution information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (sprintStatusMatch) {\n      // Handle sprint status query locally\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Retrieving sprint information...',\n        timestamp: new Date()\n      });\n      \n      if (this.sprintSummary) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        \n        const completionPercentage = this.calculateCompletionPercentage();\n        \n        // Create formatted response with sprint information\n        let formattedResponse = `\n          <div class=\"sprint-summary p-2 border rounded\">\n            <h5>${this.decodeIterationPath(this.selectedIterationPath)}</h5>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <ul class=\"list-unstyled mb-0\">\n                  <li><strong>Total Tasks:</strong> ${this.sprintSummary.totalTasks}</li>\n                  <li><strong>Completed Tasks:</strong> ${this.sprintSummary.completed}</li>\n                  <li><strong>In Progress:</strong> ${this.sprintSummary.inProgress}</li>\n                  <li><strong>Completion:</strong> ${this.sprintSummary.completionPercentage.toFixed(1)}%</li>\n                </ul>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"progress mb-2\" style=\"height: 20px;\">\n                  <div class=\"progress-bar\" role=\"progressbar\" \n                       style=\"width: ${completionPercentage}%;\" \n                       aria-valuenow=\"${completionPercentage}\" \n                       aria-valuemin=\"0\" \n                       aria-valuemax=\"100\">\n                    ${completionPercentage}%\n                  </div>\n                </div>\n                <p class=\"small text-muted text-center\">Sprint Progress</p>\n              </div>\n            </div>\n          </div>\n        `;\n        \n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No sprint data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the sprint information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (dashboardMatch) {\n      // Handle dashboard queries\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Retrieving dashboard information...',\n        timestamp: new Date()\n      });\n      \n      if (this.sprintSummary) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        \n        const completionPercentage = this.calculateCompletionPercentage();\n        \n        // Create formatted response with sprint information\n        let formattedResponse = `\n          <div class=\"sprint-summary p-2 border rounded\">\n            <h5>${this.decodeIterationPath(this.selectedIterationPath)}</h5>\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <ul class=\"list-unstyled mb-0\">\n                  <li><strong>Total Tasks:</strong> ${this.sprintSummary.totalTasks}</li>\n                  <li><strong>Completed Tasks:</strong> ${this.sprintSummary.completed}</li>\n                  <li><strong>In Progress:</strong> ${this.sprintSummary.inProgress}</li>\n                  <li><strong>Completion:</strong> ${this.sprintSummary.completionPercentage.toFixed(1)}%</li>\n                </ul>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"progress mb-2\" style=\"height: 20px;\">\n                  <div class=\"progress-bar\" role=\"progressbar\" \n                       style=\"width: ${completionPercentage}%;\" \n                       aria-valuenow=\"${completionPercentage}\" \n                       aria-valuemin=\"0\" \n                       aria-valuemax=\"100\">\n                    ${completionPercentage}%\n                  </div>\n                </div>\n                <p class=\"small text-muted text-center\">Sprint Progress</p>\n              </div>\n            </div>\n          </div>\n        `;\n        \n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No sprint data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the dashboard information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (taskStatusMatch) {\n      // Handle task status distribution queries\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing task status distribution...',\n        timestamp: new Date()\n      });\n      \n      if (this.tasksByStatus && this.tasksByStatus.length > 0) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        \n        // Create formatted response with task status distribution\n        let formattedResponse = `<p>Current task status distribution in ${this.decodeIterationPath(this.selectedIterationPath)}:</p>`;\n        \n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Status</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        \n        // Add rows for all statuses\n        this.tasksByStatus.forEach(status => {\n          const statusClass = this.getStatusColor(status.status);\n          formattedResponse += `\n            <tr>\n              <td><span class=\"badge\" style=\"background-color: ${statusClass};\">${status.status}</span></td>\n              <td>${status.count}</td>\n            </tr>\n          `;\n        });\n        \n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        \n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No status data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the task status distribution information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (workItemTypeMatch) {\n      // Handle work item type queries\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Analyzing work item type distribution...',\n        timestamp: new Date()\n      });\n      \n      if (this.tasksByType && this.tasksByType.length > 0) {\n        // Remove the thinking message\n        this.chatMessages.pop();\n        \n        // Create formatted response with work item type distribution\n        let formattedResponse = `<p>Current work item type distribution in ${this.decodeIterationPath(this.selectedIterationPath)}:</p>`;\n        \n        // Add a small table showing distribution\n        formattedResponse += `\n          <div class=\"mt-2\">\n            <table class=\"table table-sm\">\n              <thead>\n                <tr>\n                  <th>Type</th>\n                  <th>Count</th>\n                </tr>\n              </thead>\n              <tbody>\n        `;\n        \n        // Add rows for all types\n        this.tasksByType.forEach(type => {\n          formattedResponse += `\n            <tr>\n              <td><span class=\"badge\" style=\"background-color: ${type.color};\">${type.type}</span></td>\n              <td>${type.count}</td>\n            </tr>\n          `;\n        });\n        \n        formattedResponse += `\n              </tbody>\n            </table>\n          </div>\n        `;\n        \n        this.chatMessages.push({\n          role: 'assistant',\n          content: formattedResponse,\n          timestamp: new Date()\n        });\n      } else {\n        // No type data available\n        this.chatMessages.pop();\n        this.chatMessages.push({\n          role: 'assistant',\n          content: 'I couldn\\'t retrieve the work item type distribution information. Please try again later.',\n          timestamp: new Date()\n        });\n      }\n    } else if (specificTasksMatch) {\n      // Handle tasks with specific status in specific iteration\n      const status = specificTasksMatch[1];\n      const iteration = specificTasksMatch[2];\n      \n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Retrieving ${status} tasks in ${iteration}...`,\n        timestamp: new Date()\n      });\n      \n      this.dashboardService.getTasksByStatusInIteration(status, iteration)\n        .subscribe({\n          next: (tasks: any[]) => {\n            this.chatMessages.pop();\n            \n            if (tasks && tasks.length > 0) {\n              let formattedResponse = `<p>Found ${tasks.length} tasks with status \"${status}\" in iteration \"${iteration}\":</p>`;\n              formattedResponse += `<ul class=\"list-group\">`;\n              tasks.forEach((task: any) => {\n                formattedResponse += `\n                  <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n                    <div>\n                      <strong>#${task.id}</strong>: ${task.title}\n                      ${task.assignedTo ? `<div class=\"small text-muted\">Assigned to: ${task.assignedTo}</div>` : ''}\n                    </div>\n                    <span class=\"badge\" style=\"background-color: ${this.getStatusColor(task.status || '')};\">${task.status || 'Unknown'}</span>\n                  </li>\n                `;\n              });\n              formattedResponse += `</ul>`;\n              \n              this.chatMessages.push({\n                role: 'assistant',\n                content: formattedResponse,\n                timestamp: new Date()\n              });\n            } else {\n              this.chatMessages.push({\n                role: 'assistant',\n                content: `No tasks found with status \"${status}\" in iteration \"${iteration}\".`,\n                timestamp: new Date()\n              });\n            }\n          },\n          error: (err: any) => {\n            this.chatMessages.pop();\n            console.error('Error retrieving tasks:', err);\n            this.chatMessages.push({\n              role: 'assistant',\n              content: 'Sorry, I encountered an error retrieving the tasks. Please try again later.',\n              timestamp: new Date()\n            });\n          }\n        });\n    } else if (directMatch && handleStatusCountQuery(message)) {\n      // Successfully handled by the specialized function\n    } else if (noOfStatusMatch && handleStatusCountQuery(message)) {\n      // Successfully handled by the specialized function\n    } else if (simpleStatusMatch) {\n      // Handle simple status name questions\n      const statusName = simpleStatusMatch[1];\n      \n      this.chatMessages.push({\n        role: 'assistant',\n        content: `Retrieving information about the status \"${statusName}\" in ${this.decodeIterationPath(this.selectedIterationPath)}...`,\n        timestamp: new Date()\n      });\n      \n      this.dashboardService.getTasksByStatusInIteration(statusName, this.selectedIterationPath)\n        .subscribe({\n          next: (tasks: any[]) => {\n            this.chatMessages.pop();\n            \n            if (tasks && tasks.length > 0) {\n              const count = tasks.length;\n              let formattedResponse = `<p>Found ${count} tasks with status \"${statusName}\" in iteration \"${this.selectedIterationPath}\":</p>`;\n              \n              this.chatMessages.push({\n                role: 'assistant',\n                content: formattedResponse,\n                timestamp: new Date()\n              });\n            } else {\n              this.chatMessages.push({\n                role: 'assistant',\n                content: `No tasks found with status \"${statusName}\" in iteration \"${this.selectedIterationPath}\".`,\n                timestamp: new Date()\n              });\n            }\n          },\n          error: (err: any) => {\n            this.chatMessages.pop();\n            console.error('Error retrieving status information:', err);\n            this.chatMessages.push({\n              role: 'assistant',\n              content: 'Sorry, I encountered an error retrieving the status information. Please try again later.',\n              timestamp: new Date()\n            });\n          }\n        });\n    } else if (statusCardMatch) {\n      // Handle status card questions\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Retrieving status card information...',\n        timestamp: new Date()\n      });\n      \n      // Call API to get response for status card questions\n      this.dashboardService.getDashboardCardInformation(this.selectedIterationPath)\n        .subscribe({\n          next: (response: {message: string}) => {\n            this.chatMessages.pop();\n            \n            // Add the actual response\n            const assistantMessage: ChatMessage = {\n              role: 'assistant',\n              content: response.message,\n              timestamp: new Date()\n            };\n            this.chatMessages.push(assistantMessage);\n          },\n          error: (err: any) => {\n            this.chatMessages.pop();\n            \n            console.error('Error getting status card response:', err);\n            // Add fallback response\n            const fallbackMessage: ChatMessage = {\n              role: 'assistant',\n              content: 'Sorry, I encountered an error retrieving the status card information. Please try again later.',\n              timestamp: new Date()\n            };\n            this.chatMessages.push(fallbackMessage);\n          }\n        });\n    } else {\n      // Show loading indicator for regular chat messages\n      this.chatMessages.push({\n        role: 'assistant',\n        content: 'Thinking...',\n        timestamp: new Date()\n      });\n      \n      // Call API to get response for regular chat messages\n      this.dashboardService.sendChatMessage({\n        message: message,\n        currentIterationPath: this.selectedIterationPath\n      }).subscribe({\n        next: (response) => {\n          // Remove the loading indicator\n          this.chatMessages.pop();\n          \n          // Add the actual response\n          const assistantMessage: ChatMessage = {\n            role: 'assistant',\n            content: response.message,\n            timestamp: new Date()\n          };\n          this.chatMessages.push(assistantMessage);\n        },\n        error: (err) => {\n          // Remove the loading indicator\n          this.chatMessages.pop();\n          \n          console.error('Error getting chat response:', err);\n          // Add fallback response\n          const fallbackMessage: ChatMessage = {\n            role: 'assistant',\n            content: 'Sorry, I encountered an error processing your request. Please try again later.',\n            timestamp: new Date()\n          };\n          this.chatMessages.push(fallbackMessage);\n        }\n      });\n    }\n  }\n\n  /**\n   * Load work items from Azure DevOps for the selected iteration using WIQL API\n   */\n  loadAzureDevOpsWorkItemsWithWiql(): void {\n    this.loadingAzureDevOps = true;\n    this.azureDevOpsError = '';\n    \n    this.azureDevOpsService.getWorkItemsByWiql(this.selectedIterationPath)\n      .pipe(\n        finalize(() => {\n          this.loadingAzureDevOps = false;\n        })\n      )\n      .subscribe({\n        next: (dashboardStats) => {\n          // Store the work item counts\n          this.workItemCounts = {\n            totalTasks: dashboardStats.totalTasks,\n            devNew: dashboardStats.devNew,\n            inProgress: dashboardStats.inProgress,\n            codeReview: dashboardStats.codeReview,\n            devComplete: dashboardStats.devComplete,\n            completed: dashboardStats.completed,\n            blocked: dashboardStats.blocked\n          };\n          \n          // Store the work items if available\n          if (dashboardStats.workItems) {\n            this.azureDevOpsWorkItems = dashboardStats.workItems;\n          }\n          \n          // Store assignee distribution data\n          if (dashboardStats.statsByAssignee) {\n            this.assigneeDistribution = dashboardStats.statsByAssignee;\n          }\n          \n          // Update the summary data with the Azure DevOps counts\n          this.updateSummaryWithAzureDevOpsCounts();\n          \n          // Update pie chart\n          setTimeout(() => {\n            this.initializeStatusPieChart();\n          }, 100);\n        },\n        error: (error) => {\n          console.error('Error loading Azure DevOps work items with WIQL:', error);\n          this.azureDevOpsError = 'Failed to load Azure DevOps work items. Please try again.';\n          \n          // Fall back to the legacy method if WIQL fails\n          this.loadAzureDevOpsWorkItems();\n        }\n      });\n  }\n  \n  /**\n   * Load work items from Azure DevOps for the selected iteration\n   */\n  loadAzureDevOpsWorkItems(): void {\n    this.loadingAzureDevOps = true;\n    this.azureDevOpsError = '';\n    \n    // First try to get the status counts directly from the backend proxy\n    this.azureDevOpsService.getWorkItemStatusCounts(this.selectedIterationPath)\n      .pipe(\n        catchError(error => {\n          console.error('Error loading status counts, falling back to work items:', error);\n          // Fall back to getting work items and counting them\n          return this.azureDevOpsService.getWorkItemsByIteration(this.selectedIterationPath)\n            .pipe(\n              map(workItems => {\n                // Process the work items to get counts\n                return this.azureDevOpsService.getWorkItemCounts(workItems);\n              }),\n              catchError(err => {\n                this.azureDevOpsError = 'Failed to load Azure DevOps work items. Please try again.';\n                console.error('Error loading Azure DevOps work items:', err);\n                return of({\n                  totalTasks: 0,\n                  devNew: 0,\n                  inProgress: 0,\n                  codeReview: 0,\n                  devComplete: 0,\n                  completed: 0,\n                  blocked: 0\n                });\n              })\n            );\n        }),\n        finalize(() => {\n          this.loadingAzureDevOps = false;\n        })\n      )\n      .subscribe(counts => {\n        // Store the counts\n        this.workItemCounts = counts;\n        \n        // Also store the work items if available\n        if (Array.isArray(counts.workItems)) {\n          this.azureDevOpsWorkItems = counts.workItems;\n        }\n        \n        // Update the summary data with the Azure DevOps counts\n        this.updateSummaryWithAzureDevOpsCounts();\n      });\n  }\n  \n  /**\n   * Update summary data with the counts from Azure DevOps\n   */\n  updateSummaryWithAzureDevOpsCounts(): void {\n    console.log('Updating summary with Azure DevOps counts:', this.workItemCounts);\n    \n    // Always create a new summary object with the latest counts to ensure reactivity\n    this.sprintSummary = {\n      totalTasks: this.workItemCounts.totalTasks || 0,\n      inProgress: this.workItemCounts.inProgress || 0,\n      completed: this.workItemCounts.completed || 0,\n      blocked: this.workItemCounts.blocked || 0,\n      completionPercentage: this.calculateCompletionPercentage()\n    };\n    \n    // Also update task status board with Azure DevOps data\n    this.updateTaskStatusBoardWithAzureDevOpsCounts();\n    \n    // Create tasksByStatus data for the pie chart\n    if (this.azureDevOpsWorkItems && this.azureDevOpsWorkItems.length > 0) {\n      // Group work items by state\n      const stateGroups = this.azureDevOpsWorkItems.reduce((acc, item) => {\n        const state = item.state || 'Unknown';\n        if (!acc[state]) {\n          acc[state] = [];\n        }\n        acc[state].push(item);\n        return acc;\n      }, {});\n      \n      // Convert to tasksByStatus format\n      this.tasksByStatus = Object.keys(stateGroups).map(state => ({\n        status: state,\n        count: stateGroups[state].length,\n        color: this.getStatusColor(state)\n      })).sort((a, b) => b.count - a.count);\n      \n      // Also update taskStatusBoard for compatibility\n      this.taskStatusBoard = [...this.tasksByStatus];\n    }\n  }\n  \n  /**\n   * Calculate completion percentage based on work item counts\n   */\n  calculateCompletionPercentage(): number {\n    const total = this.workItemCounts.totalTasks;\n    if (total === 0) return 0;\n    \n    const completed = this.workItemCounts.completed;\n    return Math.round((completed / total) * 100);\n  }\n  \n  /**\n   * Update task status board with counts from Azure DevOps\n   * This method is now only used for compatibility with other parts of the code\n   */\n  updateTaskStatusBoardWithAzureDevOpsCounts(): void {\n    // Update task status board with the latest data\n    this.loadTaskStatusBoard();\n  }\n  \n  /**\n   * Get assignee data as an array for display in the UI\n   * @returns Array of assignee data with counts\n   */\n  getAssigneeDistribution(): any[] {\n    if (!this.assigneeDistribution) {\n      return [];\n    }\n    \n    return Object.keys(this.assigneeDistribution).map(assignee => {\n      return {\n        name: assignee,\n        ...this.assigneeDistribution[assignee]\n      };\n    });\n  }\n\n  /**\n   * Calculate the percentage of completed items in the current sprint\n   * @returns Percentage of completed items\n   */\n  getCompletionPercentage(): number {\n    const completedItems = this.getCompletedItems();\n    const totalItems = this.getTotalWorkItems();\n    \n    if (totalItems === 0) return 0;\n    return Math.round((completedItems / totalItems) * 100);\n  }\n  \n  /**\n   * Get the number of completed items in the current sprint\n   * @returns Number of completed items\n   */\n  getCompletedItems(): number {\n    if (!this.azureDevOpsWorkItems || this.azureDevOpsWorkItems.length === 0) {\n      return 0;\n    }\n    \n    // These statuses are considered \"completed\"\n    const completedStatuses = [\n      'Closed',\n      'Dev Complete',\n      'Moved to Production',\n      'Resolved',\n      'Test In Progress',\n      'Verified'\n    ];\n    \n    // Count items with completed statuses\n    return this.azureDevOpsWorkItems.filter(item => {\n      const status = item.status || '';\n      return completedStatuses.some(s => status.toLowerCase() === s.toLowerCase());\n    }).length;\n  }\n\n  /**\n   * Get total work items for percentage calculation\n   * @returns Total number of work items\n   */\n  getTotalWorkItems(): number {\n    return this.azureDevOpsWorkItems ? this.azureDevOpsWorkItems.length : 0;\n  }\n\n  /**\n   * Show tasks for a specific status in a modal\n   * @param status The status to show tasks for\n   */\n  showTasksForStatus(status: string): void {\n    this.selectedStatus = status;\n    this.loadingStatusTasks = true;\n    this.statusTasks = [];\n    \n    // Show the modal first, then load the data\n    if (this.taskDetailsModal) {\n      this.taskDetailsModal.show();\n    }\n    \n    // Define the API URL\n    const encodedPath = encodeURIComponent(this.selectedIterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    \n    this.http.get<any[]>(url)\n      .pipe(\n        finalize(() => {\n          this.loadingStatusTasks = false;\n        })\n      )\n      .subscribe({\n        next: (workItems) => {\n          if (workItems && workItems.length > 0) {\n            // Filter the work items by the selected status\n            this.statusTasks = workItems.filter(item => \n              item.status === status || \n              (status === 'Dev In progress' && \n               (item.status === 'Dev In Progress' || \n                (item.status.toLowerCase().includes('dev') && \n                 item.status.toLowerCase().includes('progress'))))\n            );\n          } else {\n            this.statusTasks = [];\n          }\n        },\n        error: (err) => {\n          console.error('Error loading tasks for status:', err);\n          this.statusTasks = [];\n        }\n      });\n  }\n  \n  /**\n   * Get URL for a task to link to Azure DevOps\n   * @param taskId The task ID\n   * @returns URL string for the task\n   */\n  getTaskUrl(taskId: number): string {\n    return `${environment.azureDevOpsUrl}/${environment.organization}/${environment.project}/_workitems/edit/${taskId}`;\n  }\n\n  /**\n   * Show work items for a specific type in a modal\n   * @param type The work item type to show\n   */\n  showWorkItemsByType(type: string): void {\n    this.selectedType = type;\n    this.loadingTypeItems = true;\n    this.typeItems = [];\n    \n    // Get the color for this type from tasksByType\n    const typeInfo = this.tasksByType.find(t => t.type === type);\n    this.selectedTypeColor = typeInfo ? typeInfo.color : '#0078d4';\n    \n    // Show the modal first, then load the data\n    if (this.workItemTypeModal) {\n      this.workItemTypeModal.show();\n    }\n    \n    // Define the API URL\n    const encodedPath = encodeURIComponent(this.selectedIterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    \n    this.http.get<any[]>(url)\n      .pipe(\n        finalize(() => {\n          this.loadingTypeItems = false;\n        })\n      )\n      .subscribe({\n        next: (workItems) => {\n          if (workItems && workItems.length > 0) {\n            // Filter the work items by the selected type\n            this.typeItems = workItems.filter(item => \n              (item.type && item.type.toLowerCase() === this.selectedType.toLowerCase())\n            );\n          } else {\n            this.typeItems = [];\n          }\n        },\n        error: (err) => {\n          console.error(`Error loading work items for type ${type}:`, err);\n          this.typeItems = [];\n        }\n      });\n  }\n\n  /**\n   * Directly handle \"number of X tasks\" queries with a string parsing approach\n   * @param message The user message\n   */\n  handleStatusCountQueryDirect(message: string): void {\n    let queryTerm = '';\n    let iterationPath = this.selectedIterationPath;\n    \n    // Remove \"number of\" or \"no of\" prefix\n    let remainder = '';\n    if (message.toLowerCase().startsWith('number of ')) {\n      remainder = message.substring('number of '.length);\n    } else if (message.toLowerCase().startsWith('no of ')) {\n      remainder = message.substring('no of '.length);\n    }\n    \n    // Check if there's an iteration path specified\n    const inIndex = remainder.toLowerCase().lastIndexOf(' in ');\n    const underIndex = remainder.toLowerCase().lastIndexOf(' under ');\n    const withinIndex = remainder.toLowerCase().lastIndexOf(' within ');\n    const forIndex = remainder.toLowerCase().lastIndexOf(' for ');\n    \n    let splitIndex = -1;\n    if (inIndex > 0) splitIndex = inIndex;\n    if (underIndex > 0 && (splitIndex < 0 || underIndex < splitIndex)) splitIndex = underIndex;\n    if (withinIndex > 0 && (splitIndex < 0 || withinIndex < splitIndex)) splitIndex = withinIndex;\n    if (forIndex > 0 && (splitIndex < 0 || forIndex < splitIndex)) splitIndex = forIndex;\n    \n    if (splitIndex > 0) {\n      // Extract iteration path\n      iterationPath = remainder.substring(splitIndex + 4).trim(); // +4 to skip \" in \", \" for \", etc.\n      \n      // Extract query term\n      queryTerm = remainder.substring(0, splitIndex).trim();\n    } else {\n      // No iteration path, just extract query term\n      queryTerm = remainder.trim();\n    }\n    \n    // Remove \" tasks\" or \" items\" suffix from query term if present\n    queryTerm = queryTerm.replace(/\\s+(?:tasks|work items|items)$/i, '').trim();\n    \n    console.log(`Extracted term: \"${queryTerm}\", iteration: \"${iterationPath}\"`);\n    \n    // Determine if this is a type query or a status query\n    const knownTypes = ['bug', 'task', 'user story', 'requirement', 'change request', 'code merge'];\n    const isTypeQuery = knownTypes.includes(queryTerm.toLowerCase());\n    \n    // Special handling for known statuses to ensure correct casing\n    let normalizedValue = queryTerm;\n    if (!isTypeQuery) {\n      if (queryTerm.toLowerCase() === 'cs-new' || queryTerm.toLowerCase() === 'cs new') {\n        normalizedValue = 'CS-New';\n      } else if (queryTerm.toLowerCase() === 'dev-new' || queryTerm.toLowerCase() === 'dev new') {\n        normalizedValue = 'Dev-New';\n      } else if (queryTerm.toLowerCase() === 'dev in progress') {\n        normalizedValue = 'Dev In progress';\n      } else if (queryTerm.toLowerCase() === 'code review') {\n        normalizedValue = 'Code Review';\n      } else if (queryTerm.toLowerCase() === 'planned') {\n        normalizedValue = 'Planned';\n      } else if (queryTerm.toLowerCase() === 'active') {\n        normalizedValue = 'Active';\n      }\n    } else {\n      // Capitalize the first letter of each word in the type\n      normalizedValue = queryTerm.split(' ')\n        .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n        .join(' ');\n    }\n    \n    // Show loading message\n    this.chatMessages.push({\n      role: 'assistant',\n      content: `Retrieving the count of ${normalizedValue} ${isTypeQuery ? 'work items' : 'tasks'} in ${iterationPath}...`,\n      timestamp: new Date()\n    });\n    \n    // Define direct API URL instead of using the service that might be filtering incorrectly\n    const encodedPath = encodeURIComponent(iterationPath).replace(/%5C/g, '%255C');\n    const url = `http://localhost:5000/api/tasks?iterationPath=${encodedPath}`;\n    \n    // Get all tasks for the iteration and filter by status directly\n    this.http.get<any[]>(url)\n      .subscribe({\n        next: (tasks: any[]) => {\n          this.chatMessages.pop(); // Remove loading message\n          \n          if (tasks && tasks.length > 0) {\n            // Filter tasks based on whether it's a type or status query\n            const matchingTasks = tasks.filter((task: any) => {\n              if (isTypeQuery) {\n                const taskType = task.type || '';\n                return taskType.toLowerCase() === normalizedValue.toLowerCase();\n              } else {\n                const taskStatus = task.status || '';\n                return taskStatus.toLowerCase() === normalizedValue.toLowerCase();\n              }\n            });\n            \n            const count = matchingTasks.length;\n            \n            if (count > 0) {\n              let formattedResponse = `<p>Found ${count} ${isTypeQuery ? normalizedValue : ''} ${isTypeQuery ? 'work items' : `tasks with status \"${normalizedValue}\"`} in iteration \"${iterationPath}\".</p>`;\n              \n              this.chatMessages.push({\n                role: 'assistant',\n                content: formattedResponse,\n                timestamp: new Date()\n              });\n            } else {\n              this.chatMessages.push({\n                role: 'assistant', \n                content: isTypeQuery \n                  ? `No work items found with type \"${normalizedValue}\" in iteration \"${iterationPath}\".`\n                  : `No tasks found with status \"${normalizedValue}\" in iteration \"${iterationPath}\".`,\n                timestamp: new Date()\n              });\n            }\n          } else {\n            this.chatMessages.push({\n              role: 'assistant', \n              content: `No tasks found in iteration \"${iterationPath}\".`,\n              timestamp: new Date()\n            });\n          }\n        },\n        error: (err: any) => {\n          this.chatMessages.pop();\n          console.error('Error retrieving task count:', err);\n          this.chatMessages.push({\n            role: 'assistant',\n            content: 'Sorry, I encountered an error retrieving the task count. Please try again later.',\n            timestamp: new Date()\n          });\n        }\n      });\n  }\n} ","<div class=\"dashboard-container p-4\">\n  <div class=\"row mb-4\">\n    <div class=\"col-12\">\n      <h2 class=\"mb-0\">AI Scrum Dashboard</h2>\n      <p class=\"text-muted mt-2\">Overview of sprint progress, work item distribution, and team performance</p>\n    </div>\n  </div>\n\n  <div class=\"dashboard-main-cards\">\n    <div class=\"card-container sprint-overview\">\n      <div class=\"card\">\n        <div class=\"card-header d-flex justify-content-between align-items-center\">\n          <h4 class=\"mb-0\">Sprint Overview</h4>\n          <div>\n            <div class=\"d-flex align-items-center\">\n              <div class=\"input-group input-group-sm me-2\" style=\"max-width: 250px;\">\n                <label class=\"input-group-text\" for=\"dashboardIterationPath\">Iteration Path</label>\n                <input \n                  id=\"dashboardIterationPath\"\n                  type=\"text\" \n                  class=\"form-control\" \n                  placeholder=\"Enter Iteration Path\" \n                  [(ngModel)]=\"selectedIterationPath\"\n                  (keyup.enter)=\"loadIterationData()\"\n                  aria-label=\"Iteration Path\">\n                <button \n                  class=\"btn btn-outline-primary\" \n                  type=\"button\" \n                  (click)=\"loadIterationData()\"\n                  title=\"Load data for this iteration path\">\n                  <i class=\"bi bi-search\"></i>\n                </button>\n              </div>\n              <button class=\"btn btn-primary btn-sm\" (click)=\"reload()\">\n                <i class=\"bi bi-arrow-clockwise\"></i> Refresh\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-body\" style=\"min-height: 316px; padding-bottom: 25px;\">\n          <div *ngIf=\"loading.sprint\" class=\"text-center py-4\">\n            <div class=\"spinner-border text-primary\" role=\"status\">\n              <span class=\"visually-hidden\">Loading...</span>\n            </div>\n          </div>\n          \n          <div *ngIf=\"error.sprint\" class=\"alert alert-danger\">\n            {{ error.sprint }}\n          </div>\n          \n          <div *ngIf=\"!loading.sprint && !error.sprint && sprintOverview\">\n            <h2 class=\"sprint-title\">{{ decodeIterationPath(sprintOverview.sprintName) }}</h2>\n            <div class=\"d-flex justify-content-between mt-3\">\n              <div>\n                <p class=\"text-muted mb-1\">Start Date</p>\n                <p class=\"fw-bold\">{{ sprintOverview.startDate | date:'longDate' }}</p>\n              </div>\n              <div>\n                <p class=\"text-muted mb-1\">End Date</p>\n                <p class=\"fw-bold\">{{ sprintOverview.endDate | date:'longDate' }}</p>\n              </div>\n              <div>\n                <p class=\"text-muted mb-1\">Days Remaining</p>\n                <p class=\"fw-bold days-remaining\">{{ sprintOverview.daysRemaining }}</p>\n              </div>\n            </div>\n            <div class=\"mt-3\">\n              <p class=\"text-muted mb-1\">Iteration Path</p>\n              <p class=\"fw-bold\">{{ decodeIterationPath(sprintOverview.iterationPath) }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"card-container ai-assistant\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h4 class=\"mb-0\">AI Assistant</h4>\n        </div>\n        <div class=\"card-body d-flex flex-column\">\n          <!-- Chat Messages -->\n          <div class=\"chat-messages flex-grow-1 overflow-auto mb-3\">\n            <div *ngIf=\"chatMessages.length === 0\" class=\"text-center py-3\">\n              <p class=\"text-muted\">Ask me anything about your project or tasks.</p>\n              <div class=\"chat-examples\">\n                <h6 class=\"mb-2\">Try asking me:</h6>\n                <ul class=\"list-unstyled\">\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> What are the current sprint details?</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> How many tasks are in this sprint?</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> Show me the work distribution by team member</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> Who has the most tasks assigned?</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-success me-2\">✓</span> Assign task #123 to John</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> Suggest someone for the next task assignment</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> What's the current sprint progress?</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> Show task #48044 details</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-warning me-2\">!</span> Show blocked tasks</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-primary me-2\">➤</span> Tasks in DEV - WIP status</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> Show me the dashboard</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> Show task status distribution</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> What's the breakdown by work item type?</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> How many Active tasks?</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> Dev-New</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> Show status cards</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> No of CS-New tasks</li>\n                  <li class=\"mb-2\"><span class=\"badge bg-info me-2\">i</span> Number of Planned tasks in Techoil\\2.3.23</li>\n                </ul>\n              </div>\n            </div>\n            \n            <div *ngFor=\"let msg of chatMessages\" class=\"message mb-2\"\n                 [ngClass]=\"{'user-message': msg.role === 'user', 'assistant-message': msg.role === 'assistant'}\">\n              <div class=\"message-content\">\n                <div class=\"message-text\" [innerHTML]=\"msg.content\"></div>\n                <div class=\"message-time small text-muted\">{{ msg.timestamp | date:'shortTime' }}</div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Chat Input -->\n          <div class=\"chat-input\">\n            <div class=\"input-group\">\n              <input type=\"text\" class=\"form-control\" \n                     placeholder=\"Type your message...\" \n                     [(ngModel)]=\"currentMessage\"\n                     (keyup.enter)=\"sendChatMessage()\">\n              <button class=\"btn btn-primary\" type=\"button\" (click)=\"sendChatMessage()\">\n                <i class=\"bi bi-send\"></i>\n              </button>\n            </div>\n            <div class=\"mt-2 text-center small text-muted\">\n              <span class=\"badge bg-success me-1\">New!</span> \n              You can now assign tasks by typing: \"Assign task #123 to John\"\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Task Distribution Cards -->\n    <div class=\"card mb-4\">\n    <div class=\"card-header\">\n      <h4 class=\"mb-0\">Sprint Progress</h4>\n    </div>\n    <div class=\"card-body\">\n      <div *ngIf=\"loading.sprintProgress\" class=\"text-center py-4\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n      \n      <div *ngIf=\"error.sprintProgress\" class=\"alert alert-danger\">\n        {{ error.sprintProgress }}\n      </div>\n      \n      <div *ngIf=\"!loading.sprintProgress && !error.sprintProgress\">\n        <div class=\"d-flex justify-content-between align-items-center mb-2\">\n          <div>\n            <span class=\"fw-bold\">{{ getCompletionPercentage() }}% Completed</span>\n          </div>\n          <div>\n            <span class=\"text-muted\">{{ getCompletedItems() }} of {{ getTotalWorkItems() }} items</span>\n          </div>\n        </div>\n        <div class=\"progress\" style=\"height: 20px; border-radius: 10px; box-shadow: inset 0 1px 3px rgba(0,0,0,.1);\">\n          <div class=\"progress-bar bg-success\" role=\"progressbar\" \n               [style.width.%]=\"getCompletionPercentage()\" \n               aria-valuenow=\"getCompletionPercentage()\" \n               aria-valuemin=\"0\" \n               aria-valuemax=\"100\">\n            {{ getCompletionPercentage() }}%\n          </div>\n        </div>\n        <div class=\"mt-3 small\">\n          <span class=\"badge bg-secondary me-2\">Note:</span>\n          <span class=\"text-muted\">Counts items with status: Closed, Dev Complete, Moved to Production, Resolved, Test In Progress, Verified</span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"card mb-4\">\n    <div class=\"card-header\">\n      <h4 class=\"mb-0\">Task Distribution by Status</h4>\n    </div>\n    <div class=\"card-body\">\n      <!-- Loading indicator -->\n      <div *ngIf=\"loadingTaskDetails\" class=\"text-center py-4\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n          <span class=\"visually-hidden\">Loading work item data...</span>\n        </div>\n        <p class=\"mt-2\">Fetching real-time work item counts from API...</p>\n      </div>\n      \n      <!-- Error message -->\n      <div *ngIf=\"taskDetailsError\" class=\"alert alert-danger\">\n        {{ taskDetailsError }}\n      </div>\n      \n      <!-- No data message -->\n      <div *ngIf=\"!loadingTaskDetails && (!taskStatusBoard || taskStatusBoard.length === 0) && !taskDetailsError\" class=\"text-center py-4\">\n        <p class=\"text-muted\">No work item state data available. Please select an iteration and click Search.</p>\n      </div>\n      \n      <!-- Task Status Cards -->\n      <div *ngIf=\"!loadingTaskDetails && taskStatusBoard && taskStatusBoard.length > 0\" class=\"row g-3\">\n        <div *ngFor=\"let status of taskStatusBoard\" class=\"col-md-2 col-sm-4 col-6 mb-3\">\n          <div class=\"card task-state-card h-100\" \n               [ngClass]=\"{\n                 'status-active': status.status === 'Active',\n                 'status-code-review': status.status === 'Code Review',\n                 'status-dev-progress': status.status === 'Dev In Progress' || status.status === 'Dev In progress' || status.status.toLowerCase().includes('dev') && status.status.toLowerCase().includes('progress'),\n                 'status-dev-new': status.status === 'Dev-New' || status.status === 'New',\n                 'status-planned': status.status === 'Planned',\n                 'status-cs-new': status.status === 'CS-New' || status.status === 'CS-new',\n                 'status-proposed': status.status === 'Proposed',\n                 'status-clarification': status.status === 'Require Clarification' || status.status.toLowerCase().includes('clarification'),\n                 'status-resolved': status.status === 'Resolved' || status.status === 'Done' || status.status === 'Completed',\n                 'status-verified': status.status === 'Verified' || status.status === 'Validated'\n               }\"\n               (click)=\"showTasksForStatus(status.status)\" \n               style=\"cursor: pointer;\"\n               title=\"Click to view tasks\">\n            <div class=\"card-body text-center text-white p-3\">\n              <div class=\"text-2xl font-bold mb-1\">{{ status.count }}</div>\n              <div class=\"text-lg\">{{ status.status }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Task Distribution by Type -->\n  <div class=\"card mb-4\">\n    <div class=\"card-header\">\n      <h4 class=\"mb-0\">Work Items by Type</h4>\n    </div>\n    <div class=\"card-body\">\n      <!-- Type Distribution Cards -->\n      <div *ngIf=\"!loadingTaskDetails && tasksByType && tasksByType.length > 0\" class=\"row\">\n        <div *ngFor=\"let typeItem of tasksByType\" class=\"col-md-3 mb-3\">\n          <div class=\"card task-type-card h-100\" [style.border-left-color]=\"typeItem.color\"\n               (click)=\"showWorkItemsByType(typeItem.type)\" style=\"cursor: pointer;\" \n               title=\"Click to view work items\">\n            <div class=\"card-body p-3\">\n              <div class=\"d-flex justify-content-between align-items-center mb-2\">\n                <h5 class=\"mb-0 card-title\">{{ typeItem.type }}</h5>\n                <span class=\"badge rounded-pill\" [style.background-color]=\"typeItem.color\">{{ typeItem.count }}</span>\n              </div>\n              <div class=\"progress\">\n                <div class=\"progress-bar\" [style.width.%]=\"(typeItem.count / getTotalWorkItems()) * 100\" \n                     [style.background-color]=\"typeItem.color\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- No data message -->\n      <div *ngIf=\"!loadingTaskDetails && (!tasksByType || tasksByType.length === 0) && !taskDetailsError\" class=\"text-center py-4\">\n        <p class=\"text-muted\">No work item type data available.</p>\n      </div>\n    </div>\n  </div>\n</div>\n\n<!-- Task Status Modal -->\n<div class=\"modal fade\" id=\"taskStatusModal\" tabindex=\"-1\" aria-labelledby=\"taskStatusModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\" [ngClass]=\"{'status-active-header': selectedStatus === 'Active',\n                                           'status-code-review-header': selectedStatus === 'Code Review',\n                                           'status-dev-progress-header': selectedStatus === 'Dev In Progress' || selectedStatus === 'Dev In progress',\n                                           'status-dev-new-header': selectedStatus === 'Dev-New' || selectedStatus === 'New',\n                                           'status-planned-header': selectedStatus === 'Planned',\n                                           'status-cs-new-header': selectedStatus === 'CS-New' || selectedStatus === 'CS-new',\n                                           'status-proposed-header': selectedStatus === 'Proposed',\n                                           'status-clarification-header': selectedStatus === 'Require Clarification',\n                                           'status-resolved-header': selectedStatus === 'Resolved' || selectedStatus === 'Done' || selectedStatus === 'Completed',\n                                           'status-verified-header': selectedStatus === 'Verified' || selectedStatus === 'Validated' }\">\n        <h5 class=\"modal-title\" id=\"taskStatusModalLabel\">Tasks with Status: {{ selectedStatus }}</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <div *ngIf=\"loadingStatusTasks\" class=\"text-center py-3\">\n          <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">Loading tasks...</span>\n          </div>\n          <p class=\"mt-2\">Fetching tasks with status: {{ selectedStatus }}</p>\n        </div>\n        \n        <div *ngIf=\"!loadingStatusTasks && statusTasks.length === 0\" class=\"alert alert-info\">\n          No tasks found with status: {{ selectedStatus }}\n        </div>\n        \n        <div *ngIf=\"!loadingStatusTasks && statusTasks.length > 0\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Title</th>\n                <th>Assigned To</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let task of statusTasks\">\n                <td><a [href]=\"getTaskUrl(task.id)\" target=\"_blank\">#{{ task.id }}</a></td>\n                <td>{{ task.title }}</td>\n                <td>{{ task.assignedTo || 'Unassigned' }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n      </div>\n    </div>\n  </div>\n</div> \n\n<!-- Work Item Type Modal -->\n<div class=\"modal fade\" id=\"workItemTypeModal\" tabindex=\"-1\" aria-labelledby=\"workItemTypeModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\" [style.background-color]=\"selectedTypeColor\" [style.color]=\"'white'\">\n        <h5 class=\"modal-title\" id=\"workItemTypeModalLabel\">{{ selectedType }} Items</h5>\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <div *ngIf=\"loadingTypeItems\" class=\"text-center py-3\">\n          <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">Loading items...</span>\n          </div>\n          <p class=\"mt-2\">Fetching {{ selectedType }} items...</p>\n        </div>\n        \n        <div *ngIf=\"!loadingTypeItems && typeItems.length === 0\" class=\"alert alert-info\">\n          No {{ selectedType }} items found in the current iteration.\n        </div>\n        \n        <div *ngIf=\"!loadingTypeItems && typeItems.length > 0\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Title</th>\n                <th>Assigned To</th>\n                <th>State</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let item of typeItems\">\n                <td><a [href]=\"getTaskUrl(item.id)\" target=\"_blank\">#{{ item.id }}</a></td>\n                <td>{{ item.title }}</td>\n                <td>{{ item.assignedTo || 'Unassigned' }}</td>\n                <td><span class=\"badge\" [style.background-color]=\"getStatusColor(item.status)\">{{ item.status }}</span></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\n      </div>\n    </div>\n  </div>\n</div> "]},"metadata":{},"sourceType":"module","externalDependencies":[]}